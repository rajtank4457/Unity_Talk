"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@livekit";
exports.ids = ["vendor-chunks/@livekit"];
exports.modules = {

/***/ "(ssr)/./node_modules/@livekit/components-core/dist/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@livekit/components-core/dist/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataTopic: () => (/* binding */ DataTopic),\n/* harmony export */   GRID_LAYOUTS: () => (/* binding */ GRID_LAYOUTS),\n/* harmony export */   PIN_DEFAULT_STATE: () => (/* binding */ PIN_DEFAULT_STATE),\n/* harmony export */   WIDGET_DEFAULT_STATE: () => (/* binding */ WIDGET_DEFAULT_STATE),\n/* harmony export */   activeSpeakerObserver: () => (/* binding */ activeSpeakerObserver),\n/* harmony export */   allParticipantEvents: () => (/* binding */ allParticipantEvents),\n/* harmony export */   allParticipantRoomEvents: () => (/* binding */ allParticipantRoomEvents),\n/* harmony export */   allRemoteParticipantEvents: () => (/* binding */ allRemoteParticipantEvents),\n/* harmony export */   allRemoteParticipantRoomEvents: () => (/* binding */ allRemoteParticipantRoomEvents),\n/* harmony export */   attachIfSubscribed: () => (/* binding */ attachIfSubscribed),\n/* harmony export */   computeMenuPosition: () => (/* binding */ computeMenuPosition),\n/* harmony export */   connectedParticipantObserver: () => (/* binding */ connectedParticipantObserver),\n/* harmony export */   connectedParticipantsObserver: () => (/* binding */ connectedParticipantsObserver),\n/* harmony export */   connectionStateObserver: () => (/* binding */ connectionStateObserver),\n/* harmony export */   createActiveDeviceObservable: () => (/* binding */ createActiveDeviceObservable),\n/* harmony export */   createConnectionQualityObserver: () => (/* binding */ createConnectionQualityObserver),\n/* harmony export */   createDataObserver: () => (/* binding */ createDataObserver),\n/* harmony export */   createDefaultGrammar: () => (/* binding */ createDefaultGrammar),\n/* harmony export */   createEmailRegExp: () => (/* reexport safe */ email_regex__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   createInteractingObservable: () => (/* binding */ createInteractingObservable),\n/* harmony export */   createIsSpeakingObserver: () => (/* binding */ createIsSpeakingObserver),\n/* harmony export */   createMediaDeviceObserver: () => (/* binding */ createMediaDeviceObserver),\n/* harmony export */   createTrackObserver: () => (/* binding */ createTrackObserver),\n/* harmony export */   createUrlRegExp: () => (/* binding */ createUrlRegExp),\n/* harmony export */   cssPrefix: () => (/* binding */ cssPrefix),\n/* harmony export */   encryptionStatusObservable: () => (/* binding */ encryptionStatusObservable),\n/* harmony export */   getScrollBarWidth: () => (/* binding */ getScrollBarWidth),\n/* harmony export */   getTrackByIdentifier: () => (/* binding */ getTrackByIdentifier),\n/* harmony export */   getTrackReferenceId: () => (/* binding */ getTrackReferenceId),\n/* harmony export */   getTrackReferenceSource: () => (/* binding */ getTrackReferenceSource),\n/* harmony export */   isEqualTrackRef: () => (/* binding */ isEqualTrackRef),\n/* harmony export */   isLocal: () => (/* binding */ isLocal),\n/* harmony export */   isMobileBrowser: () => (/* binding */ isMobileBrowser),\n/* harmony export */   isParticipantSourcePinned: () => (/* binding */ isParticipantSourcePinned),\n/* harmony export */   isParticipantTrackReferencePinned: () => (/* binding */ isParticipantTrackReferencePinned),\n/* harmony export */   isPlaceholderReplacement: () => (/* binding */ isPlaceholderReplacement),\n/* harmony export */   isRemote: () => (/* binding */ isRemote),\n/* harmony export */   isSourceWitOptions: () => (/* binding */ isSourceWitOptions),\n/* harmony export */   isSourcesWithOptions: () => (/* binding */ isSourcesWithOptions),\n/* harmony export */   isTrackReference: () => (/* binding */ isTrackReference),\n/* harmony export */   isTrackReferencePinned: () => (/* binding */ isTrackReferencePinned),\n/* harmony export */   isTrackReferencePlaceholder: () => (/* binding */ isTrackReferencePlaceholder),\n/* harmony export */   isWeb: () => (/* binding */ isWeb),\n/* harmony export */   loadUserChoices: () => (/* binding */ loadUserChoices),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   mutedObserver: () => (/* binding */ mutedObserver),\n/* harmony export */   observeParticipantEvents: () => (/* binding */ observeParticipantEvents),\n/* harmony export */   observeParticipantMedia: () => (/* binding */ observeParticipantMedia),\n/* harmony export */   observeRoomEvents: () => (/* binding */ observeRoomEvents),\n/* harmony export */   observeTrackEvents: () => (/* binding */ observeTrackEvents),\n/* harmony export */   participantEventSelector: () => (/* binding */ participantEventSelector),\n/* harmony export */   participantInfoObserver: () => (/* binding */ participantInfoObserver),\n/* harmony export */   participantPermissionObserver: () => (/* binding */ participantPermissionObserver),\n/* harmony export */   roomAudioPlaybackAllowedObservable: () => (/* binding */ roomAudioPlaybackAllowedObservable),\n/* harmony export */   roomEventSelector: () => (/* binding */ roomEventSelector),\n/* harmony export */   roomInfoObserver: () => (/* binding */ roomInfoObserver),\n/* harmony export */   roomObserver: () => (/* binding */ roomObserver),\n/* harmony export */   roomVideoPlaybackAllowedObservable: () => (/* binding */ roomVideoPlaybackAllowedObservable),\n/* harmony export */   saveUserChoices: () => (/* binding */ saveUserChoices),\n/* harmony export */   screenShareObserver: () => (/* binding */ screenShareObserver),\n/* harmony export */   selectGridLayout: () => (/* binding */ selectGridLayout),\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage),\n/* harmony export */   setDifference: () => (/* binding */ setDifference),\n/* harmony export */   setLogExtension: () => (/* binding */ setLogExtension),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setupChat: () => (/* binding */ setupChat),\n/* harmony export */   setupChatToggle: () => (/* binding */ setupChatToggle),\n/* harmony export */   setupClearPinButton: () => (/* binding */ setupClearPinButton),\n/* harmony export */   setupConnectionQualityIndicator: () => (/* binding */ setupConnectionQualityIndicator),\n/* harmony export */   setupDataMessageHandler: () => (/* binding */ setupDataMessageHandler),\n/* harmony export */   setupDeviceSelector: () => (/* binding */ setupDeviceSelector),\n/* harmony export */   setupDisconnectButton: () => (/* binding */ setupDisconnectButton),\n/* harmony export */   setupFocusToggle: () => (/* binding */ setupFocusToggle),\n/* harmony export */   setupLiveKitRoom: () => (/* binding */ setupLiveKitRoom),\n/* harmony export */   setupManualToggle: () => (/* binding */ setupManualToggle),\n/* harmony export */   setupMediaToggle: () => (/* binding */ setupMediaToggle),\n/* harmony export */   setupMediaTrack: () => (/* binding */ setupMediaTrack),\n/* harmony export */   setupParticipantName: () => (/* binding */ setupParticipantName),\n/* harmony export */   setupParticipantTile: () => (/* binding */ setupParticipantTile),\n/* harmony export */   setupStartAudio: () => (/* binding */ setupStartAudio),\n/* harmony export */   setupStartVideo: () => (/* binding */ setupStartVideo),\n/* harmony export */   setupTrackMutedIndicator: () => (/* binding */ setupTrackMutedIndicator),\n/* harmony export */   sortParticipants: () => (/* binding */ sortParticipants),\n/* harmony export */   sortTrackReferences: () => (/* binding */ sortTrackReferences),\n/* harmony export */   supportsScreenSharing: () => (/* binding */ supportsScreenSharing),\n/* harmony export */   tokenize: () => (/* binding */ tokenize),\n/* harmony export */   trackObservable: () => (/* binding */ trackObservable),\n/* harmony export */   trackReferencesObservable: () => (/* binding */ trackReferencesObservable),\n/* harmony export */   updatePages: () => (/* binding */ updatePages),\n/* harmony export */   wasClickOutside: () => (/* binding */ wasClickOutside)\n/* harmony export */ });\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var email_regex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! email-regex */ \"(ssr)/./node_modules/email-regex/index.js\");\n/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @floating-ui/dom */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @floating-ui/dom */ \"(ssr)/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/cjs/index.js\");\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/constants.ts\nvar cssPrefix = \"lk\";\n\n// src/utils.ts\n\n\n// src/track-reference/track-reference.types.ts\nfunction isTrackReference(trackReference) {\n  if (typeof trackReference === \"undefined\") {\n    return false;\n  }\n  return isTrackReferenceSubscribed(trackReference) || isTrackReferencePublished(trackReference);\n}\nfunction isTrackReferenceSubscribed(trackReference) {\n  var _a;\n  if (!trackReference) {\n    return false;\n  }\n  return trackReference.hasOwnProperty(\"participant\") && trackReference.hasOwnProperty(\"source\") && trackReference.hasOwnProperty(\"track\") && typeof ((_a = trackReference.publication) == null ? void 0 : _a.track) !== \"undefined\";\n}\nfunction isTrackReferencePublished(trackReference) {\n  if (!trackReference) {\n    return false;\n  }\n  return trackReference.hasOwnProperty(\"participant\") && trackReference.hasOwnProperty(\"source\") && trackReference.hasOwnProperty(\"publication\") && typeof trackReference.publication !== \"undefined\";\n}\nfunction isTrackReferencePlaceholder(trackReference) {\n  if (!trackReference) {\n    return false;\n  }\n  return trackReference.hasOwnProperty(\"participant\") && trackReference.hasOwnProperty(\"source\") && typeof trackReference.publication === \"undefined\";\n}\n\n// src/track-reference/track-reference.utils.ts\nfunction getTrackReferenceId(trackReference) {\n  if (typeof trackReference === \"string\" || typeof trackReference === \"number\") {\n    return `${trackReference}`;\n  } else if (isTrackReferencePlaceholder(trackReference)) {\n    return `${trackReference.participant.identity}_${trackReference.source}_placeholder`;\n  } else if (isTrackReference(trackReference)) {\n    return `${trackReference.participant.identity}_${trackReference.publication.source}_${trackReference.publication.trackSid}`;\n  } else {\n    throw new Error(`Can't generate a id for the given track reference: ${trackReference}`);\n  }\n}\nfunction getTrackReferenceSource(trackReference) {\n  if (isTrackReference(trackReference)) {\n    return trackReference.publication.source;\n  } else {\n    return trackReference.source;\n  }\n}\nfunction isEqualTrackRef(a, b) {\n  if (a === void 0 || b === void 0) {\n    return false;\n  }\n  if (isTrackReference(a) && isTrackReference(b)) {\n    return a.publication.trackSid === b.publication.trackSid;\n  } else {\n    return getTrackReferenceId(a) === getTrackReferenceId(b);\n  }\n}\nfunction isTrackReferencePinned(trackReference, pinState) {\n  if (typeof pinState === \"undefined\") {\n    return false;\n  }\n  if (isTrackReference(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) => pinnedTrackReference.participant.identity === trackReference.participant.identity && isTrackReference(pinnedTrackReference) && pinnedTrackReference.publication.trackSid === trackReference.publication.trackSid\n    );\n  } else if (isTrackReferencePlaceholder(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) => pinnedTrackReference.participant.identity === trackReference.participant.identity && isTrackReferencePlaceholder(pinnedTrackReference) && pinnedTrackReference.source === trackReference.source\n    );\n  } else {\n    return false;\n  }\n}\nfunction isPlaceholderReplacement(currentTrackRef, nextTrackRef) {\n  return isTrackReferencePlaceholder(currentTrackRef) && isTrackReference(nextTrackRef) && nextTrackRef.participant.identity === currentTrackRef.participant.identity && nextTrackRef.source === currentTrackRef.source;\n}\n\n// src/utils.ts\nfunction isLocal(p) {\n  return p instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant;\n}\nfunction isRemote(p) {\n  return p instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.RemoteParticipant;\n}\nvar attachIfSubscribed = (publication, element) => {\n  if (!publication)\n    return;\n  const { isSubscribed, track } = publication;\n  if (element && track) {\n    if (isSubscribed) {\n      track.attach(element);\n    } else {\n      track.detach(element);\n    }\n  }\n};\nfunction isParticipantSourcePinned(participant, source, pinState) {\n  if (pinState === void 0) {\n    return false;\n  }\n  return pinState.some(\n    ({ source: pinnedSource, participant: pinnedParticipant }) => pinnedSource === source && pinnedParticipant.identity === participant.identity\n  );\n}\nfunction isParticipantTrackReferencePinned(trackRef, pinState) {\n  if (pinState === void 0) {\n    return false;\n  }\n  return pinState.some((pinnedTrackRef) => isEqualTrackRef(pinnedTrackRef, trackRef));\n}\nfunction getScrollBarWidth() {\n  const inner = document.createElement(\"p\");\n  inner.style.width = \"100%\";\n  inner.style.height = \"200px\";\n  const outer = document.createElement(\"div\");\n  outer.style.position = \"absolute\";\n  outer.style.top = \"0px\";\n  outer.style.left = \"0px\";\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"200px\";\n  outer.style.height = \"150px\";\n  outer.style.overflow = \"hidden\";\n  outer.appendChild(inner);\n  document.body.appendChild(outer);\n  const w1 = inner.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  let w2 = inner.offsetWidth;\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n  document.body.removeChild(outer);\n  const scrollBarWidth = w1 - w2;\n  return scrollBarWidth;\n}\n\n// src/helper/detectMobileBrowser.ts\nfunction isWeb() {\n  return typeof document !== \"undefined\";\n}\nfunction isMobileBrowser() {\n  return isWeb() ? /Mobi/i.test(window.navigator.userAgent) : false;\n}\n\n// src/helper/url-regex.ts\nfunction createUrlRegExp(options) {\n  options = __spreadValues({}, options);\n  const protocol = `(?:(?:[a-z]+:)?//)?`;\n  const auth = \"(?:\\\\S+(?::\\\\S*)?@)?\";\n  const ip = new RegExp(\n    \"(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}\",\n    \"g\"\n  ).source;\n  const host = \"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\";\n  const domain = \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\";\n  const tld = `(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?`;\n  const port = \"(?::\\\\d{2,5})?\";\n  const path = '(?:[/?#][^\\\\s\"]*)?';\n  const regex = `(?:${protocol}|www\\\\.)${auth}(?:localhost|${ip}|${host}${domain}${tld})${port}${path}`;\n  return options.exact ? new RegExp(`(?:^${regex}$)`, \"i\") : new RegExp(regex, \"ig\");\n}\n\n// src/helper/emailRegex.ts\n\n\n// src/helper/floating-menu.ts\n\nfunction computeMenuPosition(button, menu) {\n  return __async(this, null, function* () {\n    const { x, y } = yield (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.computePosition)(button, menu, {\n      placement: \"top\",\n      middleware: [(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.offset)(6), (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.flip)(), (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.shift)({ padding: 5 })]\n    });\n    return { x, y };\n  });\n}\nfunction wasClickOutside(insideElement, event) {\n  const isOutside = !insideElement.contains(event.target);\n  return isOutside;\n}\n\n// src/helper/tokenizer.ts\nvar createDefaultGrammar = () => {\n  return {\n    email: (0,email_regex__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\n    url: createUrlRegExp({})\n  };\n};\nfunction tokenize(input, grammar) {\n  const matches = Object.entries(grammar).map(\n    ([type, rx], weight) => Array.from(input.matchAll(rx)).map(({ index, 0: content }) => ({\n      type,\n      weight,\n      content,\n      index: index != null ? index : 0\n    }))\n  ).flat().sort((a, b) => {\n    const d = a.index - b.index;\n    return d !== 0 ? d : a.weight - b.weight;\n  }).filter(({ index }, i, arr) => {\n    if (i === 0)\n      return true;\n    const prev = arr[i - 1];\n    return prev.index + prev.content.length <= index;\n  });\n  const tokens = [];\n  let pos = 0;\n  for (const { type, content, index } of matches) {\n    if (index > pos)\n      tokens.push(input.substring(pos, index));\n    tokens.push({ type, content });\n    pos = index + content.length;\n  }\n  if (input.length > pos)\n    tokens.push(input.substring(pos));\n  return tokens;\n}\n\n// src/helper/eventGroups.ts\n\nvar allRemoteParticipantRoomEvents = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged\n];\nvar allParticipantRoomEvents = [\n  ...allRemoteParticipantRoomEvents,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished\n];\nvar allRemoteParticipantEvents = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n];\nvar allParticipantEvents = [\n  ...allRemoteParticipantEvents,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n];\n\n// src/logger.ts\n\n\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_4__.getLogger(\"lk-components-js\");\nlog.setDefaultLevel(\"WARN\");\nfunction setLogLevel(level, options = {}) {\n  var _a;\n  log.setLevel(level);\n  (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel)((_a = options.liveKitClientLogLevel) != null ? _a : level);\n}\nfunction setLogExtension(extension, options = {}) {\n  var _a;\n  const originalFactory = log.methodFactory;\n  log.methodFactory = (methodName, configLevel, loggerName) => {\n    const rawMethod = originalFactory(methodName, configLevel, loggerName);\n    const logLevel = livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel[methodName];\n    const needLog = logLevel >= configLevel && logLevel < livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel.silent;\n    return (msg, context) => {\n      if (context)\n        rawMethod(msg, context);\n      else\n        rawMethod(msg);\n      if (needLog) {\n        extension(logLevel, msg, context);\n      }\n    };\n  };\n  log.setLevel(log.getLevel());\n  (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogExtension)((_a = options.liveKitClientLogExtension) != null ? _a : extension);\n}\n\n// src/helper/grid-layouts.ts\nvar GRID_LAYOUTS = [\n  {\n    columns: 1,\n    rows: 1,\n    name: \"1x1\",\n    minTiles: 1,\n    maxTiles: 1,\n    minWidth: 0,\n    minHeight: 0\n  },\n  {\n    columns: 1,\n    rows: 2,\n    name: \"1x2\",\n    minTiles: 2,\n    maxTiles: 2,\n    minWidth: 0,\n    minHeight: 0\n  },\n  {\n    columns: 2,\n    rows: 1,\n    name: \"2x1\",\n    minTiles: 2,\n    maxTiles: 2,\n    minWidth: 900,\n    minHeight: 0\n  },\n  {\n    columns: 2,\n    rows: 2,\n    name: \"2x2\",\n    minTiles: 3,\n    maxTiles: 4,\n    minWidth: 560,\n    minHeight: 0\n  },\n  {\n    columns: 3,\n    rows: 3,\n    name: \"3x3\",\n    minTiles: 5,\n    maxTiles: 9,\n    minWidth: 700,\n    minHeight: 0\n  },\n  {\n    columns: 4,\n    rows: 4,\n    name: \"4x4\",\n    minTiles: 10,\n    maxTiles: 16,\n    minWidth: 960,\n    minHeight: 0\n  },\n  {\n    columns: 5,\n    rows: 5,\n    name: \"5x5\",\n    minTiles: 17,\n    maxTiles: 25,\n    minWidth: 1100,\n    minHeight: 0\n  }\n];\nfunction selectGridLayout(layouts, participantCount, width, height) {\n  let currentLayoutIndex = 0;\n  let layout = layouts.find((layout_, index, allLayouts) => {\n    currentLayoutIndex = index;\n    const isBiggerLayoutAvailable = allLayouts.findIndex((l, i) => {\n      const layoutIsBiggerThanCurrent = i > index;\n      const layoutFitsSameAmountOfParticipants = l.maxTiles === layout_.maxTiles;\n      return layoutIsBiggerThanCurrent && layoutFitsSameAmountOfParticipants;\n    }) !== -1;\n    return layout_.maxTiles >= participantCount && !isBiggerLayoutAvailable;\n  });\n  if (layout === void 0) {\n    layout = layouts[layouts.length - 1];\n    if (layout) {\n      log.warn(\n        `No layout found for: participantCount: ${participantCount}, width/height: ${width}/${height} fallback to biggest available layout (${layout.name}).`\n      );\n    } else {\n      throw new Error(`No layout or fallback layout found.`);\n    }\n  }\n  if (width < layout.minWidth || height < layout.minHeight) {\n    if (currentLayoutIndex > 0) {\n      const smallerLayout = layouts[currentLayoutIndex - 1];\n      layout = selectGridLayout(\n        layouts.slice(0, currentLayoutIndex),\n        smallerLayout.maxTiles,\n        width,\n        height\n      );\n    }\n  }\n  return layout;\n}\n\n// src/helper/set-helper.ts\nfunction setDifference(setA, setB) {\n  const _difference = new Set(setA);\n  for (const elem of setB) {\n    _difference.delete(elem);\n  }\n  return _difference;\n}\n\n// src/helper/featureDetection.ts\nfunction supportsScreenSharing() {\n  return typeof navigator !== \"undefined\" && navigator.mediaDevices && !!navigator.mediaDevices.getDisplayMedia;\n}\n\n// src/types.ts\nvar PIN_DEFAULT_STATE = [];\nvar WIDGET_DEFAULT_STATE = { showChat: false, unreadMessages: 0 };\nfunction isSourceWitOptions(source) {\n  return typeof source === \"object\";\n}\nfunction isSourcesWithOptions(sources) {\n  return Array.isArray(sources) && sources.filter(isSourceWitOptions).length > 0;\n}\n\n// src/sorting/sort-track-bundles.ts\n\n\n// src/sorting/base-sort-functions.ts\n\nfunction sortParticipantsByAudioLevel(a, b) {\n  return b.audioLevel - a.audioLevel;\n}\nfunction sortParticipantsByIsSpeaking(a, b) {\n  if (a.isSpeaking === b.isSpeaking) {\n    return 0;\n  } else {\n    return a.isSpeaking ? -1 : 1;\n  }\n}\nfunction sortParticipantsByLastSpokenAT(a, b) {\n  var _a, _b, _c, _d;\n  if (a.lastSpokeAt !== void 0 || b.lastSpokeAt !== void 0) {\n    return ((_b = (_a = b.lastSpokeAt) == null ? void 0 : _a.getTime()) != null ? _b : 0) - ((_d = (_c = a.lastSpokeAt) == null ? void 0 : _c.getTime()) != null ? _d : 0);\n  } else {\n    return 0;\n  }\n}\nfunction sortParticipantsByJoinedAt(a, b) {\n  var _a, _b, _c, _d;\n  return ((_b = (_a = a.joinedAt) == null ? void 0 : _a.getTime()) != null ? _b : 0) - ((_d = (_c = b.joinedAt) == null ? void 0 : _c.getTime()) != null ? _d : 0);\n}\nfunction sortTrackReferencesByType(a, b) {\n  if (isTrackReference(a)) {\n    if (isTrackReference(b)) {\n      return 0;\n    } else {\n      return -1;\n    }\n  } else if (isTrackReference(b)) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\nfunction sortTrackRefsByIsCameraEnabled(a, b) {\n  const aVideo = a.participant.isCameraEnabled;\n  const bVideo = b.participant.isCameraEnabled;\n  if (aVideo !== bVideo) {\n    if (aVideo) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } else {\n    return 0;\n  }\n}\n\n// src/sorting/sort-track-bundles.ts\nfunction sortTrackReferences(tracks) {\n  const localTracks = [];\n  const screenShareTracks = [];\n  const cameraTracks = [];\n  const undefinedTracks = [];\n  tracks.forEach((trackRef) => {\n    if (trackRef.participant.isLocal && trackRef.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera) {\n      localTracks.push(trackRef);\n    } else if (trackRef.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare) {\n      screenShareTracks.push(trackRef);\n    } else if (trackRef.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera) {\n      cameraTracks.push(trackRef);\n    } else {\n      undefinedTracks.push(trackRef);\n    }\n  });\n  const sortedScreenShareTracks = sortScreenShareTracks(screenShareTracks);\n  const sortedCameraTracks = sortCameraTracks(cameraTracks);\n  return [...localTracks, ...sortedScreenShareTracks, ...sortedCameraTracks, ...undefinedTracks];\n}\nfunction sortScreenShareTracks(screenShareTracks) {\n  const localScreenShares = [];\n  const remoteScreenShares = [];\n  screenShareTracks.forEach((trackRef) => {\n    if (trackRef.participant.isLocal) {\n      localScreenShares.push(trackRef);\n    } else {\n      remoteScreenShares.push(trackRef);\n    }\n  });\n  localScreenShares.sort((a, b) => sortParticipantsByJoinedAt(a.participant, b.participant));\n  remoteScreenShares.sort((a, b) => sortParticipantsByJoinedAt(a.participant, b.participant));\n  const sortedScreenShareTrackRefs = [...remoteScreenShares, ...localScreenShares];\n  return sortedScreenShareTrackRefs;\n}\nfunction sortCameraTracks(cameraTrackReferences) {\n  const localCameraTracks = [];\n  const remoteCameraTracks = [];\n  cameraTrackReferences.forEach((trackRef) => {\n    if (trackRef.participant.isLocal) {\n      localCameraTracks.push(trackRef);\n    } else {\n      remoteCameraTracks.push(trackRef);\n    }\n  });\n  remoteCameraTracks.sort((a, b) => {\n    if (a.participant.isSpeaking && b.participant.isSpeaking) {\n      return sortParticipantsByAudioLevel(a.participant, b.participant);\n    }\n    if (a.participant.isSpeaking !== b.participant.isSpeaking) {\n      return sortParticipantsByIsSpeaking(a.participant, b.participant);\n    }\n    if (a.participant.lastSpokeAt !== b.participant.lastSpokeAt) {\n      return sortParticipantsByLastSpokenAT(a.participant, b.participant);\n    }\n    if (isTrackReference(a) !== isTrackReference(b)) {\n      return sortTrackReferencesByType(a, b);\n    }\n    if (a.participant.isCameraEnabled !== b.participant.isCameraEnabled) {\n      return sortTrackRefsByIsCameraEnabled(a, b);\n    }\n    return sortParticipantsByJoinedAt(a.participant, b.participant);\n  });\n  return [...localCameraTracks, ...remoteCameraTracks];\n}\n\n// src/sorting/sort-participants.ts\n\nfunction sortParticipants(participants) {\n  const sortedParticipants = [...participants];\n  sortedParticipants.sort((a, b) => {\n    if (a.isSpeaking && b.isSpeaking) {\n      return sortParticipantsByAudioLevel(a, b);\n    }\n    if (a.isSpeaking !== b.isSpeaking) {\n      return sortParticipantsByIsSpeaking(a, b);\n    }\n    if (a.lastSpokeAt !== b.lastSpokeAt) {\n      return sortParticipantsByLastSpokenAT(a, b);\n    }\n    const aVideo = a.videoTracks.size > 0;\n    const bVideo = b.videoTracks.size > 0;\n    if (aVideo !== bVideo) {\n      if (aVideo) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n    return sortParticipantsByJoinedAt(a, b);\n  });\n  const localParticipant = sortedParticipants.find((p) => p instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant);\n  if (localParticipant) {\n    const localIdx = sortedParticipants.indexOf(localParticipant);\n    if (localIdx >= 0) {\n      sortedParticipants.splice(localIdx, 1);\n      if (sortedParticipants.length > 0) {\n        sortedParticipants.splice(0, 0, localParticipant);\n      } else {\n        sortedParticipants.push(localParticipant);\n      }\n    }\n  }\n  return sortedParticipants;\n}\n\n// src/helper/array-helper.ts\nfunction chunk(input, size) {\n  return input.reduce(\n    (arr, item, idx) => {\n      return idx % size === 0 ? [...arr, [item]] : [...arr.slice(0, -1), [...arr.slice(-1)[0], item]];\n    },\n    []\n  );\n}\nfunction zip(a1, a2) {\n  const resultLength = Math.max(a1.length, a2.length);\n  return new Array(resultLength).fill([]).map((_val, idx) => [a1[idx], a2[idx]]);\n}\nfunction differenceBy(a1, a2, by) {\n  return a1.filter((c) => !a2.map((v) => by(v)).includes(by(c)));\n}\n\n// src/track-reference/test-utils.ts\n\nfunction flatTrackReferenceArray(list) {\n  return list.map((item) => {\n    if (typeof item === \"string\" || typeof item === \"number\") {\n      return `${item}`;\n    } else {\n      return getTrackReferenceId(item);\n    }\n  });\n}\n\n// src/sorting/tile-array-update.ts\nfunction visualPageChange(state, next) {\n  return {\n    dropped: differenceBy(state, next, getTrackReferenceId),\n    added: differenceBy(next, state, getTrackReferenceId)\n  };\n}\nfunction listNeedsUpdating(changes) {\n  return changes.added.length !== 0 || changes.dropped.length !== 0;\n}\nfunction findIndex(trackReference, trackReferences) {\n  const indexToReplace = trackReferences.findIndex(\n    (trackReference_) => getTrackReferenceId(trackReference_) === getTrackReferenceId(trackReference)\n  );\n  if (indexToReplace === -1) {\n    throw new Error(\n      `Element not part of the array: ${getTrackReferenceId(\n        trackReference\n      )} not in ${flatTrackReferenceArray(trackReferences)}`\n    );\n  }\n  return indexToReplace;\n}\nfunction swapItems(moveForward, moveBack, trackReferences) {\n  const indexToReplace = findIndex(moveForward, trackReferences);\n  const indexReplaceWith = findIndex(moveBack, trackReferences);\n  trackReferences.splice(indexToReplace, 1, moveBack);\n  trackReferences.splice(indexReplaceWith, 1, moveForward);\n  return trackReferences;\n}\nfunction dropItem(itemToDrop, list) {\n  const indexOfElementToDrop = findIndex(itemToDrop, list);\n  list.splice(indexOfElementToDrop, 1);\n  return list;\n}\nfunction addItem(itemToAdd, list) {\n  return [...list, itemToAdd];\n}\nfunction divideIntoPages(list, maxElementsOnPage) {\n  const pages = chunk(list, maxElementsOnPage);\n  return pages;\n}\nfunction updatePages(currentList, nextList, maxItemsOnPage) {\n  let updatedList = refreshList(currentList, nextList);\n  if (updatedList.length < nextList.length) {\n    const addedItems = differenceBy(nextList, updatedList, getTrackReferenceId);\n    updatedList = [...updatedList, ...addedItems];\n  }\n  const currentPages = divideIntoPages(updatedList, maxItemsOnPage);\n  const nextPages = divideIntoPages(nextList, maxItemsOnPage);\n  zip(currentPages, nextPages).forEach(([currentPage, nextPage], pageIndex) => {\n    if (currentPage && nextPage) {\n      const updatedPage = divideIntoPages(updatedList, maxItemsOnPage)[pageIndex];\n      const changes = visualPageChange(updatedPage, nextPage);\n      if (listNeedsUpdating(changes)) {\n        log.debug(\n          `Detected visual changes on page: ${pageIndex}, current: ${flatTrackReferenceArray(\n            currentPage\n          )}, next: ${flatTrackReferenceArray(nextPage)}`,\n          { changes }\n        );\n        if (changes.added.length === changes.dropped.length) {\n          zip(changes.added, changes.dropped).forEach(([added, dropped]) => {\n            if (added && dropped) {\n              updatedList = swapItems(added, dropped, updatedList);\n            } else {\n              throw new Error(\n                `For a swap action we need a addition and a removal one is missing: ${added}, ${dropped}`\n              );\n            }\n          });\n        }\n        if (changes.added.length === 0 && changes.dropped.length > 0) {\n          changes.dropped.forEach((item) => {\n            updatedList = dropItem(item, updatedList);\n          });\n        }\n        if (changes.added.length > 0 && changes.dropped.length === 0) {\n          changes.added.forEach((item) => {\n            updatedList = addItem(item, updatedList);\n          });\n        }\n      }\n    }\n  });\n  if (updatedList.length > nextList.length) {\n    const missingItems = differenceBy(updatedList, nextList, getTrackReferenceId);\n    updatedList = updatedList.filter(\n      (item) => !missingItems.map(getTrackReferenceId).includes(getTrackReferenceId(item))\n    );\n  }\n  return updatedList;\n}\nfunction refreshList(currentList, nextList) {\n  return currentList.map((currentItem) => {\n    const updateForCurrentItem = nextList.find(\n      (newItem_) => (\n        // If the IDs match or ..\n        getTrackReferenceId(currentItem) === getTrackReferenceId(newItem_) || // ... if the current item is a placeholder and the new item is the track reference can replace it.\n        typeof currentItem !== \"number\" && isTrackReferencePlaceholder(currentItem) && isTrackReference(newItem_) && isPlaceholderReplacement(currentItem, newItem_)\n      )\n    );\n    return updateForCurrentItem != null ? updateForCurrentItem : currentItem;\n  });\n}\n\n// src/components/mediaToggle.ts\n\n\n\n// src/observables/participant.ts\n\n\n\n// src/observables/room.ts\n\n\nfunction observeRoomEvents(room, ...events) {\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => {\n    const onRoomUpdate = () => {\n      subscribe.next(room);\n    };\n    events.forEach((evt) => {\n      room.on(evt, onRoomUpdate);\n    });\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        room.off(evt, onRoomUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(room));\n  return observable;\n}\nfunction roomEventSelector(room, event) {\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => {\n    const update = (...params) => {\n      subscribe.next(params);\n    };\n    room.on(event, update);\n    const unsubscribe = () => {\n      room.off(event, update);\n    };\n    return unsubscribe;\n  });\n  return observable;\n}\nfunction roomObserver(room) {\n  const observable = observeRoomEvents(\n    room,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnsubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.AudioPlaybackStatusChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(room));\n  return observable;\n}\nfunction connectionStateObserver(room) {\n  return roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([connectionState]) => connectionState),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(room.state)\n  );\n}\nfunction screenShareObserver(room) {\n  let screenShareSubscriber;\n  const observers = [];\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscriber) => {\n    screenShareSubscriber = subscriber;\n    return () => {\n      observers.forEach((observer) => {\n        observer.unsubscribe();\n      });\n    };\n  });\n  const screenShareTracks = [];\n  const handleSub = (publication, participant) => {\n    if (publication.source !== livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare && publication.source !== livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShareAudio) {\n      return;\n    }\n    let trackMap = screenShareTracks.find((tr) => tr.participant.identity === participant.identity);\n    const getScreenShareTracks = (participant2) => {\n      return participant2.getTracks().filter(\n        (track) => (track.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare || track.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShareAudio) && track.track\n      );\n    };\n    if (!trackMap) {\n      trackMap = {\n        participant,\n        tracks: getScreenShareTracks(participant)\n      };\n    } else {\n      const index = screenShareTracks.indexOf(trackMap);\n      screenShareTracks.splice(index, 1);\n      trackMap.tracks = getScreenShareTracks(participant);\n    }\n    if (trackMap.tracks.length > 0) {\n      screenShareTracks.push(trackMap);\n    }\n    screenShareSubscriber.next(screenShareTracks);\n  };\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscribed).subscribe(\n      ([, ...args]) => handleSub(...args)\n    )\n  );\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnsubscribed).subscribe(\n      ([, ...args]) => handleSub(...args)\n    )\n  );\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished).subscribe((args) => handleSub(...args))\n  );\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished).subscribe((args) => {\n      handleSub(...args);\n    })\n  );\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackMuted).subscribe((args) => {\n      handleSub(...args);\n    })\n  );\n  observers.push(\n    roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnmuted).subscribe((args) => {\n      handleSub(...args);\n    })\n  );\n  setTimeout(() => {\n    for (const p of room.participants.values()) {\n      p.getTracks().forEach((track) => {\n        handleSub(track, p);\n      });\n    }\n  }, 1);\n  return observable;\n}\nfunction roomInfoObserver(room) {\n  const observer = observeRoomEvents(\n    room,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((r) => {\n      return { name: r.name, metadata: r.metadata };\n    })\n  );\n  return observer;\n}\nfunction activeSpeakerObserver(room) {\n  return roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([speakers]) => speakers)\n  );\n}\nfunction createMediaDeviceObserver(kind, onError, requestPermissions = true) {\n  var _a;\n  const onDeviceChange = () => __async(this, null, function* () {\n    try {\n      const newDevices = yield livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(kind, requestPermissions);\n      deviceSubject.next(newDevices);\n    } catch (e) {\n      onError == null ? void 0 : onError(e);\n    }\n  });\n  const deviceSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  const observable = deviceSubject.pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.finalize)(() => {\n      var _a2;\n      (_a2 = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a2.removeEventListener(\"devicechange\", onDeviceChange);\n    })\n  );\n  if (typeof window !== \"undefined\") {\n    if (!window.isSecureContext) {\n      throw new Error(\n        `Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices`\n      );\n    }\n    (_a = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a.addEventListener(\"devicechange\", onDeviceChange);\n  }\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.concat)(\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(kind, requestPermissions).catch((e) => onError == null ? void 0 : onError(e)),\n    observable\n  );\n}\nfunction createDataObserver(room) {\n  return roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.DataReceived);\n}\nfunction roomAudioPlaybackAllowedObservable(room) {\n  const observable = observeRoomEvents(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.AudioPlaybackStatusChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((room2) => {\n      return { canPlayAudio: room2.canPlaybackAudio };\n    })\n  );\n  return observable;\n}\nfunction roomVideoPlaybackAllowedObservable(room) {\n  const observable = observeRoomEvents(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.VideoPlaybackStatusChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((room2) => {\n      return { canPlayVideo: room2.canPlaybackVideo };\n    })\n  );\n  return observable;\n}\nfunction createActiveDeviceObservable(room, kind) {\n  return roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveDeviceChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.filter)(([kindOfDevice]) => kindOfDevice === kind),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([kind2, deviceId]) => {\n      log.debug(\"activeDeviceObservable | RoomEvent.ActiveDeviceChanged\", { kind: kind2, deviceId });\n      return deviceId;\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(room.getActiveDevice(kind))\n  );\n}\nfunction encryptionStatusObservable(room, participant) {\n  return roomEventSelector(room, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantEncryptionStatusChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.filter)(\n      ([, p]) => participant.identity === (p == null ? void 0 : p.identity) || !p && participant.identity === room.localParticipant.identity\n    ),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([encrypted]) => encrypted),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(\n      participant instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant ? participant.isE2EEEnabled : participant.isEncrypted\n    )\n  );\n}\n\n// src/components/mediaTrack.ts\n\n\n\n// src/styles-interface/class-prefixer.ts\nfunction prefixClass(unprefixedClassName) {\n  return `${cssPrefix}-${unprefixedClassName}`;\n}\n\n// src/components/mediaTrack.ts\nfunction setupMediaTrack(trackIdentifier) {\n  const initialPub = getTrackByIdentifier(trackIdentifier);\n  const trackObserver = observeParticipantMedia(trackIdentifier.participant).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(() => {\n      return getTrackByIdentifier(trackIdentifier);\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(initialPub)\n  );\n  const className = prefixClass(\n    trackIdentifier.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera || trackIdentifier.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? \"participant-media-video\" : \"participant-media-audio\"\n  );\n  return { className, trackObserver };\n}\nfunction getTrackByIdentifier(options) {\n  if (isTrackReference(options)) {\n    return options.publication;\n  } else {\n    const { source, name, participant } = options;\n    if (source && name) {\n      return participant.getTracks().find((pub) => pub.source === source && pub.trackName === name);\n    } else if (name) {\n      return participant.getTrackByName(name);\n    } else if (source) {\n      return participant.getTrack(source);\n    } else {\n      throw new Error(\"At least one of source and name needs to be defined\");\n    }\n  }\n}\n\n// src/observables/participant.ts\nfunction observeParticipantEvents(participant, ...events) {\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => {\n    const onParticipantUpdate = () => {\n      subscribe.next(participant);\n    };\n    events.forEach((evt) => {\n      participant.on(evt, onParticipantUpdate);\n    });\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        participant.off(evt, onParticipantUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(participant));\n  return observable;\n}\nfunction observeParticipantMedia(participant) {\n  const participantObserver = observeParticipantEvents(\n    participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n    // ParticipantEvent.IsSpeakingChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.MediaDevicesError,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n    // ParticipantEvent.ConnectionQualityChanged,\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((p) => {\n      const { isMicrophoneEnabled, isCameraEnabled, isScreenShareEnabled } = p;\n      const microphoneTrack = p.getTrack(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone);\n      const cameraTrack = p.getTrack(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera);\n      const participantMedia = {\n        isCameraEnabled,\n        isMicrophoneEnabled,\n        isScreenShareEnabled,\n        cameraTrack,\n        microphoneTrack,\n        participant: p\n      };\n      return participantMedia;\n    })\n  );\n  return participantObserver;\n}\nfunction createTrackObserver(participant, options) {\n  return observeParticipantMedia(participant).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(() => {\n      return { publication: getTrackByIdentifier(options) };\n    })\n  );\n}\nfunction participantInfoObserver(participant) {\n  const observer = observeParticipantEvents(\n    participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged\n    // ParticipantEvent.LocalTrackPublished,\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(({ name, identity, metadata }) => {\n      return {\n        name,\n        identity,\n        metadata\n      };\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)({\n      name: participant.name,\n      identity: participant.identity,\n      metadata: participant.metadata\n    })\n  );\n  return observer;\n}\nfunction createConnectionQualityObserver(participant) {\n  const observer = participantEventSelector(\n    participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([quality]) => quality),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(participant.connectionQuality)\n  );\n  return observer;\n}\nfunction participantEventSelector(participant, event) {\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => {\n    const update = (...params) => {\n      subscribe.next(params);\n    };\n    participant.on(event, update);\n    const unsubscribe = () => {\n      participant.off(event, update);\n    };\n    return unsubscribe;\n  });\n  return observable;\n}\nfunction mutedObserver(trackRef) {\n  var _a, _b, _c, _d;\n  return observeParticipantEvents(\n    trackRef.participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((participant) => {\n      var _a2, _b2;\n      const pub = (_a2 = trackRef.publication) != null ? _a2 : participant.getTrack(trackRef.source);\n      return (_b2 = pub == null ? void 0 : pub.isMuted) != null ? _b2 : true;\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(\n      (_d = (_c = (_a = trackRef.publication) == null ? void 0 : _a.isMuted) != null ? _c : (_b = trackRef.participant.getTrack(trackRef.source)) == null ? void 0 : _b.isMuted) != null ? _d : true\n    )\n  );\n}\nfunction createIsSpeakingObserver(participant) {\n  return participantEventSelector(participant, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([isSpeaking]) => isSpeaking)\n  );\n}\nfunction connectedParticipantsObserver(room, options = {}) {\n  var _a;\n  let subscriber;\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((sub) => {\n    subscriber = sub;\n    return () => listener.unsubscribe();\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(Array.from(room.participants.values())));\n  const additionalRoomEvents = (_a = options.additionalRoomEvents) != null ? _a : allParticipantRoomEvents;\n  const roomEvents = Array.from(\n    /* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      ...additionalRoomEvents\n    ])\n  );\n  const listener = observeRoomEvents(room, ...roomEvents).subscribe(\n    (r) => subscriber == null ? void 0 : subscriber.next(Array.from(r.participants.values()))\n  );\n  if (room.participants.size > 0) {\n    subscriber == null ? void 0 : subscriber.next(Array.from(room.participants.values()));\n  }\n  return observable;\n}\nfunction connectedParticipantObserver(room, identity, options = {}) {\n  var _a;\n  const additionalEvents = (_a = options.additionalEvents) != null ? _a : allParticipantEvents;\n  const observable = observeRoomEvents(\n    room,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.switchMap)((r) => {\n      const participant = r.getParticipantByIdentity(identity);\n      if (participant) {\n        return observeParticipantEvents(participant, ...additionalEvents);\n      } else {\n        return new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => subscribe.next(void 0));\n      }\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(room.getParticipantByIdentity(identity))\n  );\n  return observable;\n}\nfunction participantPermissionObserver(participant) {\n  const observer = participantEventSelector(\n    participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged\n  ).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(() => participant.permissions),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(participant.permissions)\n  );\n  return observer;\n}\n\n// src/components/mediaToggle.ts\nfunction setupMediaToggle(source, room, options) {\n  const { localParticipant } = room;\n  const getSourceEnabled = (source2, localParticipant2) => {\n    let isEnabled = false;\n    switch (source2) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n        isEnabled = localParticipant2.isCameraEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n        isEnabled = localParticipant2.isMicrophoneEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n        isEnabled = localParticipant2.isScreenShareEnabled;\n        break;\n      default:\n        break;\n    }\n    return isEnabled;\n  };\n  const enabledObserver = observeParticipantMedia(localParticipant).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((media) => {\n      return getSourceEnabled(source, media.participant);\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(getSourceEnabled(source, localParticipant))\n  );\n  const pendingSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  const toggle = (forceState, captureOptions) => __async(this, null, function* () {\n    try {\n      captureOptions != null ? captureOptions : captureOptions = options;\n      pendingSubject.next(true);\n      switch (source) {\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n          yield localParticipant.setCameraEnabled(\n            forceState != null ? forceState : !localParticipant.isCameraEnabled,\n            captureOptions\n          );\n          break;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n          yield localParticipant.setMicrophoneEnabled(\n            forceState != null ? forceState : !localParticipant.isMicrophoneEnabled,\n            captureOptions\n          );\n          break;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n          yield localParticipant.setScreenShareEnabled(\n            forceState != null ? forceState : !localParticipant.isScreenShareEnabled,\n            captureOptions\n          );\n          break;\n        default:\n          break;\n      }\n    } finally {\n      pendingSubject.next(false);\n    }\n  });\n  const className = prefixClass(\"button\");\n  return {\n    className,\n    toggle,\n    enabledObserver,\n    pendingObserver: pendingSubject.asObservable()\n  };\n}\nfunction setupManualToggle() {\n  let state = false;\n  const enabledSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  const pendingSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  const toggle = (forceState) => __async(this, null, function* () {\n    pendingSubject.next(true);\n    state = forceState != null ? forceState : !state;\n    enabledSubject.next(state);\n    pendingSubject.next(false);\n  });\n  const className = prefixClass(\"button\");\n  return {\n    className,\n    toggle,\n    enabledObserver: enabledSubject.asObservable(),\n    pendingObserver: pendingSubject.asObservable()\n  };\n}\n\n// src/components/mediaDeviceSelect.ts\n\n\nfunction setupDeviceSelector(kind, room, localTrack) {\n  const activeDeviceSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(void 0);\n  const activeDeviceObservable = room ? createActiveDeviceObservable(room, kind) : activeDeviceSubject.asObservable();\n  const setActiveMediaDevice = (_0, ..._1) => __async(this, [_0, ..._1], function* (id, options = {}) {\n    var _a, _b, _c;\n    if (room) {\n      log.debug(`Switching active device of kind \"${kind}\" with id ${id}.`);\n      yield room.switchActiveDevice(kind, id, options.exact);\n      const actualDeviceId = (_a = room.getActiveDevice(kind)) != null ? _a : id;\n      if (actualDeviceId !== id && id !== \"default\") {\n        log.info(\n          `We tried to select the device with id (${id}), but the browser decided to select the device with id (${actualDeviceId}) instead.`\n        );\n      }\n      let targetTrack = void 0;\n      if (kind === \"audioinput\")\n        targetTrack = (_b = room.localParticipant.getTrack(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone)) == null ? void 0 : _b.track;\n      else if (kind === \"videoinput\") {\n        targetTrack = (_c = room.localParticipant.getTrack(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera)) == null ? void 0 : _c.track;\n      }\n      const useDefault = id === \"default\" && !targetTrack || id === \"default\" && (targetTrack == null ? void 0 : targetTrack.mediaStreamTrack.label.startsWith(\"Default\"));\n      activeDeviceSubject.next(useDefault ? id : actualDeviceId);\n    } else if (localTrack) {\n      yield localTrack.setDeviceId(options.exact ? { exact: id } : id);\n      const actualId = yield localTrack.getDeviceId();\n      activeDeviceSubject.next(\n        id === \"default\" && localTrack.mediaStreamTrack.label.startsWith(\"Default\") ? id : actualId\n      );\n    } else if (activeDeviceSubject.value !== id) {\n      log.warn(\n        \"device switch skipped, please provide either a room or a local track to switch on. \"\n      );\n      activeDeviceSubject.next(id);\n    }\n  });\n  const className = prefixClass(\"media-device-select\");\n  return {\n    className,\n    activeDeviceObservable,\n    setActiveMediaDevice\n  };\n}\n\n// src/components/disconnectButton.ts\nfunction setupDisconnectButton(room) {\n  const disconnect = (stopTracks) => {\n    room.disconnect(stopTracks);\n  };\n  const className = prefixClass(\"disconnect-button\");\n  return { className, disconnect };\n}\n\n// src/components/connectionQualityIndicator.ts\nfunction setupConnectionQualityIndicator(participant) {\n  const className = prefixClass(\"connection-quality\");\n  const connectionQualityObserver = createConnectionQualityObserver(participant);\n  return { className, connectionQualityObserver };\n}\n\n// src/components/trackMutedIndicator.ts\n\nfunction setupTrackMutedIndicator(trackRef) {\n  let classForSource = \"track-muted-indicator-camera\";\n  switch (trackRef.source) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n      classForSource = \"track-muted-indicator-camera\";\n      break;\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n      classForSource = \"track-muted-indicator-microphone\";\n      break;\n    default:\n      break;\n  }\n  const className = prefixClass(classForSource);\n  const mediaMutedObserver = mutedObserver(trackRef);\n  return { className, mediaMutedObserver };\n}\n\n// src/components/participantName.ts\nfunction setupParticipantName(participant) {\n  const infoObserver = participantInfoObserver(participant);\n  return { className: \"lk-participant-name\", infoObserver };\n}\n\n// src/components/participantTile.ts\nfunction setupParticipantTile() {\n  const className = prefixClass(\"participant-tile\");\n  return {\n    className\n  };\n}\n\n// src/components/chat.ts\n\n\n\n// src/observables/dataChannel.ts\n\n\nvar DataTopic = {\n  CHAT: \"lk-chat-topic\"\n};\nfunction sendMessage(_0, _1, _2) {\n  return __async(this, arguments, function* (localParticipant, payload, topic, options = {}) {\n    const { kind, destination } = options;\n    yield localParticipant.publishData(payload, kind != null ? kind : livekit_client__WEBPACK_IMPORTED_MODULE_0__.DataPacket_Kind.RELIABLE, {\n      destination,\n      topic\n    });\n  });\n}\nfunction setupDataMessageHandler(room, topic, onMessage) {\n  const messageObservable = createDataObserver(room).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.filter)(([, , , messageTopic]) => topic === void 0 || messageTopic === topic),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(([payload, participant, , messageTopic]) => {\n      const msg = {\n        payload,\n        topic: messageTopic,\n        from: participant\n      };\n      onMessage == null ? void 0 : onMessage(msg);\n      return msg;\n    })\n  );\n  let isSendingSubscriber;\n  const isSendingObservable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscriber) => {\n    isSendingSubscriber = subscriber;\n  });\n  const send = (_0, ..._1) => __async(this, [_0, ..._1], function* (payload, options = {}) {\n    isSendingSubscriber.next(true);\n    try {\n      yield sendMessage(room.localParticipant, payload, topic, options);\n    } finally {\n      isSendingSubscriber.next(false);\n    }\n  });\n  return { messageObservable, isSendingObservable, send };\n}\n\n// src/components/chat.ts\nvar encoder = new TextEncoder();\nvar decoder = new TextDecoder();\nvar topicSubjectMap = /* @__PURE__ */ new Map();\nvar encode = (message) => encoder.encode(JSON.stringify({ message: message.message, timestamp: message.timestamp }));\nvar decode = (message) => JSON.parse(decoder.decode(message));\nfunction setupChat(room, options) {\n  var _a, _b;\n  const onDestroyObservable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  const { messageDecoder, messageEncoder, channelTopic } = options != null ? options : {};\n  const topic = channelTopic != null ? channelTopic : DataTopic.CHAT;\n  let needsSetup = false;\n  if (!topicSubjectMap.has(room)) {\n    needsSetup = true;\n  }\n  const topicMap = (_a = topicSubjectMap.get(room)) != null ? _a : /* @__PURE__ */ new Map();\n  const messageSubject = (_b = topicMap.get(topic)) != null ? _b : new rxjs__WEBPACK_IMPORTED_MODULE_5__.Subject();\n  topicMap.set(topic, messageSubject);\n  topicSubjectMap.set(room, topicMap);\n  if (needsSetup) {\n    const { messageObservable } = setupDataMessageHandler(room, topic);\n    messageObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.takeUntil)(onDestroyObservable)).subscribe(messageSubject);\n  }\n  const finalMessageDecoder = messageDecoder != null ? messageDecoder : decode;\n  const messagesObservable = messageSubject.pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((msg) => {\n      const parsedMessage = finalMessageDecoder(msg.payload);\n      const newMessage = __spreadProps(__spreadValues({}, parsedMessage), { from: msg.from });\n      return newMessage;\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.scan)((acc, value) => [...acc, value], []),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.takeUntil)(onDestroyObservable)\n  );\n  const isSending$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(false);\n  const finalMessageEncoder = messageEncoder != null ? messageEncoder : encode;\n  const send = (message) => __async(this, null, function* () {\n    const timestamp = Date.now();\n    const encodedMsg = finalMessageEncoder({ message, timestamp });\n    isSending$.next(true);\n    try {\n      yield sendMessage(room.localParticipant, encodedMsg, topic, {\n        kind: livekit_client__WEBPACK_IMPORTED_MODULE_0__.DataPacket_Kind.RELIABLE\n      });\n      messageSubject.next({\n        payload: encodedMsg,\n        topic,\n        from: room.localParticipant\n      });\n    } finally {\n      isSending$.next(false);\n    }\n  });\n  function destroy() {\n    onDestroyObservable.next();\n    onDestroyObservable.complete();\n    topicSubjectMap.clear();\n  }\n  room.once(livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.Disconnected, destroy);\n  return { messageObservable: messagesObservable, isSendingObservable: isSending$, send };\n}\n\n// src/components/startAudio.ts\nfunction setupStartAudio() {\n  const handleStartAudioPlayback = (room) => __async(this, null, function* () {\n    log.info(\"Start Audio for room: \", room);\n    yield room.startAudio();\n  });\n  const className = prefixClass(\"start-audio-button\");\n  return { className, roomAudioPlaybackAllowedObservable, handleStartAudioPlayback };\n}\n\n// src/components/startVideo.ts\nfunction setupStartVideo() {\n  const handleStartVideoPlayback = (room) => __async(this, null, function* () {\n    log.info(\"Start Video for room: \", room);\n    yield room.startVideo();\n  });\n  const className = prefixClass(\"start-audio-button\");\n  return { className, roomVideoPlaybackAllowedObservable, handleStartVideoPlayback };\n}\n\n// src/components/chatToggle.ts\nfunction setupChatToggle() {\n  const className = [prefixClass(\"button\"), prefixClass(\"chat-toggle\")].join(\" \");\n  return { className };\n}\n\n// src/components/focusToggle.ts\nfunction setupFocusToggle() {\n  const className = [prefixClass(\"button\"), prefixClass(\"focus-toggle-button\")].join(\" \");\n  return { className };\n}\n\n// src/components/clearPinButton.ts\nfunction setupClearPinButton() {\n  const className = \"lk-clear-pin-button lk-button\";\n  return { className };\n}\n\n// src/components/room.ts\nfunction setupLiveKitRoom() {\n  const className = \"lk-room-container\";\n  return { className };\n}\n\n// src/observables/track.ts\n\n\nfunction trackObservable(track) {\n  const trackObserver = observeTrackEvents(\n    track,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.Muted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.Unmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.Subscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.Unsubscribed\n  );\n  return trackObserver;\n}\nfunction observeTrackEvents(track, ...events) {\n  const observable = new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscribe) => {\n    const onTrackUpdate = () => {\n      subscribe.next(track);\n    };\n    events.forEach((evt) => {\n      track.on(evt, onTrackUpdate);\n    });\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        track.off(evt, onTrackUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(track));\n  return observable;\n}\nfunction getTrackReferences(room, sources, onlySubscribedTracks = true) {\n  const localParticipant = room.localParticipant;\n  const allParticipants = [localParticipant, ...Array.from(room.participants.values())];\n  const trackReferences = [];\n  allParticipants.forEach((participant) => {\n    sources.forEach((source) => {\n      const sourceReferences = Array.from(\n        participant.tracks.values()\n      ).filter(\n        (track) => track.source === source && // either return all or only the ones that are subscribed\n        (!onlySubscribedTracks || track.track)\n      ).map((track) => {\n        return {\n          participant,\n          publication: track,\n          source: track.source\n        };\n      });\n      trackReferences.push(...sourceReferences);\n    });\n  });\n  return { trackReferences, participants: allParticipants };\n}\nfunction trackReferencesObservable(room, sources, options) {\n  var _a, _b;\n  const additionalRoomEvents = (_a = options.additionalRoomEvents) != null ? _a : allParticipantRoomEvents;\n  const onlySubscribedTracks = (_b = options.onlySubscribed) != null ? _b : true;\n  const roomEvents = Array.from(\n    (/* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged,\n      ...additionalRoomEvents\n    ])).values()\n  );\n  const observable = observeRoomEvents(room, ...roomEvents).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((room2) => {\n      const data = getTrackReferences(room2, sources, onlySubscribedTracks);\n      log.debug(`TrackReference[] was updated. (length ${data.trackReferences.length})`, data);\n      return data;\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.startWith)(getTrackReferences(room, sources, onlySubscribedTracks))\n  );\n  return observable;\n}\n\n// src/observables/dom-event.ts\n\nfunction createInteractingObservable(htmlElement, inactiveAfter = 1e3) {\n  if (htmlElement === null)\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(false);\n  const move$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.fromEvent)(htmlElement, \"mousemove\", { passive: true }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)(() => true));\n  const moveAndStop$ = move$.pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.timeout)({\n      each: inactiveAfter,\n      with: () => (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(false), moveAndStop$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.skipUntil)(move$)))\n    }),\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.distinctUntilChanged)()\n  );\n  return moveAndStop$;\n}\n\n// src/persistent-storage/local-storage-helpers.ts\nfunction saveToLocalStorage(key, value) {\n  if (typeof localStorage === \"undefined\") {\n    log.error(\"Local storage is not available.\");\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    log.error(`Error setting item to local storage: ${error}`);\n  }\n}\nfunction loadFromLocalStorage(key) {\n  if (typeof localStorage === \"undefined\") {\n    log.error(\"Local storage is not available.\");\n    return void 0;\n  }\n  try {\n    const item = localStorage.getItem(key);\n    if (!item) {\n      log.warn(`Item with key ${key} does not exist in local storage.`);\n      return void 0;\n    }\n    return JSON.parse(item);\n  } catch (error) {\n    log.error(`Error getting item from local storage: ${error}`);\n    return void 0;\n  }\n}\nfunction createLocalStorageInterface(key) {\n  return {\n    load: () => loadFromLocalStorage(key),\n    save: (value) => saveToLocalStorage(key, value)\n  };\n}\n\n// src/persistent-storage/user-choices.ts\nvar USER_CHOICES_KEY = `${cssPrefix}-user-choices`;\nvar defaultUserChoices = {\n  videoEnabled: true,\n  audioEnabled: true,\n  videoDeviceId: \"\",\n  audioDeviceId: \"\",\n  username: \"\",\n  e2ee: false,\n  sharedPassphrase: \"\"\n};\nvar { load, save } = createLocalStorageInterface(USER_CHOICES_KEY);\nfunction saveUserChoices(userChoices, preventSave = false) {\n  if (preventSave === true) {\n    return;\n  }\n  const _a = userChoices, { e2ee, sharedPassphrase } = _a, toSave = __objRest(_a, [\"e2ee\", \"sharedPassphrase\"]);\n  save(toSave);\n}\nfunction loadUserChoices(defaults, preventLoad = false) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const fallback = {\n    videoEnabled: (_a = defaults == null ? void 0 : defaults.videoEnabled) != null ? _a : defaultUserChoices.videoEnabled,\n    audioEnabled: (_b = defaults == null ? void 0 : defaults.audioEnabled) != null ? _b : defaultUserChoices.audioEnabled,\n    videoDeviceId: (_c = defaults == null ? void 0 : defaults.videoDeviceId) != null ? _c : defaultUserChoices.videoDeviceId,\n    audioDeviceId: (_d = defaults == null ? void 0 : defaults.audioDeviceId) != null ? _d : defaultUserChoices.audioDeviceId,\n    username: (_e = defaults == null ? void 0 : defaults.username) != null ? _e : defaultUserChoices.username,\n    e2ee: (_f = defaults == null ? void 0 : defaults.e2ee) != null ? _f : defaultUserChoices.e2ee,\n    sharedPassphrase: (_g = defaults == null ? void 0 : defaults.sharedPassphrase) != null ? _g : defaultUserChoices.sharedPassphrase\n  };\n  if (preventLoad) {\n    return fallback;\n  } else {\n    const maybeLoadedObject = load();\n    const result = __spreadValues(__spreadValues({}, fallback), maybeLoadedObject != null ? maybeLoadedObject : {});\n    return result;\n  }\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1jb3JlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDcUU7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCLElBQUk7QUFDSixjQUFjLG9DQUFvQyxHQUFHLHNCQUFzQjtBQUMzRSxJQUFJO0FBQ0osY0FBYyxvQ0FBb0MsR0FBRyxrQ0FBa0MsR0FBRyxvQ0FBb0M7QUFDOUgsSUFBSTtBQUNKLDBFQUEwRSxlQUFlO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtB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bkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseUJBQXlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLG1EQUFtRCwrREFBK0Q7QUFDbEg7QUFDQTtBQUNBO0FBNEZFO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLWNvcmVcXGRpc3RcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fYXN5bmMgPSAoX190aGlzLCBfX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIGZ1bGZpbGxlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVqZWN0ZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGVwID0gKHgpID0+IHguZG9uZSA/IHJlc29sdmUoeC52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoeC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkoX190aGlzLCBfX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcblxuLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIGNzc1ByZWZpeCA9IFwibGtcIjtcblxuLy8gc3JjL3V0aWxzLnRzXG5pbXBvcnQgeyBMb2NhbFBhcnRpY2lwYW50LCBSZW1vdGVQYXJ0aWNpcGFudCB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuXG4vLyBzcmMvdHJhY2stcmVmZXJlbmNlL3RyYWNrLXJlZmVyZW5jZS50eXBlcy50c1xuZnVuY3Rpb24gaXNUcmFja1JlZmVyZW5jZSh0cmFja1JlZmVyZW5jZSkge1xuICBpZiAodHlwZW9mIHRyYWNrUmVmZXJlbmNlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBpc1RyYWNrUmVmZXJlbmNlU3Vic2NyaWJlZCh0cmFja1JlZmVyZW5jZSkgfHwgaXNUcmFja1JlZmVyZW5jZVB1Ymxpc2hlZCh0cmFja1JlZmVyZW5jZSk7XG59XG5mdW5jdGlvbiBpc1RyYWNrUmVmZXJlbmNlU3Vic2NyaWJlZCh0cmFja1JlZmVyZW5jZSkge1xuICB2YXIgX2E7XG4gIGlmICghdHJhY2tSZWZlcmVuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRyYWNrUmVmZXJlbmNlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgdHJhY2tSZWZlcmVuY2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikgJiYgdHJhY2tSZWZlcmVuY2UuaGFzT3duUHJvcGVydHkoXCJ0cmFja1wiKSAmJiB0eXBlb2YgKChfYSA9IHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJhY2spICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNUcmFja1JlZmVyZW5jZVB1Ymxpc2hlZCh0cmFja1JlZmVyZW5jZSkge1xuICBpZiAoIXRyYWNrUmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cmFja1JlZmVyZW5jZS5oYXNPd25Qcm9wZXJ0eShcInBhcnRpY2lwYW50XCIpICYmIHRyYWNrUmVmZXJlbmNlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpICYmIHRyYWNrUmVmZXJlbmNlLmhhc093blByb3BlcnR5KFwicHVibGljYXRpb25cIikgJiYgdHlwZW9mIHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNUcmFja1JlZmVyZW5jZVBsYWNlaG9sZGVyKHRyYWNrUmVmZXJlbmNlKSB7XG4gIGlmICghdHJhY2tSZWZlcmVuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRyYWNrUmVmZXJlbmNlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgdHJhY2tSZWZlcmVuY2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikgJiYgdHlwZW9mIHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uID09PSBcInVuZGVmaW5lZFwiO1xufVxuXG4vLyBzcmMvdHJhY2stcmVmZXJlbmNlL3RyYWNrLXJlZmVyZW5jZS51dGlscy50c1xuZnVuY3Rpb24gZ2V0VHJhY2tSZWZlcmVuY2VJZCh0cmFja1JlZmVyZW5jZSkge1xuICBpZiAodHlwZW9mIHRyYWNrUmVmZXJlbmNlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB0cmFja1JlZmVyZW5jZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBgJHt0cmFja1JlZmVyZW5jZX1gO1xuICB9IGVsc2UgaWYgKGlzVHJhY2tSZWZlcmVuY2VQbGFjZWhvbGRlcih0cmFja1JlZmVyZW5jZSkpIHtcbiAgICByZXR1cm4gYCR7dHJhY2tSZWZlcmVuY2UucGFydGljaXBhbnQuaWRlbnRpdHl9XyR7dHJhY2tSZWZlcmVuY2Uuc291cmNlfV9wbGFjZWhvbGRlcmA7XG4gIH0gZWxzZSBpZiAoaXNUcmFja1JlZmVyZW5jZSh0cmFja1JlZmVyZW5jZSkpIHtcbiAgICByZXR1cm4gYCR7dHJhY2tSZWZlcmVuY2UucGFydGljaXBhbnQuaWRlbnRpdHl9XyR7dHJhY2tSZWZlcmVuY2UucHVibGljYXRpb24uc291cmNlfV8ke3RyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uLnRyYWNrU2lkfWA7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBnZW5lcmF0ZSBhIGlkIGZvciB0aGUgZ2l2ZW4gdHJhY2sgcmVmZXJlbmNlOiAke3RyYWNrUmVmZXJlbmNlfWApO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFja1JlZmVyZW5jZVNvdXJjZSh0cmFja1JlZmVyZW5jZSkge1xuICBpZiAoaXNUcmFja1JlZmVyZW5jZSh0cmFja1JlZmVyZW5jZSkpIHtcbiAgICByZXR1cm4gdHJhY2tSZWZlcmVuY2UucHVibGljYXRpb24uc291cmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cmFja1JlZmVyZW5jZS5zb3VyY2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXF1YWxUcmFja1JlZihhLCBiKSB7XG4gIGlmIChhID09PSB2b2lkIDAgfHwgYiA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpc1RyYWNrUmVmZXJlbmNlKGEpICYmIGlzVHJhY2tSZWZlcmVuY2UoYikpIHtcbiAgICByZXR1cm4gYS5wdWJsaWNhdGlvbi50cmFja1NpZCA9PT0gYi5wdWJsaWNhdGlvbi50cmFja1NpZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0VHJhY2tSZWZlcmVuY2VJZChhKSA9PT0gZ2V0VHJhY2tSZWZlcmVuY2VJZChiKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNUcmFja1JlZmVyZW5jZVBpbm5lZCh0cmFja1JlZmVyZW5jZSwgcGluU3RhdGUpIHtcbiAgaWYgKHR5cGVvZiBwaW5TdGF0ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoaXNUcmFja1JlZmVyZW5jZSh0cmFja1JlZmVyZW5jZSkpIHtcbiAgICByZXR1cm4gcGluU3RhdGUuc29tZShcbiAgICAgIChwaW5uZWRUcmFja1JlZmVyZW5jZSkgPT4gcGlubmVkVHJhY2tSZWZlcmVuY2UucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IHRyYWNrUmVmZXJlbmNlLnBhcnRpY2lwYW50LmlkZW50aXR5ICYmIGlzVHJhY2tSZWZlcmVuY2UocGlubmVkVHJhY2tSZWZlcmVuY2UpICYmIHBpbm5lZFRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uLnRyYWNrU2lkID09PSB0cmFja1JlZmVyZW5jZS5wdWJsaWNhdGlvbi50cmFja1NpZFxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNUcmFja1JlZmVyZW5jZVBsYWNlaG9sZGVyKHRyYWNrUmVmZXJlbmNlKSkge1xuICAgIHJldHVybiBwaW5TdGF0ZS5zb21lKFxuICAgICAgKHBpbm5lZFRyYWNrUmVmZXJlbmNlKSA9PiBwaW5uZWRUcmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gdHJhY2tSZWZlcmVuY2UucGFydGljaXBhbnQuaWRlbnRpdHkgJiYgaXNUcmFja1JlZmVyZW5jZVBsYWNlaG9sZGVyKHBpbm5lZFRyYWNrUmVmZXJlbmNlKSAmJiBwaW5uZWRUcmFja1JlZmVyZW5jZS5zb3VyY2UgPT09IHRyYWNrUmVmZXJlbmNlLnNvdXJjZVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc1BsYWNlaG9sZGVyUmVwbGFjZW1lbnQoY3VycmVudFRyYWNrUmVmLCBuZXh0VHJhY2tSZWYpIHtcbiAgcmV0dXJuIGlzVHJhY2tSZWZlcmVuY2VQbGFjZWhvbGRlcihjdXJyZW50VHJhY2tSZWYpICYmIGlzVHJhY2tSZWZlcmVuY2UobmV4dFRyYWNrUmVmKSAmJiBuZXh0VHJhY2tSZWYucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IGN1cnJlbnRUcmFja1JlZi5wYXJ0aWNpcGFudC5pZGVudGl0eSAmJiBuZXh0VHJhY2tSZWYuc291cmNlID09PSBjdXJyZW50VHJhY2tSZWYuc291cmNlO1xufVxuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIGlzTG9jYWwocCkge1xuICByZXR1cm4gcCBpbnN0YW5jZW9mIExvY2FsUGFydGljaXBhbnQ7XG59XG5mdW5jdGlvbiBpc1JlbW90ZShwKSB7XG4gIHJldHVybiBwIGluc3RhbmNlb2YgUmVtb3RlUGFydGljaXBhbnQ7XG59XG52YXIgYXR0YWNoSWZTdWJzY3JpYmVkID0gKHB1YmxpY2F0aW9uLCBlbGVtZW50KSA9PiB7XG4gIGlmICghcHVibGljYXRpb24pXG4gICAgcmV0dXJuO1xuICBjb25zdCB7IGlzU3Vic2NyaWJlZCwgdHJhY2sgfSA9IHB1YmxpY2F0aW9uO1xuICBpZiAoZWxlbWVudCAmJiB0cmFjaykge1xuICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgIHRyYWNrLmF0dGFjaChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2suZGV0YWNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzUGFydGljaXBhbnRTb3VyY2VQaW5uZWQocGFydGljaXBhbnQsIHNvdXJjZSwgcGluU3RhdGUpIHtcbiAgaWYgKHBpblN0YXRlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHBpblN0YXRlLnNvbWUoXG4gICAgKHsgc291cmNlOiBwaW5uZWRTb3VyY2UsIHBhcnRpY2lwYW50OiBwaW5uZWRQYXJ0aWNpcGFudCB9KSA9PiBwaW5uZWRTb3VyY2UgPT09IHNvdXJjZSAmJiBwaW5uZWRQYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gcGFydGljaXBhbnQuaWRlbnRpdHlcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzUGFydGljaXBhbnRUcmFja1JlZmVyZW5jZVBpbm5lZCh0cmFja1JlZiwgcGluU3RhdGUpIHtcbiAgaWYgKHBpblN0YXRlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHBpblN0YXRlLnNvbWUoKHBpbm5lZFRyYWNrUmVmKSA9PiBpc0VxdWFsVHJhY2tSZWYocGlubmVkVHJhY2tSZWYsIHRyYWNrUmVmKSk7XG59XG5mdW5jdGlvbiBnZXRTY3JvbGxCYXJXaWR0aCgpIHtcbiAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xuICBjb25zdCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICBvdXRlci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICBvdXRlci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIG91dGVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuICBvdXRlci5zdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCI7XG4gIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcbiAgY29uc3QgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuICBsZXQgdzIgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgaWYgKHcxID09PSB3Mikge1xuICAgIHcyID0gb3V0ZXIuY2xpZW50V2lkdGg7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG4gIGNvbnN0IHNjcm9sbEJhcldpZHRoID0gdzEgLSB3MjtcbiAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xufVxuXG4vLyBzcmMvaGVscGVyL2RldGVjdE1vYmlsZUJyb3dzZXIudHNcbmZ1bmN0aW9uIGlzV2ViKCkge1xuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNNb2JpbGVCcm93c2VyKCkge1xuICByZXR1cm4gaXNXZWIoKSA/IC9Nb2JpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgOiBmYWxzZTtcbn1cblxuLy8gc3JjL2hlbHBlci91cmwtcmVnZXgudHNcbmZ1bmN0aW9uIGNyZWF0ZVVybFJlZ0V4cChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgb3B0aW9ucyk7XG4gIGNvbnN0IHByb3RvY29sID0gYCg/Oig/OlthLXpdKzopPy8vKT9gO1xuICBjb25zdCBhdXRoID0gXCIoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT9cIjtcbiAgY29uc3QgaXAgPSBuZXcgUmVnRXhwKFxuICAgIFwiKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M31cIixcbiAgICBcImdcIlxuICApLnNvdXJjZTtcbiAgY29uc3QgaG9zdCA9IFwiKD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldWy1fXSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspXCI7XG4gIGNvbnN0IGRvbWFpbiA9IFwiKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqXCI7XG4gIGNvbnN0IHRsZCA9IGAoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmXXsyLH0pKVxcXFwuP2A7XG4gIGNvbnN0IHBvcnQgPSBcIig/OjpcXFxcZHsyLDV9KT9cIjtcbiAgY29uc3QgcGF0aCA9ICcoPzpbLz8jXVteXFxcXHNcIl0qKT8nO1xuICBjb25zdCByZWdleCA9IGAoPzoke3Byb3RvY29sfXx3d3dcXFxcLikke2F1dGh9KD86bG9jYWxob3N0fCR7aXB9fCR7aG9zdH0ke2RvbWFpbn0ke3RsZH0pJHtwb3J0fSR7cGF0aH1gO1xuICByZXR1cm4gb3B0aW9ucy5leGFjdCA/IG5ldyBSZWdFeHAoYCg/Ol4ke3JlZ2V4fSQpYCwgXCJpXCIpIDogbmV3IFJlZ0V4cChyZWdleCwgXCJpZ1wiKTtcbn1cblxuLy8gc3JjL2hlbHBlci9lbWFpbFJlZ2V4LnRzXG5pbXBvcnQgY3JlYXRlRW1haWxSZWdFeHAgZnJvbSBcImVtYWlsLXJlZ2V4XCI7XG5cbi8vIHNyYy9oZWxwZXIvZmxvYXRpbmctbWVudS50c1xuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBvZmZzZXQsIHNoaWZ0IH0gZnJvbSBcIkBmbG9hdGluZy11aS9kb21cIjtcbmZ1bmN0aW9uIGNvbXB1dGVNZW51UG9zaXRpb24oYnV0dG9uLCBtZW51KSB7XG4gIHJldHVybiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB5aWVsZCBjb21wdXRlUG9zaXRpb24oYnV0dG9uLCBtZW51LCB7XG4gICAgICBwbGFjZW1lbnQ6IFwidG9wXCIsXG4gICAgICBtaWRkbGV3YXJlOiBbb2Zmc2V0KDYpLCBmbGlwKCksIHNoaWZ0KHsgcGFkZGluZzogNSB9KV1cbiAgICB9KTtcbiAgICByZXR1cm4geyB4LCB5IH07XG4gIH0pO1xufVxuZnVuY3Rpb24gd2FzQ2xpY2tPdXRzaWRlKGluc2lkZUVsZW1lbnQsIGV2ZW50KSB7XG4gIGNvbnN0IGlzT3V0c2lkZSA9ICFpbnNpZGVFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG4gIHJldHVybiBpc091dHNpZGU7XG59XG5cbi8vIHNyYy9oZWxwZXIvdG9rZW5pemVyLnRzXG52YXIgY3JlYXRlRGVmYXVsdEdyYW1tYXIgPSAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgZW1haWw6IGNyZWF0ZUVtYWlsUmVnRXhwKCksXG4gICAgdXJsOiBjcmVhdGVVcmxSZWdFeHAoe30pXG4gIH07XG59O1xuZnVuY3Rpb24gdG9rZW5pemUoaW5wdXQsIGdyYW1tYXIpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IE9iamVjdC5lbnRyaWVzKGdyYW1tYXIpLm1hcChcbiAgICAoW3R5cGUsIHJ4XSwgd2VpZ2h0KSA9PiBBcnJheS5mcm9tKGlucHV0Lm1hdGNoQWxsKHJ4KSkubWFwKCh7IGluZGV4LCAwOiBjb250ZW50IH0pID0+ICh7XG4gICAgICB0eXBlLFxuICAgICAgd2VpZ2h0LFxuICAgICAgY29udGVudCxcbiAgICAgIGluZGV4OiBpbmRleCAhPSBudWxsID8gaW5kZXggOiAwXG4gICAgfSkpXG4gICkuZmxhdCgpLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBkID0gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgcmV0dXJuIGQgIT09IDAgPyBkIDogYS53ZWlnaHQgLSBiLndlaWdodDtcbiAgfSkuZmlsdGVyKCh7IGluZGV4IH0sIGksIGFycikgPT4ge1xuICAgIGlmIChpID09PSAwKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgcHJldiA9IGFycltpIC0gMV07XG4gICAgcmV0dXJuIHByZXYuaW5kZXggKyBwcmV2LmNvbnRlbnQubGVuZ3RoIDw9IGluZGV4O1xuICB9KTtcbiAgY29uc3QgdG9rZW5zID0gW107XG4gIGxldCBwb3MgPSAwO1xuICBmb3IgKGNvbnN0IHsgdHlwZSwgY29udGVudCwgaW5kZXggfSBvZiBtYXRjaGVzKSB7XG4gICAgaWYgKGluZGV4ID4gcG9zKVxuICAgICAgdG9rZW5zLnB1c2goaW5wdXQuc3Vic3RyaW5nKHBvcywgaW5kZXgpKTtcbiAgICB0b2tlbnMucHVzaCh7IHR5cGUsIGNvbnRlbnQgfSk7XG4gICAgcG9zID0gaW5kZXggKyBjb250ZW50Lmxlbmd0aDtcbiAgfVxuICBpZiAoaW5wdXQubGVuZ3RoID4gcG9zKVxuICAgIHRva2Vucy5wdXNoKGlucHV0LnN1YnN0cmluZyhwb3MpKTtcbiAgcmV0dXJuIHRva2Vucztcbn1cblxuLy8gc3JjL2hlbHBlci9ldmVudEdyb3Vwcy50c1xuaW1wb3J0IHsgUGFydGljaXBhbnRFdmVudCwgUm9vbUV2ZW50IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG52YXIgYWxsUmVtb3RlUGFydGljaXBhbnRSb29tRXZlbnRzID0gW1xuICBSb29tRXZlbnQuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgUm9vbUV2ZW50LlJvb21NZXRhZGF0YUNoYW5nZWQsXG4gIFJvb21FdmVudC5BY3RpdmVTcGVha2Vyc0NoYW5nZWQsXG4gIFJvb21FdmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIFJvb21FdmVudC5QYXJ0aWNpcGFudENvbm5lY3RlZCxcbiAgUm9vbUV2ZW50LlBhcnRpY2lwYW50RGlzY29ubmVjdGVkLFxuICBSb29tRXZlbnQuUGFydGljaXBhbnRQZXJtaXNzaW9uc0NoYW5nZWQsXG4gIFJvb21FdmVudC5QYXJ0aWNpcGFudE1ldGFkYXRhQ2hhbmdlZCxcbiAgUm9vbUV2ZW50LlRyYWNrTXV0ZWQsXG4gIFJvb21FdmVudC5UcmFja1VubXV0ZWQsXG4gIFJvb21FdmVudC5UcmFja1B1Ymxpc2hlZCxcbiAgUm9vbUV2ZW50LlRyYWNrVW5wdWJsaXNoZWQsXG4gIFJvb21FdmVudC5UcmFja1N0cmVhbVN0YXRlQ2hhbmdlZCxcbiAgUm9vbUV2ZW50LlRyYWNrU3Vic2NyaXB0aW9uRmFpbGVkLFxuICBSb29tRXZlbnQuVHJhY2tTdWJzY3JpcHRpb25QZXJtaXNzaW9uQ2hhbmdlZCxcbiAgUm9vbUV2ZW50LlRyYWNrU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZFxuXTtcbnZhciBhbGxQYXJ0aWNpcGFudFJvb21FdmVudHMgPSBbXG4gIC4uLmFsbFJlbW90ZVBhcnRpY2lwYW50Um9vbUV2ZW50cyxcbiAgUm9vbUV2ZW50LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gIFJvb21FdmVudC5Mb2NhbFRyYWNrVW5wdWJsaXNoZWRcbl07XG52YXIgYWxsUmVtb3RlUGFydGljaXBhbnRFdmVudHMgPSBbXG4gIFBhcnRpY2lwYW50RXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxuICBQYXJ0aWNpcGFudEV2ZW50LklzU3BlYWtpbmdDaGFuZ2VkLFxuICBQYXJ0aWNpcGFudEV2ZW50LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxuICBQYXJ0aWNpcGFudEV2ZW50LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkLFxuICBQYXJ0aWNpcGFudEV2ZW50LlRyYWNrTXV0ZWQsXG4gIFBhcnRpY2lwYW50RXZlbnQuVHJhY2tVbm11dGVkLFxuICBQYXJ0aWNpcGFudEV2ZW50LlRyYWNrUHVibGlzaGVkLFxuICBQYXJ0aWNpcGFudEV2ZW50LlRyYWNrVW5wdWJsaXNoZWQsXG4gIFBhcnRpY2lwYW50RXZlbnQuVHJhY2tTdHJlYW1TdGF0ZUNoYW5nZWQsXG4gIFBhcnRpY2lwYW50RXZlbnQuVHJhY2tTdWJzY3JpcHRpb25GYWlsZWQsXG4gIFBhcnRpY2lwYW50RXZlbnQuVHJhY2tTdWJzY3JpcHRpb25QZXJtaXNzaW9uQ2hhbmdlZCxcbiAgUGFydGljaXBhbnRFdmVudC5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcbl07XG52YXIgYWxsUGFydGljaXBhbnRFdmVudHMgPSBbXG4gIC4uLmFsbFJlbW90ZVBhcnRpY2lwYW50RXZlbnRzLFxuICBQYXJ0aWNpcGFudEV2ZW50LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gIFBhcnRpY2lwYW50RXZlbnQuTG9jYWxUcmFja1VucHVibGlzaGVkXG5dO1xuXG4vLyBzcmMvbG9nZ2VyLnRzXG5pbXBvcnQge1xuICBzZXRMb2dMZXZlbCBhcyBzZXRDbGllbnRTZGtMb2dMZXZlbCxcbiAgc2V0TG9nRXh0ZW5zaW9uIGFzIHNldENsaWVudFNka0xvZ0V4dGVuc2lvbixcbiAgTG9nTGV2ZWwgYXMgTG9nTGV2ZWxFbnVtXG59IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IGxvZ2xldmVsIGZyb20gXCJsb2dsZXZlbFwiO1xudmFyIGxvZyA9IGxvZ2xldmVsLmdldExvZ2dlcihcImxrLWNvbXBvbmVudHMtanNcIik7XG5sb2cuc2V0RGVmYXVsdExldmVsKFwiV0FSTlwiKTtcbmZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsLCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBsb2cuc2V0TGV2ZWwobGV2ZWwpO1xuICBzZXRDbGllbnRTZGtMb2dMZXZlbCgoX2EgPSBvcHRpb25zLmxpdmVLaXRDbGllbnRMb2dMZXZlbCkgIT0gbnVsbCA/IF9hIDogbGV2ZWwpO1xufVxuZnVuY3Rpb24gc2V0TG9nRXh0ZW5zaW9uKGV4dGVuc2lvbiwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgb3JpZ2luYWxGYWN0b3J5ID0gbG9nLm1ldGhvZEZhY3Rvcnk7XG4gIGxvZy5tZXRob2RGYWN0b3J5ID0gKG1ldGhvZE5hbWUsIGNvbmZpZ0xldmVsLCBsb2dnZXJOYW1lKSA9PiB7XG4gICAgY29uc3QgcmF3TWV0aG9kID0gb3JpZ2luYWxGYWN0b3J5KG1ldGhvZE5hbWUsIGNvbmZpZ0xldmVsLCBsb2dnZXJOYW1lKTtcbiAgICBjb25zdCBsb2dMZXZlbCA9IExvZ0xldmVsRW51bVttZXRob2ROYW1lXTtcbiAgICBjb25zdCBuZWVkTG9nID0gbG9nTGV2ZWwgPj0gY29uZmlnTGV2ZWwgJiYgbG9nTGV2ZWwgPCBMb2dMZXZlbEVudW0uc2lsZW50O1xuICAgIHJldHVybiAobXNnLCBjb250ZXh0KSA9PiB7XG4gICAgICBpZiAoY29udGV4dClcbiAgICAgICAgcmF3TWV0aG9kKG1zZywgY29udGV4dCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJhd01ldGhvZChtc2cpO1xuICAgICAgaWYgKG5lZWRMb2cpIHtcbiAgICAgICAgZXh0ZW5zaW9uKGxvZ0xldmVsLCBtc2csIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGxvZy5zZXRMZXZlbChsb2cuZ2V0TGV2ZWwoKSk7XG4gIHNldENsaWVudFNka0xvZ0V4dGVuc2lvbigoX2EgPSBvcHRpb25zLmxpdmVLaXRDbGllbnRMb2dFeHRlbnNpb24pICE9IG51bGwgPyBfYSA6IGV4dGVuc2lvbik7XG59XG5cbi8vIHNyYy9oZWxwZXIvZ3JpZC1sYXlvdXRzLnRzXG52YXIgR1JJRF9MQVlPVVRTID0gW1xuICB7XG4gICAgY29sdW1uczogMSxcbiAgICByb3dzOiAxLFxuICAgIG5hbWU6IFwiMXgxXCIsXG4gICAgbWluVGlsZXM6IDEsXG4gICAgbWF4VGlsZXM6IDEsXG4gICAgbWluV2lkdGg6IDAsXG4gICAgbWluSGVpZ2h0OiAwXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiAxLFxuICAgIHJvd3M6IDIsXG4gICAgbmFtZTogXCIxeDJcIixcbiAgICBtaW5UaWxlczogMixcbiAgICBtYXhUaWxlczogMixcbiAgICBtaW5XaWR0aDogMCxcbiAgICBtaW5IZWlnaHQ6IDBcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDIsXG4gICAgcm93czogMSxcbiAgICBuYW1lOiBcIjJ4MVwiLFxuICAgIG1pblRpbGVzOiAyLFxuICAgIG1heFRpbGVzOiAyLFxuICAgIG1pbldpZHRoOiA5MDAsXG4gICAgbWluSGVpZ2h0OiAwXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiAyLFxuICAgIHJvd3M6IDIsXG4gICAgbmFtZTogXCIyeDJcIixcbiAgICBtaW5UaWxlczogMyxcbiAgICBtYXhUaWxlczogNCxcbiAgICBtaW5XaWR0aDogNTYwLFxuICAgIG1pbkhlaWdodDogMFxuICB9LFxuICB7XG4gICAgY29sdW1uczogMyxcbiAgICByb3dzOiAzLFxuICAgIG5hbWU6IFwiM3gzXCIsXG4gICAgbWluVGlsZXM6IDUsXG4gICAgbWF4VGlsZXM6IDksXG4gICAgbWluV2lkdGg6IDcwMCxcbiAgICBtaW5IZWlnaHQ6IDBcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDQsXG4gICAgcm93czogNCxcbiAgICBuYW1lOiBcIjR4NFwiLFxuICAgIG1pblRpbGVzOiAxMCxcbiAgICBtYXhUaWxlczogMTYsXG4gICAgbWluV2lkdGg6IDk2MCxcbiAgICBtaW5IZWlnaHQ6IDBcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDUsXG4gICAgcm93czogNSxcbiAgICBuYW1lOiBcIjV4NVwiLFxuICAgIG1pblRpbGVzOiAxNyxcbiAgICBtYXhUaWxlczogMjUsXG4gICAgbWluV2lkdGg6IDExMDAsXG4gICAgbWluSGVpZ2h0OiAwXG4gIH1cbl07XG5mdW5jdGlvbiBzZWxlY3RHcmlkTGF5b3V0KGxheW91dHMsIHBhcnRpY2lwYW50Q291bnQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgbGV0IGN1cnJlbnRMYXlvdXRJbmRleCA9IDA7XG4gIGxldCBsYXlvdXQgPSBsYXlvdXRzLmZpbmQoKGxheW91dF8sIGluZGV4LCBhbGxMYXlvdXRzKSA9PiB7XG4gICAgY3VycmVudExheW91dEluZGV4ID0gaW5kZXg7XG4gICAgY29uc3QgaXNCaWdnZXJMYXlvdXRBdmFpbGFibGUgPSBhbGxMYXlvdXRzLmZpbmRJbmRleCgobCwgaSkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0SXNCaWdnZXJUaGFuQ3VycmVudCA9IGkgPiBpbmRleDtcbiAgICAgIGNvbnN0IGxheW91dEZpdHNTYW1lQW1vdW50T2ZQYXJ0aWNpcGFudHMgPSBsLm1heFRpbGVzID09PSBsYXlvdXRfLm1heFRpbGVzO1xuICAgICAgcmV0dXJuIGxheW91dElzQmlnZ2VyVGhhbkN1cnJlbnQgJiYgbGF5b3V0Rml0c1NhbWVBbW91bnRPZlBhcnRpY2lwYW50cztcbiAgICB9KSAhPT0gLTE7XG4gICAgcmV0dXJuIGxheW91dF8ubWF4VGlsZXMgPj0gcGFydGljaXBhbnRDb3VudCAmJiAhaXNCaWdnZXJMYXlvdXRBdmFpbGFibGU7XG4gIH0pO1xuICBpZiAobGF5b3V0ID09PSB2b2lkIDApIHtcbiAgICBsYXlvdXQgPSBsYXlvdXRzW2xheW91dHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxheW91dCkge1xuICAgICAgbG9nLndhcm4oXG4gICAgICAgIGBObyBsYXlvdXQgZm91bmQgZm9yOiBwYXJ0aWNpcGFudENvdW50OiAke3BhcnRpY2lwYW50Q291bnR9LCB3aWR0aC9oZWlnaHQ6ICR7d2lkdGh9LyR7aGVpZ2h0fSBmYWxsYmFjayB0byBiaWdnZXN0IGF2YWlsYWJsZSBsYXlvdXQgKCR7bGF5b3V0Lm5hbWV9KS5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGxheW91dCBvciBmYWxsYmFjayBsYXlvdXQgZm91bmQuYCk7XG4gICAgfVxuICB9XG4gIGlmICh3aWR0aCA8IGxheW91dC5taW5XaWR0aCB8fCBoZWlnaHQgPCBsYXlvdXQubWluSGVpZ2h0KSB7XG4gICAgaWYgKGN1cnJlbnRMYXlvdXRJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IHNtYWxsZXJMYXlvdXQgPSBsYXlvdXRzW2N1cnJlbnRMYXlvdXRJbmRleCAtIDFdO1xuICAgICAgbGF5b3V0ID0gc2VsZWN0R3JpZExheW91dChcbiAgICAgICAgbGF5b3V0cy5zbGljZSgwLCBjdXJyZW50TGF5b3V0SW5kZXgpLFxuICAgICAgICBzbWFsbGVyTGF5b3V0Lm1heFRpbGVzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGF5b3V0O1xufVxuXG4vLyBzcmMvaGVscGVyL3NldC1oZWxwZXIudHNcbmZ1bmN0aW9uIHNldERpZmZlcmVuY2Uoc2V0QSwgc2V0Qikge1xuICBjb25zdCBfZGlmZmVyZW5jZSA9IG5ldyBTZXQoc2V0QSk7XG4gIGZvciAoY29uc3QgZWxlbSBvZiBzZXRCKSB7XG4gICAgX2RpZmZlcmVuY2UuZGVsZXRlKGVsZW0pO1xuICB9XG4gIHJldHVybiBfZGlmZmVyZW5jZTtcbn1cblxuLy8gc3JjL2hlbHBlci9mZWF0dXJlRGV0ZWN0aW9uLnRzXG5mdW5jdGlvbiBzdXBwb3J0c1NjcmVlblNoYXJpbmcoKSB7XG4gIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMgJiYgISFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYTtcbn1cblxuLy8gc3JjL3R5cGVzLnRzXG52YXIgUElOX0RFRkFVTFRfU1RBVEUgPSBbXTtcbnZhciBXSURHRVRfREVGQVVMVF9TVEFURSA9IHsgc2hvd0NoYXQ6IGZhbHNlLCB1bnJlYWRNZXNzYWdlczogMCB9O1xuZnVuY3Rpb24gaXNTb3VyY2VXaXRPcHRpb25zKHNvdXJjZSkge1xuICByZXR1cm4gdHlwZW9mIHNvdXJjZSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGlzU291cmNlc1dpdGhPcHRpb25zKHNvdXJjZXMpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlcykgJiYgc291cmNlcy5maWx0ZXIoaXNTb3VyY2VXaXRPcHRpb25zKS5sZW5ndGggPiAwO1xufVxuXG4vLyBzcmMvc29ydGluZy9zb3J0LXRyYWNrLWJ1bmRsZXMudHNcbmltcG9ydCB7IFRyYWNrIGFzIFRyYWNrMiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuXG4vLyBzcmMvc29ydGluZy9iYXNlLXNvcnQtZnVuY3Rpb25zLnRzXG5pbXBvcnQgeyBUcmFjayB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuZnVuY3Rpb24gc29ydFBhcnRpY2lwYW50c0J5QXVkaW9MZXZlbChhLCBiKSB7XG4gIHJldHVybiBiLmF1ZGlvTGV2ZWwgLSBhLmF1ZGlvTGV2ZWw7XG59XG5mdW5jdGlvbiBzb3J0UGFydGljaXBhbnRzQnlJc1NwZWFraW5nKGEsIGIpIHtcbiAgaWYgKGEuaXNTcGVha2luZyA9PT0gYi5pc1NwZWFraW5nKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGEuaXNTcGVha2luZyA/IC0xIDogMTtcbiAgfVxufVxuZnVuY3Rpb24gc29ydFBhcnRpY2lwYW50c0J5TGFzdFNwb2tlbkFUKGEsIGIpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBpZiAoYS5sYXN0U3Bva2VBdCAhPT0gdm9pZCAwIHx8IGIubGFzdFNwb2tlQXQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiAoKF9iID0gKF9hID0gYi5sYXN0U3Bva2VBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldFRpbWUoKSkgIT0gbnVsbCA/IF9iIDogMCkgLSAoKF9kID0gKF9jID0gYS5sYXN0U3Bva2VBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmdldFRpbWUoKSkgIT0gbnVsbCA/IF9kIDogMCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIHNvcnRQYXJ0aWNpcGFudHNCeUpvaW5lZEF0KGEsIGIpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICByZXR1cm4gKChfYiA9IChfYSA9IGEuam9pbmVkQXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRUaW1lKCkpICE9IG51bGwgPyBfYiA6IDApIC0gKChfZCA9IChfYyA9IGIuam9pbmVkQXQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5nZXRUaW1lKCkpICE9IG51bGwgPyBfZCA6IDApO1xufVxuZnVuY3Rpb24gc29ydFRyYWNrUmVmZXJlbmNlc0J5VHlwZShhLCBiKSB7XG4gIGlmIChpc1RyYWNrUmVmZXJlbmNlKGEpKSB7XG4gICAgaWYgKGlzVHJhY2tSZWZlcmVuY2UoYikpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVHJhY2tSZWZlcmVuY2UoYikpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuZnVuY3Rpb24gc29ydFRyYWNrUmVmc0J5SXNDYW1lcmFFbmFibGVkKGEsIGIpIHtcbiAgY29uc3QgYVZpZGVvID0gYS5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQ7XG4gIGNvbnN0IGJWaWRlbyA9IGIucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkO1xuICBpZiAoYVZpZGVvICE9PSBiVmlkZW8pIHtcbiAgICBpZiAoYVZpZGVvKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG4vLyBzcmMvc29ydGluZy9zb3J0LXRyYWNrLWJ1bmRsZXMudHNcbmZ1bmN0aW9uIHNvcnRUcmFja1JlZmVyZW5jZXModHJhY2tzKSB7XG4gIGNvbnN0IGxvY2FsVHJhY2tzID0gW107XG4gIGNvbnN0IHNjcmVlblNoYXJlVHJhY2tzID0gW107XG4gIGNvbnN0IGNhbWVyYVRyYWNrcyA9IFtdO1xuICBjb25zdCB1bmRlZmluZWRUcmFja3MgPSBbXTtcbiAgdHJhY2tzLmZvckVhY2goKHRyYWNrUmVmKSA9PiB7XG4gICAgaWYgKHRyYWNrUmVmLnBhcnRpY2lwYW50LmlzTG9jYWwgJiYgdHJhY2tSZWYuc291cmNlID09PSBUcmFjazIuU291cmNlLkNhbWVyYSkge1xuICAgICAgbG9jYWxUcmFja3MucHVzaCh0cmFja1JlZik7XG4gICAgfSBlbHNlIGlmICh0cmFja1JlZi5zb3VyY2UgPT09IFRyYWNrMi5Tb3VyY2UuU2NyZWVuU2hhcmUpIHtcbiAgICAgIHNjcmVlblNoYXJlVHJhY2tzLnB1c2godHJhY2tSZWYpO1xuICAgIH0gZWxzZSBpZiAodHJhY2tSZWYuc291cmNlID09PSBUcmFjazIuU291cmNlLkNhbWVyYSkge1xuICAgICAgY2FtZXJhVHJhY2tzLnB1c2godHJhY2tSZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bmRlZmluZWRUcmFja3MucHVzaCh0cmFja1JlZik7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc29ydGVkU2NyZWVuU2hhcmVUcmFja3MgPSBzb3J0U2NyZWVuU2hhcmVUcmFja3Moc2NyZWVuU2hhcmVUcmFja3MpO1xuICBjb25zdCBzb3J0ZWRDYW1lcmFUcmFja3MgPSBzb3J0Q2FtZXJhVHJhY2tzKGNhbWVyYVRyYWNrcyk7XG4gIHJldHVybiBbLi4ubG9jYWxUcmFja3MsIC4uLnNvcnRlZFNjcmVlblNoYXJlVHJhY2tzLCAuLi5zb3J0ZWRDYW1lcmFUcmFja3MsIC4uLnVuZGVmaW5lZFRyYWNrc107XG59XG5mdW5jdGlvbiBzb3J0U2NyZWVuU2hhcmVUcmFja3Moc2NyZWVuU2hhcmVUcmFja3MpIHtcbiAgY29uc3QgbG9jYWxTY3JlZW5TaGFyZXMgPSBbXTtcbiAgY29uc3QgcmVtb3RlU2NyZWVuU2hhcmVzID0gW107XG4gIHNjcmVlblNoYXJlVHJhY2tzLmZvckVhY2goKHRyYWNrUmVmKSA9PiB7XG4gICAgaWYgKHRyYWNrUmVmLnBhcnRpY2lwYW50LmlzTG9jYWwpIHtcbiAgICAgIGxvY2FsU2NyZWVuU2hhcmVzLnB1c2godHJhY2tSZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdGVTY3JlZW5TaGFyZXMucHVzaCh0cmFja1JlZik7XG4gICAgfVxuICB9KTtcbiAgbG9jYWxTY3JlZW5TaGFyZXMuc29ydCgoYSwgYikgPT4gc29ydFBhcnRpY2lwYW50c0J5Sm9pbmVkQXQoYS5wYXJ0aWNpcGFudCwgYi5wYXJ0aWNpcGFudCkpO1xuICByZW1vdGVTY3JlZW5TaGFyZXMuc29ydCgoYSwgYikgPT4gc29ydFBhcnRpY2lwYW50c0J5Sm9pbmVkQXQoYS5wYXJ0aWNpcGFudCwgYi5wYXJ0aWNpcGFudCkpO1xuICBjb25zdCBzb3J0ZWRTY3JlZW5TaGFyZVRyYWNrUmVmcyA9IFsuLi5yZW1vdGVTY3JlZW5TaGFyZXMsIC4uLmxvY2FsU2NyZWVuU2hhcmVzXTtcbiAgcmV0dXJuIHNvcnRlZFNjcmVlblNoYXJlVHJhY2tSZWZzO1xufVxuZnVuY3Rpb24gc29ydENhbWVyYVRyYWNrcyhjYW1lcmFUcmFja1JlZmVyZW5jZXMpIHtcbiAgY29uc3QgbG9jYWxDYW1lcmFUcmFja3MgPSBbXTtcbiAgY29uc3QgcmVtb3RlQ2FtZXJhVHJhY2tzID0gW107XG4gIGNhbWVyYVRyYWNrUmVmZXJlbmNlcy5mb3JFYWNoKCh0cmFja1JlZikgPT4ge1xuICAgIGlmICh0cmFja1JlZi5wYXJ0aWNpcGFudC5pc0xvY2FsKSB7XG4gICAgICBsb2NhbENhbWVyYVRyYWNrcy5wdXNoKHRyYWNrUmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3RlQ2FtZXJhVHJhY2tzLnB1c2godHJhY2tSZWYpO1xuICAgIH1cbiAgfSk7XG4gIHJlbW90ZUNhbWVyYVRyYWNrcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEucGFydGljaXBhbnQuaXNTcGVha2luZyAmJiBiLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcpIHtcbiAgICAgIHJldHVybiBzb3J0UGFydGljaXBhbnRzQnlBdWRpb0xldmVsKGEucGFydGljaXBhbnQsIGIucGFydGljaXBhbnQpO1xuICAgIH1cbiAgICBpZiAoYS5wYXJ0aWNpcGFudC5pc1NwZWFraW5nICE9PSBiLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcpIHtcbiAgICAgIHJldHVybiBzb3J0UGFydGljaXBhbnRzQnlJc1NwZWFraW5nKGEucGFydGljaXBhbnQsIGIucGFydGljaXBhbnQpO1xuICAgIH1cbiAgICBpZiAoYS5wYXJ0aWNpcGFudC5sYXN0U3Bva2VBdCAhPT0gYi5wYXJ0aWNpcGFudC5sYXN0U3Bva2VBdCkge1xuICAgICAgcmV0dXJuIHNvcnRQYXJ0aWNpcGFudHNCeUxhc3RTcG9rZW5BVChhLnBhcnRpY2lwYW50LCBiLnBhcnRpY2lwYW50KTtcbiAgICB9XG4gICAgaWYgKGlzVHJhY2tSZWZlcmVuY2UoYSkgIT09IGlzVHJhY2tSZWZlcmVuY2UoYikpIHtcbiAgICAgIHJldHVybiBzb3J0VHJhY2tSZWZlcmVuY2VzQnlUeXBlKGEsIGIpO1xuICAgIH1cbiAgICBpZiAoYS5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQgIT09IGIucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkKSB7XG4gICAgICByZXR1cm4gc29ydFRyYWNrUmVmc0J5SXNDYW1lcmFFbmFibGVkKGEsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gc29ydFBhcnRpY2lwYW50c0J5Sm9pbmVkQXQoYS5wYXJ0aWNpcGFudCwgYi5wYXJ0aWNpcGFudCk7XG4gIH0pO1xuICByZXR1cm4gWy4uLmxvY2FsQ2FtZXJhVHJhY2tzLCAuLi5yZW1vdGVDYW1lcmFUcmFja3NdO1xufVxuXG4vLyBzcmMvc29ydGluZy9zb3J0LXBhcnRpY2lwYW50cy50c1xuaW1wb3J0IHsgTG9jYWxQYXJ0aWNpcGFudCBhcyBMb2NhbFBhcnRpY2lwYW50MiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuZnVuY3Rpb24gc29ydFBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMpIHtcbiAgY29uc3Qgc29ydGVkUGFydGljaXBhbnRzID0gWy4uLnBhcnRpY2lwYW50c107XG4gIHNvcnRlZFBhcnRpY2lwYW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEuaXNTcGVha2luZyAmJiBiLmlzU3BlYWtpbmcpIHtcbiAgICAgIHJldHVybiBzb3J0UGFydGljaXBhbnRzQnlBdWRpb0xldmVsKGEsIGIpO1xuICAgIH1cbiAgICBpZiAoYS5pc1NwZWFraW5nICE9PSBiLmlzU3BlYWtpbmcpIHtcbiAgICAgIHJldHVybiBzb3J0UGFydGljaXBhbnRzQnlJc1NwZWFraW5nKGEsIGIpO1xuICAgIH1cbiAgICBpZiAoYS5sYXN0U3Bva2VBdCAhPT0gYi5sYXN0U3Bva2VBdCkge1xuICAgICAgcmV0dXJuIHNvcnRQYXJ0aWNpcGFudHNCeUxhc3RTcG9rZW5BVChhLCBiKTtcbiAgICB9XG4gICAgY29uc3QgYVZpZGVvID0gYS52aWRlb1RyYWNrcy5zaXplID4gMDtcbiAgICBjb25zdCBiVmlkZW8gPSBiLnZpZGVvVHJhY2tzLnNpemUgPiAwO1xuICAgIGlmIChhVmlkZW8gIT09IGJWaWRlbykge1xuICAgICAgaWYgKGFWaWRlbykge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvcnRQYXJ0aWNpcGFudHNCeUpvaW5lZEF0KGEsIGIpO1xuICB9KTtcbiAgY29uc3QgbG9jYWxQYXJ0aWNpcGFudCA9IHNvcnRlZFBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwIGluc3RhbmNlb2YgTG9jYWxQYXJ0aWNpcGFudDIpO1xuICBpZiAobG9jYWxQYXJ0aWNpcGFudCkge1xuICAgIGNvbnN0IGxvY2FsSWR4ID0gc29ydGVkUGFydGljaXBhbnRzLmluZGV4T2YobG9jYWxQYXJ0aWNpcGFudCk7XG4gICAgaWYgKGxvY2FsSWR4ID49IDApIHtcbiAgICAgIHNvcnRlZFBhcnRpY2lwYW50cy5zcGxpY2UobG9jYWxJZHgsIDEpO1xuICAgICAgaWYgKHNvcnRlZFBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNvcnRlZFBhcnRpY2lwYW50cy5zcGxpY2UoMCwgMCwgbG9jYWxQYXJ0aWNpcGFudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3J0ZWRQYXJ0aWNpcGFudHMucHVzaChsb2NhbFBhcnRpY2lwYW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNvcnRlZFBhcnRpY2lwYW50cztcbn1cblxuLy8gc3JjL2hlbHBlci9hcnJheS1oZWxwZXIudHNcbmZ1bmN0aW9uIGNodW5rKGlucHV0LCBzaXplKSB7XG4gIHJldHVybiBpbnB1dC5yZWR1Y2UoXG4gICAgKGFyciwgaXRlbSwgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gaWR4ICUgc2l6ZSA9PT0gMCA/IFsuLi5hcnIsIFtpdGVtXV0gOiBbLi4uYXJyLnNsaWNlKDAsIC0xKSwgWy4uLmFyci5zbGljZSgtMSlbMF0sIGl0ZW1dXTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG59XG5mdW5jdGlvbiB6aXAoYTEsIGEyKSB7XG4gIGNvbnN0IHJlc3VsdExlbmd0aCA9IE1hdGgubWF4KGExLmxlbmd0aCwgYTIubGVuZ3RoKTtcbiAgcmV0dXJuIG5ldyBBcnJheShyZXN1bHRMZW5ndGgpLmZpbGwoW10pLm1hcCgoX3ZhbCwgaWR4KSA9PiBbYTFbaWR4XSwgYTJbaWR4XV0pO1xufVxuZnVuY3Rpb24gZGlmZmVyZW5jZUJ5KGExLCBhMiwgYnkpIHtcbiAgcmV0dXJuIGExLmZpbHRlcigoYykgPT4gIWEyLm1hcCgodikgPT4gYnkodikpLmluY2x1ZGVzKGJ5KGMpKSk7XG59XG5cbi8vIHNyYy90cmFjay1yZWZlcmVuY2UvdGVzdC11dGlscy50c1xuaW1wb3J0IHsgUGFydGljaXBhbnQsIFRyYWNrIGFzIFRyYWNrMywgVHJhY2tQdWJsaWNhdGlvbiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuZnVuY3Rpb24gZmxhdFRyYWNrUmVmZXJlbmNlQXJyYXkobGlzdCkge1xuICByZXR1cm4gbGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGl0ZW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBgJHtpdGVtfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRUcmFja1JlZmVyZW5jZUlkKGl0ZW0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9zb3J0aW5nL3RpbGUtYXJyYXktdXBkYXRlLnRzXG5mdW5jdGlvbiB2aXN1YWxQYWdlQ2hhbmdlKHN0YXRlLCBuZXh0KSB7XG4gIHJldHVybiB7XG4gICAgZHJvcHBlZDogZGlmZmVyZW5jZUJ5KHN0YXRlLCBuZXh0LCBnZXRUcmFja1JlZmVyZW5jZUlkKSxcbiAgICBhZGRlZDogZGlmZmVyZW5jZUJ5KG5leHQsIHN0YXRlLCBnZXRUcmFja1JlZmVyZW5jZUlkKVxuICB9O1xufVxuZnVuY3Rpb24gbGlzdE5lZWRzVXBkYXRpbmcoY2hhbmdlcykge1xuICByZXR1cm4gY2hhbmdlcy5hZGRlZC5sZW5ndGggIT09IDAgfHwgY2hhbmdlcy5kcm9wcGVkLmxlbmd0aCAhPT0gMDtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleCh0cmFja1JlZmVyZW5jZSwgdHJhY2tSZWZlcmVuY2VzKSB7XG4gIGNvbnN0IGluZGV4VG9SZXBsYWNlID0gdHJhY2tSZWZlcmVuY2VzLmZpbmRJbmRleChcbiAgICAodHJhY2tSZWZlcmVuY2VfKSA9PiBnZXRUcmFja1JlZmVyZW5jZUlkKHRyYWNrUmVmZXJlbmNlXykgPT09IGdldFRyYWNrUmVmZXJlbmNlSWQodHJhY2tSZWZlcmVuY2UpXG4gICk7XG4gIGlmIChpbmRleFRvUmVwbGFjZSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRWxlbWVudCBub3QgcGFydCBvZiB0aGUgYXJyYXk6ICR7Z2V0VHJhY2tSZWZlcmVuY2VJZChcbiAgICAgICAgdHJhY2tSZWZlcmVuY2VcbiAgICAgICl9IG5vdCBpbiAke2ZsYXRUcmFja1JlZmVyZW5jZUFycmF5KHRyYWNrUmVmZXJlbmNlcyl9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGluZGV4VG9SZXBsYWNlO1xufVxuZnVuY3Rpb24gc3dhcEl0ZW1zKG1vdmVGb3J3YXJkLCBtb3ZlQmFjaywgdHJhY2tSZWZlcmVuY2VzKSB7XG4gIGNvbnN0IGluZGV4VG9SZXBsYWNlID0gZmluZEluZGV4KG1vdmVGb3J3YXJkLCB0cmFja1JlZmVyZW5jZXMpO1xuICBjb25zdCBpbmRleFJlcGxhY2VXaXRoID0gZmluZEluZGV4KG1vdmVCYWNrLCB0cmFja1JlZmVyZW5jZXMpO1xuICB0cmFja1JlZmVyZW5jZXMuc3BsaWNlKGluZGV4VG9SZXBsYWNlLCAxLCBtb3ZlQmFjayk7XG4gIHRyYWNrUmVmZXJlbmNlcy5zcGxpY2UoaW5kZXhSZXBsYWNlV2l0aCwgMSwgbW92ZUZvcndhcmQpO1xuICByZXR1cm4gdHJhY2tSZWZlcmVuY2VzO1xufVxuZnVuY3Rpb24gZHJvcEl0ZW0oaXRlbVRvRHJvcCwgbGlzdCkge1xuICBjb25zdCBpbmRleE9mRWxlbWVudFRvRHJvcCA9IGZpbmRJbmRleChpdGVtVG9Ecm9wLCBsaXN0KTtcbiAgbGlzdC5zcGxpY2UoaW5kZXhPZkVsZW1lbnRUb0Ryb3AsIDEpO1xuICByZXR1cm4gbGlzdDtcbn1cbmZ1bmN0aW9uIGFkZEl0ZW0oaXRlbVRvQWRkLCBsaXN0KSB7XG4gIHJldHVybiBbLi4ubGlzdCwgaXRlbVRvQWRkXTtcbn1cbmZ1bmN0aW9uIGRpdmlkZUludG9QYWdlcyhsaXN0LCBtYXhFbGVtZW50c09uUGFnZSkge1xuICBjb25zdCBwYWdlcyA9IGNodW5rKGxpc3QsIG1heEVsZW1lbnRzT25QYWdlKTtcbiAgcmV0dXJuIHBhZ2VzO1xufVxuZnVuY3Rpb24gdXBkYXRlUGFnZXMoY3VycmVudExpc3QsIG5leHRMaXN0LCBtYXhJdGVtc09uUGFnZSkge1xuICBsZXQgdXBkYXRlZExpc3QgPSByZWZyZXNoTGlzdChjdXJyZW50TGlzdCwgbmV4dExpc3QpO1xuICBpZiAodXBkYXRlZExpc3QubGVuZ3RoIDwgbmV4dExpc3QubGVuZ3RoKSB7XG4gICAgY29uc3QgYWRkZWRJdGVtcyA9IGRpZmZlcmVuY2VCeShuZXh0TGlzdCwgdXBkYXRlZExpc3QsIGdldFRyYWNrUmVmZXJlbmNlSWQpO1xuICAgIHVwZGF0ZWRMaXN0ID0gWy4uLnVwZGF0ZWRMaXN0LCAuLi5hZGRlZEl0ZW1zXTtcbiAgfVxuICBjb25zdCBjdXJyZW50UGFnZXMgPSBkaXZpZGVJbnRvUGFnZXModXBkYXRlZExpc3QsIG1heEl0ZW1zT25QYWdlKTtcbiAgY29uc3QgbmV4dFBhZ2VzID0gZGl2aWRlSW50b1BhZ2VzKG5leHRMaXN0LCBtYXhJdGVtc09uUGFnZSk7XG4gIHppcChjdXJyZW50UGFnZXMsIG5leHRQYWdlcykuZm9yRWFjaCgoW2N1cnJlbnRQYWdlLCBuZXh0UGFnZV0sIHBhZ2VJbmRleCkgPT4ge1xuICAgIGlmIChjdXJyZW50UGFnZSAmJiBuZXh0UGFnZSkge1xuICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSBkaXZpZGVJbnRvUGFnZXModXBkYXRlZExpc3QsIG1heEl0ZW1zT25QYWdlKVtwYWdlSW5kZXhdO1xuICAgICAgY29uc3QgY2hhbmdlcyA9IHZpc3VhbFBhZ2VDaGFuZ2UodXBkYXRlZFBhZ2UsIG5leHRQYWdlKTtcbiAgICAgIGlmIChsaXN0TmVlZHNVcGRhdGluZyhjaGFuZ2VzKSkge1xuICAgICAgICBsb2cuZGVidWcoXG4gICAgICAgICAgYERldGVjdGVkIHZpc3VhbCBjaGFuZ2VzIG9uIHBhZ2U6ICR7cGFnZUluZGV4fSwgY3VycmVudDogJHtmbGF0VHJhY2tSZWZlcmVuY2VBcnJheShcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlXG4gICAgICAgICAgKX0sIG5leHQ6ICR7ZmxhdFRyYWNrUmVmZXJlbmNlQXJyYXkobmV4dFBhZ2UpfWAsXG4gICAgICAgICAgeyBjaGFuZ2VzIH1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNoYW5nZXMuYWRkZWQubGVuZ3RoID09PSBjaGFuZ2VzLmRyb3BwZWQubGVuZ3RoKSB7XG4gICAgICAgICAgemlwKGNoYW5nZXMuYWRkZWQsIGNoYW5nZXMuZHJvcHBlZCkuZm9yRWFjaCgoW2FkZGVkLCBkcm9wcGVkXSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFkZGVkICYmIGRyb3BwZWQpIHtcbiAgICAgICAgICAgICAgdXBkYXRlZExpc3QgPSBzd2FwSXRlbXMoYWRkZWQsIGRyb3BwZWQsIHVwZGF0ZWRMaXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgRm9yIGEgc3dhcCBhY3Rpb24gd2UgbmVlZCBhIGFkZGl0aW9uIGFuZCBhIHJlbW92YWwgb25lIGlzIG1pc3Npbmc6ICR7YWRkZWR9LCAke2Ryb3BwZWR9YFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzLmFkZGVkLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzLmRyb3BwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNoYW5nZXMuZHJvcHBlZC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVkTGlzdCA9IGRyb3BJdGVtKGl0ZW0sIHVwZGF0ZWRMaXN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlcy5hZGRlZC5sZW5ndGggPiAwICYmIGNoYW5nZXMuZHJvcHBlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjaGFuZ2VzLmFkZGVkLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZWRMaXN0ID0gYWRkSXRlbShpdGVtLCB1cGRhdGVkTGlzdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAodXBkYXRlZExpc3QubGVuZ3RoID4gbmV4dExpc3QubGVuZ3RoKSB7XG4gICAgY29uc3QgbWlzc2luZ0l0ZW1zID0gZGlmZmVyZW5jZUJ5KHVwZGF0ZWRMaXN0LCBuZXh0TGlzdCwgZ2V0VHJhY2tSZWZlcmVuY2VJZCk7XG4gICAgdXBkYXRlZExpc3QgPSB1cGRhdGVkTGlzdC5maWx0ZXIoXG4gICAgICAoaXRlbSkgPT4gIW1pc3NpbmdJdGVtcy5tYXAoZ2V0VHJhY2tSZWZlcmVuY2VJZCkuaW5jbHVkZXMoZ2V0VHJhY2tSZWZlcmVuY2VJZChpdGVtKSlcbiAgICApO1xuICB9XG4gIHJldHVybiB1cGRhdGVkTGlzdDtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hMaXN0KGN1cnJlbnRMaXN0LCBuZXh0TGlzdCkge1xuICByZXR1cm4gY3VycmVudExpc3QubWFwKChjdXJyZW50SXRlbSkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUZvckN1cnJlbnRJdGVtID0gbmV4dExpc3QuZmluZChcbiAgICAgIChuZXdJdGVtXykgPT4gKFxuICAgICAgICAvLyBJZiB0aGUgSURzIG1hdGNoIG9yIC4uXG4gICAgICAgIGdldFRyYWNrUmVmZXJlbmNlSWQoY3VycmVudEl0ZW0pID09PSBnZXRUcmFja1JlZmVyZW5jZUlkKG5ld0l0ZW1fKSB8fCAvLyAuLi4gaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhIHBsYWNlaG9sZGVyIGFuZCB0aGUgbmV3IGl0ZW0gaXMgdGhlIHRyYWNrIHJlZmVyZW5jZSBjYW4gcmVwbGFjZSBpdC5cbiAgICAgICAgdHlwZW9mIGN1cnJlbnRJdGVtICE9PSBcIm51bWJlclwiICYmIGlzVHJhY2tSZWZlcmVuY2VQbGFjZWhvbGRlcihjdXJyZW50SXRlbSkgJiYgaXNUcmFja1JlZmVyZW5jZShuZXdJdGVtXykgJiYgaXNQbGFjZWhvbGRlclJlcGxhY2VtZW50KGN1cnJlbnRJdGVtLCBuZXdJdGVtXylcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB1cGRhdGVGb3JDdXJyZW50SXRlbSAhPSBudWxsID8gdXBkYXRlRm9yQ3VycmVudEl0ZW0gOiBjdXJyZW50SXRlbTtcbiAgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL21lZGlhVG9nZ2xlLnRzXG5pbXBvcnQgeyBUcmFjayBhcyBUcmFjazcgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IFN1YmplY3QgYXMgU3ViamVjdDIsIG1hcCBhcyBtYXA0LCBzdGFydFdpdGggYXMgc3RhcnRXaXRoNCB9IGZyb20gXCJyeGpzXCI7XG5cbi8vIHNyYy9vYnNlcnZhYmxlcy9wYXJ0aWNpcGFudC50c1xuaW1wb3J0IHsgUGFydGljaXBhbnRFdmVudCBhcyBQYXJ0aWNpcGFudEV2ZW50MiwgUm9vbUV2ZW50IGFzIFJvb21FdmVudDMsIFRyYWNrIGFzIFRyYWNrNiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IHsgbWFwIGFzIG1hcDMsIHN3aXRjaE1hcCwgT2JzZXJ2YWJsZSBhcyBPYnNlcnZhYmxlMiwgc3RhcnRXaXRoIGFzIHN0YXJ0V2l0aDMgfSBmcm9tIFwicnhqc1wiO1xuXG4vLyBzcmMvb2JzZXJ2YWJsZXMvcm9vbS50c1xuaW1wb3J0IHsgU3ViamVjdCwgbWFwLCBPYnNlcnZhYmxlLCBzdGFydFdpdGgsIGZpbmFsaXplLCBmaWx0ZXIsIGNvbmNhdCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBMb2NhbFBhcnRpY2lwYW50IGFzIExvY2FsUGFydGljaXBhbnQzLCBSb29tLCBSb29tRXZlbnQgYXMgUm9vbUV2ZW50MiwgVHJhY2sgYXMgVHJhY2s0IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5mdW5jdGlvbiBvYnNlcnZlUm9vbUV2ZW50cyhyb29tLCAuLi5ldmVudHMpIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmUpID0+IHtcbiAgICBjb25zdCBvblJvb21VcGRhdGUgPSAoKSA9PiB7XG4gICAgICBzdWJzY3JpYmUubmV4dChyb29tKTtcbiAgICB9O1xuICAgIGV2ZW50cy5mb3JFYWNoKChldnQpID0+IHtcbiAgICAgIHJvb20ub24oZXZ0LCBvblJvb21VcGRhdGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgZXZlbnRzLmZvckVhY2goKGV2dCkgPT4ge1xuICAgICAgICByb29tLm9mZihldnQsIG9uUm9vbVVwZGF0ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfSkucGlwZShzdGFydFdpdGgocm9vbSkpO1xuICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIHJvb21FdmVudFNlbGVjdG9yKHJvb20sIGV2ZW50KSB7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlID0gKC4uLnBhcmFtcykgPT4ge1xuICAgICAgc3Vic2NyaWJlLm5leHQocGFyYW1zKTtcbiAgICB9O1xuICAgIHJvb20ub24oZXZlbnQsIHVwZGF0ZSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICByb29tLm9mZihldmVudCwgdXBkYXRlKTtcbiAgICB9O1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfSk7XG4gIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gcm9vbU9ic2VydmVyKHJvb20pIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG9ic2VydmVSb29tRXZlbnRzKFxuICAgIHJvb20sXG4gICAgUm9vbUV2ZW50Mi5QYXJ0aWNpcGFudENvbm5lY3RlZCxcbiAgICBSb29tRXZlbnQyLlBhcnRpY2lwYW50RGlzY29ubmVjdGVkLFxuICAgIFJvb21FdmVudDIuQWN0aXZlU3BlYWtlcnNDaGFuZ2VkLFxuICAgIFJvb21FdmVudDIuVHJhY2tTdWJzY3JpYmVkLFxuICAgIFJvb21FdmVudDIuVHJhY2tVbnN1YnNjcmliZWQsXG4gICAgUm9vbUV2ZW50Mi5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICAgIFJvb21FdmVudDIuTG9jYWxUcmFja1VucHVibGlzaGVkLFxuICAgIFJvb21FdmVudDIuQXVkaW9QbGF5YmFja1N0YXR1c0NoYW5nZWQsXG4gICAgUm9vbUV2ZW50Mi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gICkucGlwZShzdGFydFdpdGgocm9vbSkpO1xuICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGNvbm5lY3Rpb25TdGF0ZU9ic2VydmVyKHJvb20pIHtcbiAgcmV0dXJuIHJvb21FdmVudFNlbGVjdG9yKHJvb20sIFJvb21FdmVudDIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCkucGlwZShcbiAgICBtYXAoKFtjb25uZWN0aW9uU3RhdGVdKSA9PiBjb25uZWN0aW9uU3RhdGUpLFxuICAgIHN0YXJ0V2l0aChyb29tLnN0YXRlKVxuICApO1xufVxuZnVuY3Rpb24gc2NyZWVuU2hhcmVPYnNlcnZlcihyb29tKSB7XG4gIGxldCBzY3JlZW5TaGFyZVN1YnNjcmliZXI7XG4gIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXIpID0+IHtcbiAgICBzY3JlZW5TaGFyZVN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuICBjb25zdCBzY3JlZW5TaGFyZVRyYWNrcyA9IFtdO1xuICBjb25zdCBoYW5kbGVTdWIgPSAocHVibGljYXRpb24sIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgaWYgKHB1YmxpY2F0aW9uLnNvdXJjZSAhPT0gVHJhY2s0LlNvdXJjZS5TY3JlZW5TaGFyZSAmJiBwdWJsaWNhdGlvbi5zb3VyY2UgIT09IFRyYWNrNC5Tb3VyY2UuU2NyZWVuU2hhcmVBdWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdHJhY2tNYXAgPSBzY3JlZW5TaGFyZVRyYWNrcy5maW5kKCh0cikgPT4gdHIucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IHBhcnRpY2lwYW50LmlkZW50aXR5KTtcbiAgICBjb25zdCBnZXRTY3JlZW5TaGFyZVRyYWNrcyA9IChwYXJ0aWNpcGFudDIpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudDIuZ2V0VHJhY2tzKCkuZmlsdGVyKFxuICAgICAgICAodHJhY2spID0+ICh0cmFjay5zb3VyY2UgPT09IFRyYWNrNC5Tb3VyY2UuU2NyZWVuU2hhcmUgfHwgdHJhY2suc291cmNlID09PSBUcmFjazQuU291cmNlLlNjcmVlblNoYXJlQXVkaW8pICYmIHRyYWNrLnRyYWNrXG4gICAgICApO1xuICAgIH07XG4gICAgaWYgKCF0cmFja01hcCkge1xuICAgICAgdHJhY2tNYXAgPSB7XG4gICAgICAgIHBhcnRpY2lwYW50LFxuICAgICAgICB0cmFja3M6IGdldFNjcmVlblNoYXJlVHJhY2tzKHBhcnRpY2lwYW50KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSBzY3JlZW5TaGFyZVRyYWNrcy5pbmRleE9mKHRyYWNrTWFwKTtcbiAgICAgIHNjcmVlblNoYXJlVHJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0cmFja01hcC50cmFja3MgPSBnZXRTY3JlZW5TaGFyZVRyYWNrcyhwYXJ0aWNpcGFudCk7XG4gICAgfVxuICAgIGlmICh0cmFja01hcC50cmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgc2NyZWVuU2hhcmVUcmFja3MucHVzaCh0cmFja01hcCk7XG4gICAgfVxuICAgIHNjcmVlblNoYXJlU3Vic2NyaWJlci5uZXh0KHNjcmVlblNoYXJlVHJhY2tzKTtcbiAgfTtcbiAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgcm9vbUV2ZW50U2VsZWN0b3Iocm9vbSwgUm9vbUV2ZW50Mi5UcmFja1N1YnNjcmliZWQpLnN1YnNjcmliZShcbiAgICAgIChbLCAuLi5hcmdzXSkgPT4gaGFuZGxlU3ViKC4uLmFyZ3MpXG4gICAgKVxuICApO1xuICBvYnNlcnZlcnMucHVzaChcbiAgICByb29tRXZlbnRTZWxlY3Rvcihyb29tLCBSb29tRXZlbnQyLlRyYWNrVW5zdWJzY3JpYmVkKS5zdWJzY3JpYmUoXG4gICAgICAoWywgLi4uYXJnc10pID0+IGhhbmRsZVN1YiguLi5hcmdzKVxuICAgIClcbiAgKTtcbiAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgcm9vbUV2ZW50U2VsZWN0b3Iocm9vbSwgUm9vbUV2ZW50Mi5Mb2NhbFRyYWNrUHVibGlzaGVkKS5zdWJzY3JpYmUoKGFyZ3MpID0+IGhhbmRsZVN1YiguLi5hcmdzKSlcbiAgKTtcbiAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgcm9vbUV2ZW50U2VsZWN0b3Iocm9vbSwgUm9vbUV2ZW50Mi5Mb2NhbFRyYWNrVW5wdWJsaXNoZWQpLnN1YnNjcmliZSgoYXJncykgPT4ge1xuICAgICAgaGFuZGxlU3ViKC4uLmFyZ3MpO1xuICAgIH0pXG4gICk7XG4gIG9ic2VydmVycy5wdXNoKFxuICAgIHJvb21FdmVudFNlbGVjdG9yKHJvb20sIFJvb21FdmVudDIuVHJhY2tNdXRlZCkuc3Vic2NyaWJlKChhcmdzKSA9PiB7XG4gICAgICBoYW5kbGVTdWIoLi4uYXJncyk7XG4gICAgfSlcbiAgKTtcbiAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgcm9vbUV2ZW50U2VsZWN0b3Iocm9vbSwgUm9vbUV2ZW50Mi5UcmFja1VubXV0ZWQpLnN1YnNjcmliZSgoYXJncykgPT4ge1xuICAgICAgaGFuZGxlU3ViKC4uLmFyZ3MpO1xuICAgIH0pXG4gICk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGZvciAoY29uc3QgcCBvZiByb29tLnBhcnRpY2lwYW50cy52YWx1ZXMoKSkge1xuICAgICAgcC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICBoYW5kbGVTdWIodHJhY2ssIHApO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCAxKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiByb29tSW5mb09ic2VydmVyKHJvb20pIHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlUm9vbUV2ZW50cyhcbiAgICByb29tLFxuICAgIFJvb21FdmVudDIuUm9vbU1ldGFkYXRhQ2hhbmdlZCxcbiAgICBSb29tRXZlbnQyLkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAgKS5waXBlKFxuICAgIG1hcCgocikgPT4ge1xuICAgICAgcmV0dXJuIHsgbmFtZTogci5uYW1lLCBtZXRhZGF0YTogci5tZXRhZGF0YSB9O1xuICAgIH0pXG4gICk7XG4gIHJldHVybiBvYnNlcnZlcjtcbn1cbmZ1bmN0aW9uIGFjdGl2ZVNwZWFrZXJPYnNlcnZlcihyb29tKSB7XG4gIHJldHVybiByb29tRXZlbnRTZWxlY3Rvcihyb29tLCBSb29tRXZlbnQyLkFjdGl2ZVNwZWFrZXJzQ2hhbmdlZCkucGlwZShcbiAgICBtYXAoKFtzcGVha2Vyc10pID0+IHNwZWFrZXJzKVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlTWVkaWFEZXZpY2VPYnNlcnZlcihraW5kLCBvbkVycm9yLCByZXF1ZXN0UGVybWlzc2lvbnMgPSB0cnVlKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgb25EZXZpY2VDaGFuZ2UgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld0RldmljZXMgPSB5aWVsZCBSb29tLmdldExvY2FsRGV2aWNlcyhraW5kLCByZXF1ZXN0UGVybWlzc2lvbnMpO1xuICAgICAgZGV2aWNlU3ViamVjdC5uZXh0KG5ld0RldmljZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3IoZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZGV2aWNlU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBkZXZpY2VTdWJqZWN0LnBpcGUoXG4gICAgZmluYWxpemUoKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIChfYTIgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLCBvbkRldmljZUNoYW5nZSk7XG4gICAgfSlcbiAgKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAoIXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEFjY2Vzc2luZyBtZWRpYSBkZXZpY2VzIGlzIGF2YWlsYWJsZSBvbmx5IGluIHNlY3VyZSBjb250ZXh0cyAoSFRUUFMgYW5kIGxvY2FsaG9zdCksIGluIHNvbWUgb3IgYWxsIHN1cHBvcnRpbmcgYnJvd3NlcnMuIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9tZWRpYURldmljZXNgXG4gICAgICApO1xuICAgIH1cbiAgICAoX2EgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsIG9uRGV2aWNlQ2hhbmdlKTtcbiAgfVxuICByZXR1cm4gY29uY2F0KFxuICAgIFJvb20uZ2V0TG9jYWxEZXZpY2VzKGtpbmQsIHJlcXVlc3RQZXJtaXNzaW9ucykuY2F0Y2goKGUpID0+IG9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3IoZSkpLFxuICAgIG9ic2VydmFibGVcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURhdGFPYnNlcnZlcihyb29tKSB7XG4gIHJldHVybiByb29tRXZlbnRTZWxlY3Rvcihyb29tLCBSb29tRXZlbnQyLkRhdGFSZWNlaXZlZCk7XG59XG5mdW5jdGlvbiByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlKHJvb20pIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG9ic2VydmVSb29tRXZlbnRzKHJvb20sIFJvb21FdmVudDIuQXVkaW9QbGF5YmFja1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgbWFwKChyb29tMikgPT4ge1xuICAgICAgcmV0dXJuIHsgY2FuUGxheUF1ZGlvOiByb29tMi5jYW5QbGF5YmFja0F1ZGlvIH07XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiByb29tVmlkZW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlKHJvb20pIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG9ic2VydmVSb29tRXZlbnRzKHJvb20sIFJvb21FdmVudDIuVmlkZW9QbGF5YmFja1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgbWFwKChyb29tMikgPT4ge1xuICAgICAgcmV0dXJuIHsgY2FuUGxheVZpZGVvOiByb29tMi5jYW5QbGF5YmFja1ZpZGVvIH07XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVBY3RpdmVEZXZpY2VPYnNlcnZhYmxlKHJvb20sIGtpbmQpIHtcbiAgcmV0dXJuIHJvb21FdmVudFNlbGVjdG9yKHJvb20sIFJvb21FdmVudDIuQWN0aXZlRGV2aWNlQ2hhbmdlZCkucGlwZShcbiAgICBmaWx0ZXIoKFtraW5kT2ZEZXZpY2VdKSA9PiBraW5kT2ZEZXZpY2UgPT09IGtpbmQpLFxuICAgIG1hcCgoW2tpbmQyLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgIGxvZy5kZWJ1ZyhcImFjdGl2ZURldmljZU9ic2VydmFibGUgfCBSb29tRXZlbnQuQWN0aXZlRGV2aWNlQ2hhbmdlZFwiLCB7IGtpbmQ6IGtpbmQyLCBkZXZpY2VJZCB9KTtcbiAgICAgIHJldHVybiBkZXZpY2VJZDtcbiAgICB9KSxcbiAgICBzdGFydFdpdGgocm9vbS5nZXRBY3RpdmVEZXZpY2Uoa2luZCkpXG4gICk7XG59XG5mdW5jdGlvbiBlbmNyeXB0aW9uU3RhdHVzT2JzZXJ2YWJsZShyb29tLCBwYXJ0aWNpcGFudCkge1xuICByZXR1cm4gcm9vbUV2ZW50U2VsZWN0b3Iocm9vbSwgUm9vbUV2ZW50Mi5QYXJ0aWNpcGFudEVuY3J5cHRpb25TdGF0dXNDaGFuZ2VkKS5waXBlKFxuICAgIGZpbHRlcihcbiAgICAgIChbLCBwXSkgPT4gcGFydGljaXBhbnQuaWRlbnRpdHkgPT09IChwID09IG51bGwgPyB2b2lkIDAgOiBwLmlkZW50aXR5KSB8fCAhcCAmJiBwYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gcm9vbS5sb2NhbFBhcnRpY2lwYW50LmlkZW50aXR5XG4gICAgKSxcbiAgICBtYXAoKFtlbmNyeXB0ZWRdKSA9PiBlbmNyeXB0ZWQpLFxuICAgIHN0YXJ0V2l0aChcbiAgICAgIHBhcnRpY2lwYW50IGluc3RhbmNlb2YgTG9jYWxQYXJ0aWNpcGFudDMgPyBwYXJ0aWNpcGFudC5pc0UyRUVFbmFibGVkIDogcGFydGljaXBhbnQuaXNFbmNyeXB0ZWRcbiAgICApXG4gICk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL21lZGlhVHJhY2sudHNcbmltcG9ydCB7IFRyYWNrIGFzIFRyYWNrNSB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IHsgbWFwIGFzIG1hcDIsIHN0YXJ0V2l0aCBhcyBzdGFydFdpdGgyIH0gZnJvbSBcInJ4anNcIjtcblxuLy8gc3JjL3N0eWxlcy1pbnRlcmZhY2UvY2xhc3MtcHJlZml4ZXIudHNcbmZ1bmN0aW9uIHByZWZpeENsYXNzKHVucHJlZml4ZWRDbGFzc05hbWUpIHtcbiAgcmV0dXJuIGAke2Nzc1ByZWZpeH0tJHt1bnByZWZpeGVkQ2xhc3NOYW1lfWA7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL21lZGlhVHJhY2sudHNcbmZ1bmN0aW9uIHNldHVwTWVkaWFUcmFjayh0cmFja0lkZW50aWZpZXIpIHtcbiAgY29uc3QgaW5pdGlhbFB1YiA9IGdldFRyYWNrQnlJZGVudGlmaWVyKHRyYWNrSWRlbnRpZmllcik7XG4gIGNvbnN0IHRyYWNrT2JzZXJ2ZXIgPSBvYnNlcnZlUGFydGljaXBhbnRNZWRpYSh0cmFja0lkZW50aWZpZXIucGFydGljaXBhbnQpLnBpcGUoXG4gICAgbWFwMigoKSA9PiB7XG4gICAgICByZXR1cm4gZ2V0VHJhY2tCeUlkZW50aWZpZXIodHJhY2tJZGVudGlmaWVyKTtcbiAgICB9KSxcbiAgICBzdGFydFdpdGgyKGluaXRpYWxQdWIpXG4gICk7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByZWZpeENsYXNzKFxuICAgIHRyYWNrSWRlbnRpZmllci5zb3VyY2UgPT09IFRyYWNrNS5Tb3VyY2UuQ2FtZXJhIHx8IHRyYWNrSWRlbnRpZmllci5zb3VyY2UgPT09IFRyYWNrNS5Tb3VyY2UuU2NyZWVuU2hhcmUgPyBcInBhcnRpY2lwYW50LW1lZGlhLXZpZGVvXCIgOiBcInBhcnRpY2lwYW50LW1lZGlhLWF1ZGlvXCJcbiAgKTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lLCB0cmFja09ic2VydmVyIH07XG59XG5mdW5jdGlvbiBnZXRUcmFja0J5SWRlbnRpZmllcihvcHRpb25zKSB7XG4gIGlmIChpc1RyYWNrUmVmZXJlbmNlKG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMucHVibGljYXRpb247XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeyBzb3VyY2UsIG5hbWUsIHBhcnRpY2lwYW50IH0gPSBvcHRpb25zO1xuICAgIGlmIChzb3VyY2UgJiYgbmFtZSkge1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50LmdldFRyYWNrcygpLmZpbmQoKHB1YikgPT4gcHViLnNvdXJjZSA9PT0gc291cmNlICYmIHB1Yi50cmFja05hbWUgPT09IG5hbWUpO1xuICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50LmdldFRyYWNrQnlOYW1lKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gcGFydGljaXBhbnQuZ2V0VHJhY2soc291cmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIG9mIHNvdXJjZSBhbmQgbmFtZSBuZWVkcyB0byBiZSBkZWZpbmVkXCIpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvb2JzZXJ2YWJsZXMvcGFydGljaXBhbnQudHNcbmZ1bmN0aW9uIG9ic2VydmVQYXJ0aWNpcGFudEV2ZW50cyhwYXJ0aWNpcGFudCwgLi4uZXZlbnRzKSB7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTIoKHN1YnNjcmliZSkgPT4ge1xuICAgIGNvbnN0IG9uUGFydGljaXBhbnRVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBzdWJzY3JpYmUubmV4dChwYXJ0aWNpcGFudCk7XG4gICAgfTtcbiAgICBldmVudHMuZm9yRWFjaCgoZXZ0KSA9PiB7XG4gICAgICBwYXJ0aWNpcGFudC5vbihldnQsIG9uUGFydGljaXBhbnRVcGRhdGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgZXZlbnRzLmZvckVhY2goKGV2dCkgPT4ge1xuICAgICAgICBwYXJ0aWNpcGFudC5vZmYoZXZ0LCBvblBhcnRpY2lwYW50VXBkYXRlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICB9KS5waXBlKHN0YXJ0V2l0aDMocGFydGljaXBhbnQpKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBvYnNlcnZlUGFydGljaXBhbnRNZWRpYShwYXJ0aWNpcGFudCkge1xuICBjb25zdCBwYXJ0aWNpcGFudE9ic2VydmVyID0gb2JzZXJ2ZVBhcnRpY2lwYW50RXZlbnRzKFxuICAgIHBhcnRpY2lwYW50LFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLlRyYWNrTXV0ZWQsXG4gICAgUGFydGljaXBhbnRFdmVudDIuVHJhY2tVbm11dGVkLFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkLFxuICAgIC8vIFBhcnRpY2lwYW50RXZlbnQuSXNTcGVha2luZ0NoYW5nZWQsXG4gICAgUGFydGljaXBhbnRFdmVudDIuVHJhY2tQdWJsaXNoZWQsXG4gICAgUGFydGljaXBhbnRFdmVudDIuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLkxvY2FsVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5NZWRpYURldmljZXNFcnJvcixcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcbiAgICAvLyBQYXJ0aWNpcGFudEV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgKS5waXBlKFxuICAgIG1hcDMoKHApID0+IHtcbiAgICAgIGNvbnN0IHsgaXNNaWNyb3Bob25lRW5hYmxlZCwgaXNDYW1lcmFFbmFibGVkLCBpc1NjcmVlblNoYXJlRW5hYmxlZCB9ID0gcDtcbiAgICAgIGNvbnN0IG1pY3JvcGhvbmVUcmFjayA9IHAuZ2V0VHJhY2soVHJhY2s2LlNvdXJjZS5NaWNyb3Bob25lKTtcbiAgICAgIGNvbnN0IGNhbWVyYVRyYWNrID0gcC5nZXRUcmFjayhUcmFjazYuU291cmNlLkNhbWVyYSk7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudE1lZGlhID0ge1xuICAgICAgICBpc0NhbWVyYUVuYWJsZWQsXG4gICAgICAgIGlzTWljcm9waG9uZUVuYWJsZWQsXG4gICAgICAgIGlzU2NyZWVuU2hhcmVFbmFibGVkLFxuICAgICAgICBjYW1lcmFUcmFjayxcbiAgICAgICAgbWljcm9waG9uZVRyYWNrLFxuICAgICAgICBwYXJ0aWNpcGFudDogcFxuICAgICAgfTtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudE1lZGlhO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiBwYXJ0aWNpcGFudE9ic2VydmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlVHJhY2tPYnNlcnZlcihwYXJ0aWNpcGFudCwgb3B0aW9ucykge1xuICByZXR1cm4gb2JzZXJ2ZVBhcnRpY2lwYW50TWVkaWEocGFydGljaXBhbnQpLnBpcGUoXG4gICAgbWFwMygoKSA9PiB7XG4gICAgICByZXR1cm4geyBwdWJsaWNhdGlvbjogZ2V0VHJhY2tCeUlkZW50aWZpZXIob3B0aW9ucykgfTtcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gcGFydGljaXBhbnRJbmZvT2JzZXJ2ZXIocGFydGljaXBhbnQpIHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlUGFydGljaXBhbnRFdmVudHMoXG4gICAgcGFydGljaXBhbnQsXG4gICAgUGFydGljaXBhbnRFdmVudDIuUGFydGljaXBhbnRNZXRhZGF0YUNoYW5nZWRcbiAgICAvLyBQYXJ0aWNpcGFudEV2ZW50LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gICkucGlwZShcbiAgICBtYXAzKCh7IG5hbWUsIGlkZW50aXR5LCBtZXRhZGF0YSB9KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBpZGVudGl0eSxcbiAgICAgICAgbWV0YWRhdGFcbiAgICAgIH07XG4gICAgfSksXG4gICAgc3RhcnRXaXRoMyh7XG4gICAgICBuYW1lOiBwYXJ0aWNpcGFudC5uYW1lLFxuICAgICAgaWRlbnRpdHk6IHBhcnRpY2lwYW50LmlkZW50aXR5LFxuICAgICAgbWV0YWRhdGE6IHBhcnRpY2lwYW50Lm1ldGFkYXRhXG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvblF1YWxpdHlPYnNlcnZlcihwYXJ0aWNpcGFudCkge1xuICBjb25zdCBvYnNlcnZlciA9IHBhcnRpY2lwYW50RXZlbnRTZWxlY3RvcihcbiAgICBwYXJ0aWNpcGFudCxcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAgKS5waXBlKFxuICAgIG1hcDMoKFtxdWFsaXR5XSkgPT4gcXVhbGl0eSksXG4gICAgc3RhcnRXaXRoMyhwYXJ0aWNpcGFudC5jb25uZWN0aW9uUXVhbGl0eSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuZnVuY3Rpb24gcGFydGljaXBhbnRFdmVudFNlbGVjdG9yKHBhcnRpY2lwYW50LCBldmVudCkge1xuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUyKChzdWJzY3JpYmUpID0+IHtcbiAgICBjb25zdCB1cGRhdGUgPSAoLi4ucGFyYW1zKSA9PiB7XG4gICAgICBzdWJzY3JpYmUubmV4dChwYXJhbXMpO1xuICAgIH07XG4gICAgcGFydGljaXBhbnQub24oZXZlbnQsIHVwZGF0ZSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICBwYXJ0aWNpcGFudC5vZmYoZXZlbnQsIHVwZGF0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gIH0pO1xuICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIG11dGVkT2JzZXJ2ZXIodHJhY2tSZWYpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICByZXR1cm4gb2JzZXJ2ZVBhcnRpY2lwYW50RXZlbnRzKFxuICAgIHRyYWNrUmVmLnBhcnRpY2lwYW50LFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLlRyYWNrTXV0ZWQsXG4gICAgUGFydGljaXBhbnRFdmVudDIuVHJhY2tVbm11dGVkLFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLlRyYWNrU3Vic2NyaWJlZCxcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5UcmFja1Vuc3Vic2NyaWJlZCxcbiAgICBQYXJ0aWNpcGFudEV2ZW50Mi5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxuICApLnBpcGUoXG4gICAgbWFwMygocGFydGljaXBhbnQpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgIGNvbnN0IHB1YiA9IChfYTIgPSB0cmFja1JlZi5wdWJsaWNhdGlvbikgIT0gbnVsbCA/IF9hMiA6IHBhcnRpY2lwYW50LmdldFRyYWNrKHRyYWNrUmVmLnNvdXJjZSk7XG4gICAgICByZXR1cm4gKF9iMiA9IHB1YiA9PSBudWxsID8gdm9pZCAwIDogcHViLmlzTXV0ZWQpICE9IG51bGwgPyBfYjIgOiB0cnVlO1xuICAgIH0pLFxuICAgIHN0YXJ0V2l0aDMoXG4gICAgICAoX2QgPSAoX2MgPSAoX2EgPSB0cmFja1JlZi5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzTXV0ZWQpICE9IG51bGwgPyBfYyA6IChfYiA9IHRyYWNrUmVmLnBhcnRpY2lwYW50LmdldFRyYWNrKHRyYWNrUmVmLnNvdXJjZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pc011dGVkKSAhPSBudWxsID8gX2QgOiB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlSXNTcGVha2luZ09ic2VydmVyKHBhcnRpY2lwYW50KSB7XG4gIHJldHVybiBwYXJ0aWNpcGFudEV2ZW50U2VsZWN0b3IocGFydGljaXBhbnQsIFBhcnRpY2lwYW50RXZlbnQyLklzU3BlYWtpbmdDaGFuZ2VkKS5waXBlKFxuICAgIG1hcDMoKFtpc1NwZWFraW5nXSkgPT4gaXNTcGVha2luZylcbiAgKTtcbn1cbmZ1bmN0aW9uIGNvbm5lY3RlZFBhcnRpY2lwYW50c09ic2VydmVyKHJvb20sIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGxldCBzdWJzY3JpYmVyO1xuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUyKChzdWIpID0+IHtcbiAgICBzdWJzY3JpYmVyID0gc3ViO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lci51bnN1YnNjcmliZSgpO1xuICB9KS5waXBlKHN0YXJ0V2l0aDMoQXJyYXkuZnJvbShyb29tLnBhcnRpY2lwYW50cy52YWx1ZXMoKSkpKTtcbiAgY29uc3QgYWRkaXRpb25hbFJvb21FdmVudHMgPSAoX2EgPSBvcHRpb25zLmFkZGl0aW9uYWxSb29tRXZlbnRzKSAhPSBudWxsID8gX2EgOiBhbGxQYXJ0aWNpcGFudFJvb21FdmVudHM7XG4gIGNvbnN0IHJvb21FdmVudHMgPSBBcnJheS5mcm9tKFxuICAgIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgICAgIFJvb21FdmVudDMuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gICAgICBSb29tRXZlbnQzLlBhcnRpY2lwYW50RGlzY29ubmVjdGVkLFxuICAgICAgUm9vbUV2ZW50My5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLFxuICAgICAgLi4uYWRkaXRpb25hbFJvb21FdmVudHNcbiAgICBdKVxuICApO1xuICBjb25zdCBsaXN0ZW5lciA9IG9ic2VydmVSb29tRXZlbnRzKHJvb20sIC4uLnJvb21FdmVudHMpLnN1YnNjcmliZShcbiAgICAocikgPT4gc3Vic2NyaWJlciA9PSBudWxsID8gdm9pZCAwIDogc3Vic2NyaWJlci5uZXh0KEFycmF5LmZyb20oci5wYXJ0aWNpcGFudHMudmFsdWVzKCkpKVxuICApO1xuICBpZiAocm9vbS5wYXJ0aWNpcGFudHMuc2l6ZSA+IDApIHtcbiAgICBzdWJzY3JpYmVyID09IG51bGwgPyB2b2lkIDAgOiBzdWJzY3JpYmVyLm5leHQoQXJyYXkuZnJvbShyb29tLnBhcnRpY2lwYW50cy52YWx1ZXMoKSkpO1xuICB9XG4gIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gY29ubmVjdGVkUGFydGljaXBhbnRPYnNlcnZlcihyb29tLCBpZGVudGl0eSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgYWRkaXRpb25hbEV2ZW50cyA9IChfYSA9IG9wdGlvbnMuYWRkaXRpb25hbEV2ZW50cykgIT0gbnVsbCA/IF9hIDogYWxsUGFydGljaXBhbnRFdmVudHM7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBvYnNlcnZlUm9vbUV2ZW50cyhcbiAgICByb29tLFxuICAgIFJvb21FdmVudDMuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gICAgUm9vbUV2ZW50My5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICBSb29tRXZlbnQzLkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAgKS5waXBlKFxuICAgIHN3aXRjaE1hcCgocikgPT4ge1xuICAgICAgY29uc3QgcGFydGljaXBhbnQgPSByLmdldFBhcnRpY2lwYW50QnlJZGVudGl0eShpZGVudGl0eSk7XG4gICAgICBpZiAocGFydGljaXBhbnQpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVQYXJ0aWNpcGFudEV2ZW50cyhwYXJ0aWNpcGFudCwgLi4uYWRkaXRpb25hbEV2ZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUyKChzdWJzY3JpYmUpID0+IHN1YnNjcmliZS5uZXh0KHZvaWQgMCkpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHN0YXJ0V2l0aDMocm9vbS5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkoaWRlbnRpdHkpKVxuICApO1xuICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIHBhcnRpY2lwYW50UGVybWlzc2lvbk9ic2VydmVyKHBhcnRpY2lwYW50KSB7XG4gIGNvbnN0IG9ic2VydmVyID0gcGFydGljaXBhbnRFdmVudFNlbGVjdG9yKFxuICAgIHBhcnRpY2lwYW50LFxuICAgIFBhcnRpY2lwYW50RXZlbnQyLlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkXG4gICkucGlwZShcbiAgICBtYXAzKCgpID0+IHBhcnRpY2lwYW50LnBlcm1pc3Npb25zKSxcbiAgICBzdGFydFdpdGgzKHBhcnRpY2lwYW50LnBlcm1pc3Npb25zKVxuICApO1xuICByZXR1cm4gb2JzZXJ2ZXI7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL21lZGlhVG9nZ2xlLnRzXG5mdW5jdGlvbiBzZXR1cE1lZGlhVG9nZ2xlKHNvdXJjZSwgcm9vbSwgb3B0aW9ucykge1xuICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQgfSA9IHJvb207XG4gIGNvbnN0IGdldFNvdXJjZUVuYWJsZWQgPSAoc291cmNlMiwgbG9jYWxQYXJ0aWNpcGFudDIpID0+IHtcbiAgICBsZXQgaXNFbmFibGVkID0gZmFsc2U7XG4gICAgc3dpdGNoIChzb3VyY2UyKSB7XG4gICAgICBjYXNlIFRyYWNrNy5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgICBpc0VuYWJsZWQgPSBsb2NhbFBhcnRpY2lwYW50Mi5pc0NhbWVyYUVuYWJsZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUcmFjazcuU291cmNlLk1pY3JvcGhvbmU6XG4gICAgICAgIGlzRW5hYmxlZCA9IGxvY2FsUGFydGljaXBhbnQyLmlzTWljcm9waG9uZUVuYWJsZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUcmFjazcuU291cmNlLlNjcmVlblNoYXJlOlxuICAgICAgICBpc0VuYWJsZWQgPSBsb2NhbFBhcnRpY2lwYW50Mi5pc1NjcmVlblNoYXJlRW5hYmxlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGlzRW5hYmxlZDtcbiAgfTtcbiAgY29uc3QgZW5hYmxlZE9ic2VydmVyID0gb2JzZXJ2ZVBhcnRpY2lwYW50TWVkaWEobG9jYWxQYXJ0aWNpcGFudCkucGlwZShcbiAgICBtYXA0KChtZWRpYSkgPT4ge1xuICAgICAgcmV0dXJuIGdldFNvdXJjZUVuYWJsZWQoc291cmNlLCBtZWRpYS5wYXJ0aWNpcGFudCk7XG4gICAgfSksXG4gICAgc3RhcnRXaXRoNChnZXRTb3VyY2VFbmFibGVkKHNvdXJjZSwgbG9jYWxQYXJ0aWNpcGFudCkpXG4gICk7XG4gIGNvbnN0IHBlbmRpbmdTdWJqZWN0ID0gbmV3IFN1YmplY3QyKCk7XG4gIGNvbnN0IHRvZ2dsZSA9IChmb3JjZVN0YXRlLCBjYXB0dXJlT3B0aW9ucykgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICBjYXB0dXJlT3B0aW9ucyAhPSBudWxsID8gY2FwdHVyZU9wdGlvbnMgOiBjYXB0dXJlT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICBwZW5kaW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgICAgc3dpdGNoIChzb3VyY2UpIHtcbiAgICAgICAgY2FzZSBUcmFjazcuU291cmNlLkNhbWVyYTpcbiAgICAgICAgICB5aWVsZCBsb2NhbFBhcnRpY2lwYW50LnNldENhbWVyYUVuYWJsZWQoXG4gICAgICAgICAgICBmb3JjZVN0YXRlICE9IG51bGwgPyBmb3JjZVN0YXRlIDogIWxvY2FsUGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkLFxuICAgICAgICAgICAgY2FwdHVyZU9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRyYWNrNy5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgICAgICB5aWVsZCBsb2NhbFBhcnRpY2lwYW50LnNldE1pY3JvcGhvbmVFbmFibGVkKFxuICAgICAgICAgICAgZm9yY2VTdGF0ZSAhPSBudWxsID8gZm9yY2VTdGF0ZSA6ICFsb2NhbFBhcnRpY2lwYW50LmlzTWljcm9waG9uZUVuYWJsZWQsXG4gICAgICAgICAgICBjYXB0dXJlT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVHJhY2s3LlNvdXJjZS5TY3JlZW5TaGFyZTpcbiAgICAgICAgICB5aWVsZCBsb2NhbFBhcnRpY2lwYW50LnNldFNjcmVlblNoYXJlRW5hYmxlZChcbiAgICAgICAgICAgIGZvcmNlU3RhdGUgIT0gbnVsbCA/IGZvcmNlU3RhdGUgOiAhbG9jYWxQYXJ0aWNpcGFudC5pc1NjcmVlblNoYXJlRW5hYmxlZCxcbiAgICAgICAgICAgIGNhcHR1cmVPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcGVuZGluZ1N1YmplY3QubmV4dChmYWxzZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY2xhc3NOYW1lID0gcHJlZml4Q2xhc3MoXCJidXR0b25cIik7XG4gIHJldHVybiB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHRvZ2dsZSxcbiAgICBlbmFibGVkT2JzZXJ2ZXIsXG4gICAgcGVuZGluZ09ic2VydmVyOiBwZW5kaW5nU3ViamVjdC5hc09ic2VydmFibGUoKVxuICB9O1xufVxuZnVuY3Rpb24gc2V0dXBNYW51YWxUb2dnbGUoKSB7XG4gIGxldCBzdGF0ZSA9IGZhbHNlO1xuICBjb25zdCBlbmFibGVkU3ViamVjdCA9IG5ldyBTdWJqZWN0MigpO1xuICBjb25zdCBwZW5kaW5nU3ViamVjdCA9IG5ldyBTdWJqZWN0MigpO1xuICBjb25zdCB0b2dnbGUgPSAoZm9yY2VTdGF0ZSkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHBlbmRpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgc3RhdGUgPSBmb3JjZVN0YXRlICE9IG51bGwgPyBmb3JjZVN0YXRlIDogIXN0YXRlO1xuICAgIGVuYWJsZWRTdWJqZWN0Lm5leHQoc3RhdGUpO1xuICAgIHBlbmRpbmdTdWJqZWN0Lm5leHQoZmFsc2UpO1xuICB9KTtcbiAgY29uc3QgY2xhc3NOYW1lID0gcHJlZml4Q2xhc3MoXCJidXR0b25cIik7XG4gIHJldHVybiB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHRvZ2dsZSxcbiAgICBlbmFibGVkT2JzZXJ2ZXI6IGVuYWJsZWRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLFxuICAgIHBlbmRpbmdPYnNlcnZlcjogcGVuZGluZ1N1YmplY3QuYXNPYnNlcnZhYmxlKClcbiAgfTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvbWVkaWFEZXZpY2VTZWxlY3QudHNcbmltcG9ydCB7XG4gIFRyYWNrIGFzIFRyYWNrOFxufSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XG5mdW5jdGlvbiBzZXR1cERldmljZVNlbGVjdG9yKGtpbmQsIHJvb20sIGxvY2FsVHJhY2spIHtcbiAgY29uc3QgYWN0aXZlRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Qodm9pZCAwKTtcbiAgY29uc3QgYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZSA9IHJvb20gPyBjcmVhdGVBY3RpdmVEZXZpY2VPYnNlcnZhYmxlKHJvb20sIGtpbmQpIDogYWN0aXZlRGV2aWNlU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgY29uc3Qgc2V0QWN0aXZlTWVkaWFEZXZpY2UgPSAoXzAsIC4uLl8xKSA9PiBfX2FzeW5jKHRoaXMsIFtfMCwgLi4uXzFdLCBmdW5jdGlvbiogKGlkLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAocm9vbSkge1xuICAgICAgbG9nLmRlYnVnKGBTd2l0Y2hpbmcgYWN0aXZlIGRldmljZSBvZiBraW5kIFwiJHtraW5kfVwiIHdpdGggaWQgJHtpZH0uYCk7XG4gICAgICB5aWVsZCByb29tLnN3aXRjaEFjdGl2ZURldmljZShraW5kLCBpZCwgb3B0aW9ucy5leGFjdCk7XG4gICAgICBjb25zdCBhY3R1YWxEZXZpY2VJZCA9IChfYSA9IHJvb20uZ2V0QWN0aXZlRGV2aWNlKGtpbmQpKSAhPSBudWxsID8gX2EgOiBpZDtcbiAgICAgIGlmIChhY3R1YWxEZXZpY2VJZCAhPT0gaWQgJiYgaWQgIT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIGxvZy5pbmZvKFxuICAgICAgICAgIGBXZSB0cmllZCB0byBzZWxlY3QgdGhlIGRldmljZSB3aXRoIGlkICgke2lkfSksIGJ1dCB0aGUgYnJvd3NlciBkZWNpZGVkIHRvIHNlbGVjdCB0aGUgZGV2aWNlIHdpdGggaWQgKCR7YWN0dWFsRGV2aWNlSWR9KSBpbnN0ZWFkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGxldCB0YXJnZXRUcmFjayA9IHZvaWQgMDtcbiAgICAgIGlmIChraW5kID09PSBcImF1ZGlvaW5wdXRcIilcbiAgICAgICAgdGFyZ2V0VHJhY2sgPSAoX2IgPSByb29tLmxvY2FsUGFydGljaXBhbnQuZ2V0VHJhY2soVHJhY2s4LlNvdXJjZS5NaWNyb3Bob25lKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRyYWNrO1xuICAgICAgZWxzZSBpZiAoa2luZCA9PT0gXCJ2aWRlb2lucHV0XCIpIHtcbiAgICAgICAgdGFyZ2V0VHJhY2sgPSAoX2MgPSByb29tLmxvY2FsUGFydGljaXBhbnQuZ2V0VHJhY2soVHJhY2s4LlNvdXJjZS5DYW1lcmEpKSA9PSBudWxsID8gdm9pZCAwIDogX2MudHJhY2s7XG4gICAgICB9XG4gICAgICBjb25zdCB1c2VEZWZhdWx0ID0gaWQgPT09IFwiZGVmYXVsdFwiICYmICF0YXJnZXRUcmFjayB8fCBpZCA9PT0gXCJkZWZhdWx0XCIgJiYgKHRhcmdldFRyYWNrID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXRUcmFjay5tZWRpYVN0cmVhbVRyYWNrLmxhYmVsLnN0YXJ0c1dpdGgoXCJEZWZhdWx0XCIpKTtcbiAgICAgIGFjdGl2ZURldmljZVN1YmplY3QubmV4dCh1c2VEZWZhdWx0ID8gaWQgOiBhY3R1YWxEZXZpY2VJZCk7XG4gICAgfSBlbHNlIGlmIChsb2NhbFRyYWNrKSB7XG4gICAgICB5aWVsZCBsb2NhbFRyYWNrLnNldERldmljZUlkKG9wdGlvbnMuZXhhY3QgPyB7IGV4YWN0OiBpZCB9IDogaWQpO1xuICAgICAgY29uc3QgYWN0dWFsSWQgPSB5aWVsZCBsb2NhbFRyYWNrLmdldERldmljZUlkKCk7XG4gICAgICBhY3RpdmVEZXZpY2VTdWJqZWN0Lm5leHQoXG4gICAgICAgIGlkID09PSBcImRlZmF1bHRcIiAmJiBsb2NhbFRyYWNrLm1lZGlhU3RyZWFtVHJhY2subGFiZWwuc3RhcnRzV2l0aChcIkRlZmF1bHRcIikgPyBpZCA6IGFjdHVhbElkXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoYWN0aXZlRGV2aWNlU3ViamVjdC52YWx1ZSAhPT0gaWQpIHtcbiAgICAgIGxvZy53YXJuKFxuICAgICAgICBcImRldmljZSBzd2l0Y2ggc2tpcHBlZCwgcGxlYXNlIHByb3ZpZGUgZWl0aGVyIGEgcm9vbSBvciBhIGxvY2FsIHRyYWNrIHRvIHN3aXRjaCBvbi4gXCJcbiAgICAgICk7XG4gICAgICBhY3RpdmVEZXZpY2VTdWJqZWN0Lm5leHQoaWQpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByZWZpeENsYXNzKFwibWVkaWEtZGV2aWNlLXNlbGVjdFwiKTtcbiAgcmV0dXJuIHtcbiAgICBjbGFzc05hbWUsXG4gICAgYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZSxcbiAgICBzZXRBY3RpdmVNZWRpYURldmljZVxuICB9O1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9kaXNjb25uZWN0QnV0dG9uLnRzXG5mdW5jdGlvbiBzZXR1cERpc2Nvbm5lY3RCdXR0b24ocm9vbSkge1xuICBjb25zdCBkaXNjb25uZWN0ID0gKHN0b3BUcmFja3MpID0+IHtcbiAgICByb29tLmRpc2Nvbm5lY3Qoc3RvcFRyYWNrcyk7XG4gIH07XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByZWZpeENsYXNzKFwiZGlzY29ubmVjdC1idXR0b25cIik7XG4gIHJldHVybiB7IGNsYXNzTmFtZSwgZGlzY29ubmVjdCB9O1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jb25uZWN0aW9uUXVhbGl0eUluZGljYXRvci50c1xuZnVuY3Rpb24gc2V0dXBDb25uZWN0aW9uUXVhbGl0eUluZGljYXRvcihwYXJ0aWNpcGFudCkge1xuICBjb25zdCBjbGFzc05hbWUgPSBwcmVmaXhDbGFzcyhcImNvbm5lY3Rpb24tcXVhbGl0eVwiKTtcbiAgY29uc3QgY29ubmVjdGlvblF1YWxpdHlPYnNlcnZlciA9IGNyZWF0ZUNvbm5lY3Rpb25RdWFsaXR5T2JzZXJ2ZXIocGFydGljaXBhbnQpO1xuICByZXR1cm4geyBjbGFzc05hbWUsIGNvbm5lY3Rpb25RdWFsaXR5T2JzZXJ2ZXIgfTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvdHJhY2tNdXRlZEluZGljYXRvci50c1xuaW1wb3J0IHsgVHJhY2sgYXMgVHJhY2s5IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5mdW5jdGlvbiBzZXR1cFRyYWNrTXV0ZWRJbmRpY2F0b3IodHJhY2tSZWYpIHtcbiAgbGV0IGNsYXNzRm9yU291cmNlID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItY2FtZXJhXCI7XG4gIHN3aXRjaCAodHJhY2tSZWYuc291cmNlKSB7XG4gICAgY2FzZSBUcmFjazkuU291cmNlLkNhbWVyYTpcbiAgICAgIGNsYXNzRm9yU291cmNlID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItY2FtZXJhXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFRyYWNrOS5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgIGNsYXNzRm9yU291cmNlID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItbWljcm9waG9uZVwiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByZWZpeENsYXNzKGNsYXNzRm9yU291cmNlKTtcbiAgY29uc3QgbWVkaWFNdXRlZE9ic2VydmVyID0gbXV0ZWRPYnNlcnZlcih0cmFja1JlZik7XG4gIHJldHVybiB7IGNsYXNzTmFtZSwgbWVkaWFNdXRlZE9ic2VydmVyIH07XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50TmFtZS50c1xuZnVuY3Rpb24gc2V0dXBQYXJ0aWNpcGFudE5hbWUocGFydGljaXBhbnQpIHtcbiAgY29uc3QgaW5mb09ic2VydmVyID0gcGFydGljaXBhbnRJbmZvT2JzZXJ2ZXIocGFydGljaXBhbnQpO1xuICByZXR1cm4geyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbmFtZVwiLCBpbmZvT2JzZXJ2ZXIgfTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRUaWxlLnRzXG5mdW5jdGlvbiBzZXR1cFBhcnRpY2lwYW50VGlsZSgpIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gcHJlZml4Q2xhc3MoXCJwYXJ0aWNpcGFudC10aWxlXCIpO1xuICByZXR1cm4ge1xuICAgIGNsYXNzTmFtZVxuICB9O1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0LnRzXG5pbXBvcnQgeyBEYXRhUGFja2V0X0tpbmQgYXMgRGF0YVBhY2tldF9LaW5kMiwgUm9vbUV2ZW50IGFzIFJvb21FdmVudDQgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCBhcyBCZWhhdmlvclN1YmplY3QyLCBTdWJqZWN0IGFzIFN1YmplY3QzLCBzY2FuLCBtYXAgYXMgbWFwNiwgdGFrZVVudGlsIH0gZnJvbSBcInJ4anNcIjtcblxuLy8gc3JjL29ic2VydmFibGVzL2RhdGFDaGFubmVsLnRzXG5pbXBvcnQgeyBEYXRhUGFja2V0X0tpbmQgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgYXMgT2JzZXJ2YWJsZTMsIGZpbHRlciBhcyBmaWx0ZXIyLCBtYXAgYXMgbWFwNSB9IGZyb20gXCJyeGpzXCI7XG52YXIgRGF0YVRvcGljID0ge1xuICBDSEFUOiBcImxrLWNoYXQtdG9waWNcIlxufTtcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKF8wLCBfMSwgXzIpIHtcbiAgcmV0dXJuIF9fYXN5bmModGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKGxvY2FsUGFydGljaXBhbnQsIHBheWxvYWQsIHRvcGljLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGtpbmQsIGRlc3RpbmF0aW9uIH0gPSBvcHRpb25zO1xuICAgIHlpZWxkIGxvY2FsUGFydGljaXBhbnQucHVibGlzaERhdGEocGF5bG9hZCwga2luZCAhPSBudWxsID8ga2luZCA6IERhdGFQYWNrZXRfS2luZC5SRUxJQUJMRSwge1xuICAgICAgZGVzdGluYXRpb24sXG4gICAgICB0b3BpY1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwRGF0YU1lc3NhZ2VIYW5kbGVyKHJvb20sIHRvcGljLCBvbk1lc3NhZ2UpIHtcbiAgY29uc3QgbWVzc2FnZU9ic2VydmFibGUgPSBjcmVhdGVEYXRhT2JzZXJ2ZXIocm9vbSkucGlwZShcbiAgICBmaWx0ZXIyKChbLCAsICwgbWVzc2FnZVRvcGljXSkgPT4gdG9waWMgPT09IHZvaWQgMCB8fCBtZXNzYWdlVG9waWMgPT09IHRvcGljKSxcbiAgICBtYXA1KChbcGF5bG9hZCwgcGFydGljaXBhbnQsICwgbWVzc2FnZVRvcGljXSkgPT4ge1xuICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICBwYXlsb2FkLFxuICAgICAgICB0b3BpYzogbWVzc2FnZVRvcGljLFxuICAgICAgICBmcm9tOiBwYXJ0aWNpcGFudFxuICAgICAgfTtcbiAgICAgIG9uTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogb25NZXNzYWdlKG1zZyk7XG4gICAgICByZXR1cm4gbXNnO1xuICAgIH0pXG4gICk7XG4gIGxldCBpc1NlbmRpbmdTdWJzY3JpYmVyO1xuICBjb25zdCBpc1NlbmRpbmdPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUzKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgaXNTZW5kaW5nU3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gIH0pO1xuICBjb25zdCBzZW5kID0gKF8wLCAuLi5fMSkgPT4gX19hc3luYyh0aGlzLCBbXzAsIC4uLl8xXSwgZnVuY3Rpb24qIChwYXlsb2FkLCBvcHRpb25zID0ge30pIHtcbiAgICBpc1NlbmRpbmdTdWJzY3JpYmVyLm5leHQodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIHlpZWxkIHNlbmRNZXNzYWdlKHJvb20ubG9jYWxQYXJ0aWNpcGFudCwgcGF5bG9hZCwgdG9waWMsIG9wdGlvbnMpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1NlbmRpbmdTdWJzY3JpYmVyLm5leHQoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7IG1lc3NhZ2VPYnNlcnZhYmxlLCBpc1NlbmRpbmdPYnNlcnZhYmxlLCBzZW5kIH07XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQudHNcbnZhciBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG52YXIgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xudmFyIHRvcGljU3ViamVjdE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgZW5jb2RlID0gKG1lc3NhZ2UpID0+IGVuY29kZXIuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogbWVzc2FnZS5tZXNzYWdlLCB0aW1lc3RhbXA6IG1lc3NhZ2UudGltZXN0YW1wIH0pKTtcbnZhciBkZWNvZGUgPSAobWVzc2FnZSkgPT4gSlNPTi5wYXJzZShkZWNvZGVyLmRlY29kZShtZXNzYWdlKSk7XG5mdW5jdGlvbiBzZXR1cENoYXQocm9vbSwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBvbkRlc3Ryb3lPYnNlcnZhYmxlID0gbmV3IFN1YmplY3QzKCk7XG4gIGNvbnN0IHsgbWVzc2FnZURlY29kZXIsIG1lc3NhZ2VFbmNvZGVyLCBjaGFubmVsVG9waWMgfSA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgY29uc3QgdG9waWMgPSBjaGFubmVsVG9waWMgIT0gbnVsbCA/IGNoYW5uZWxUb3BpYyA6IERhdGFUb3BpYy5DSEFUO1xuICBsZXQgbmVlZHNTZXR1cCA9IGZhbHNlO1xuICBpZiAoIXRvcGljU3ViamVjdE1hcC5oYXMocm9vbSkpIHtcbiAgICBuZWVkc1NldHVwID0gdHJ1ZTtcbiAgfVxuICBjb25zdCB0b3BpY01hcCA9IChfYSA9IHRvcGljU3ViamVjdE1hcC5nZXQocm9vbSkpICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IG1lc3NhZ2VTdWJqZWN0ID0gKF9iID0gdG9waWNNYXAuZ2V0KHRvcGljKSkgIT0gbnVsbCA/IF9iIDogbmV3IFN1YmplY3QzKCk7XG4gIHRvcGljTWFwLnNldCh0b3BpYywgbWVzc2FnZVN1YmplY3QpO1xuICB0b3BpY1N1YmplY3RNYXAuc2V0KHJvb20sIHRvcGljTWFwKTtcbiAgaWYgKG5lZWRzU2V0dXApIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VPYnNlcnZhYmxlIH0gPSBzZXR1cERhdGFNZXNzYWdlSGFuZGxlcihyb29tLCB0b3BpYyk7XG4gICAgbWVzc2FnZU9ic2VydmFibGUucGlwZSh0YWtlVW50aWwob25EZXN0cm95T2JzZXJ2YWJsZSkpLnN1YnNjcmliZShtZXNzYWdlU3ViamVjdCk7XG4gIH1cbiAgY29uc3QgZmluYWxNZXNzYWdlRGVjb2RlciA9IG1lc3NhZ2VEZWNvZGVyICE9IG51bGwgPyBtZXNzYWdlRGVjb2RlciA6IGRlY29kZTtcbiAgY29uc3QgbWVzc2FnZXNPYnNlcnZhYmxlID0gbWVzc2FnZVN1YmplY3QucGlwZShcbiAgICBtYXA2KChtc2cpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBmaW5hbE1lc3NhZ2VEZWNvZGVyKG1zZy5wYXlsb2FkKTtcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwYXJzZWRNZXNzYWdlKSwgeyBmcm9tOiBtc2cuZnJvbSB9KTtcbiAgICAgIHJldHVybiBuZXdNZXNzYWdlO1xuICAgIH0pLFxuICAgIHNjYW4oKGFjYywgdmFsdWUpID0+IFsuLi5hY2MsIHZhbHVlXSwgW10pLFxuICAgIHRha2VVbnRpbChvbkRlc3Ryb3lPYnNlcnZhYmxlKVxuICApO1xuICBjb25zdCBpc1NlbmRpbmckID0gbmV3IEJlaGF2aW9yU3ViamVjdDIoZmFsc2UpO1xuICBjb25zdCBmaW5hbE1lc3NhZ2VFbmNvZGVyID0gbWVzc2FnZUVuY29kZXIgIT0gbnVsbCA/IG1lc3NhZ2VFbmNvZGVyIDogZW5jb2RlO1xuICBjb25zdCBzZW5kID0gKG1lc3NhZ2UpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGVuY29kZWRNc2cgPSBmaW5hbE1lc3NhZ2VFbmNvZGVyKHsgbWVzc2FnZSwgdGltZXN0YW1wIH0pO1xuICAgIGlzU2VuZGluZyQubmV4dCh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgeWllbGQgc2VuZE1lc3NhZ2Uocm9vbS5sb2NhbFBhcnRpY2lwYW50LCBlbmNvZGVkTXNnLCB0b3BpYywge1xuICAgICAgICBraW5kOiBEYXRhUGFja2V0X0tpbmQyLlJFTElBQkxFXG4gICAgICB9KTtcbiAgICAgIG1lc3NhZ2VTdWJqZWN0Lm5leHQoe1xuICAgICAgICBwYXlsb2FkOiBlbmNvZGVkTXNnLFxuICAgICAgICB0b3BpYyxcbiAgICAgICAgZnJvbTogcm9vbS5sb2NhbFBhcnRpY2lwYW50XG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNTZW5kaW5nJC5uZXh0KGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIG9uRGVzdHJveU9ic2VydmFibGUubmV4dCgpO1xuICAgIG9uRGVzdHJveU9ic2VydmFibGUuY29tcGxldGUoKTtcbiAgICB0b3BpY1N1YmplY3RNYXAuY2xlYXIoKTtcbiAgfVxuICByb29tLm9uY2UoUm9vbUV2ZW50NC5EaXNjb25uZWN0ZWQsIGRlc3Ryb3kpO1xuICByZXR1cm4geyBtZXNzYWdlT2JzZXJ2YWJsZTogbWVzc2FnZXNPYnNlcnZhYmxlLCBpc1NlbmRpbmdPYnNlcnZhYmxlOiBpc1NlbmRpbmckLCBzZW5kIH07XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3N0YXJ0QXVkaW8udHNcbmZ1bmN0aW9uIHNldHVwU3RhcnRBdWRpbygpIHtcbiAgY29uc3QgaGFuZGxlU3RhcnRBdWRpb1BsYXliYWNrID0gKHJvb20pID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBsb2cuaW5mbyhcIlN0YXJ0IEF1ZGlvIGZvciByb29tOiBcIiwgcm9vbSk7XG4gICAgeWllbGQgcm9vbS5zdGFydEF1ZGlvKCk7XG4gIH0pO1xuICBjb25zdCBjbGFzc05hbWUgPSBwcmVmaXhDbGFzcyhcInN0YXJ0LWF1ZGlvLWJ1dHRvblwiKTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlLCBoYW5kbGVTdGFydEF1ZGlvUGxheWJhY2sgfTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvc3RhcnRWaWRlby50c1xuZnVuY3Rpb24gc2V0dXBTdGFydFZpZGVvKCkge1xuICBjb25zdCBoYW5kbGVTdGFydFZpZGVvUGxheWJhY2sgPSAocm9vbSkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGxvZy5pbmZvKFwiU3RhcnQgVmlkZW8gZm9yIHJvb206IFwiLCByb29tKTtcbiAgICB5aWVsZCByb29tLnN0YXJ0VmlkZW8oKTtcbiAgfSk7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByZWZpeENsYXNzKFwic3RhcnQtYXVkaW8tYnV0dG9uXCIpO1xuICByZXR1cm4geyBjbGFzc05hbWUsIHJvb21WaWRlb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGUsIGhhbmRsZVN0YXJ0VmlkZW9QbGF5YmFjayB9O1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0VG9nZ2xlLnRzXG5mdW5jdGlvbiBzZXR1cENoYXRUb2dnbGUoKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IFtwcmVmaXhDbGFzcyhcImJ1dHRvblwiKSwgcHJlZml4Q2xhc3MoXCJjaGF0LXRvZ2dsZVwiKV0uam9pbihcIiBcIik7XG4gIHJldHVybiB7IGNsYXNzTmFtZSB9O1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9mb2N1c1RvZ2dsZS50c1xuZnVuY3Rpb24gc2V0dXBGb2N1c1RvZ2dsZSgpIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gW3ByZWZpeENsYXNzKFwiYnV0dG9uXCIpLCBwcmVmaXhDbGFzcyhcImZvY3VzLXRvZ2dsZS1idXR0b25cIildLmpvaW4oXCIgXCIpO1xuICByZXR1cm4geyBjbGFzc05hbWUgfTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvY2xlYXJQaW5CdXR0b24udHNcbmZ1bmN0aW9uIHNldHVwQ2xlYXJQaW5CdXR0b24oKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IFwibGstY2xlYXItcGluLWJ1dHRvbiBsay1idXR0b25cIjtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lIH07XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3Jvb20udHNcbmZ1bmN0aW9uIHNldHVwTGl2ZUtpdFJvb20oKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IFwibGstcm9vbS1jb250YWluZXJcIjtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lIH07XG59XG5cbi8vIHNyYy9vYnNlcnZhYmxlcy90cmFjay50c1xuaW1wb3J0IHsgUm9vbUV2ZW50IGFzIFJvb21FdmVudDUsIFRyYWNrRXZlbnQgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IG1hcCBhcyBtYXA3LCBPYnNlcnZhYmxlIGFzIE9ic2VydmFibGU0LCBzdGFydFdpdGggYXMgc3RhcnRXaXRoNSB9IGZyb20gXCJyeGpzXCI7XG5mdW5jdGlvbiB0cmFja09ic2VydmFibGUodHJhY2spIHtcbiAgY29uc3QgdHJhY2tPYnNlcnZlciA9IG9ic2VydmVUcmFja0V2ZW50cyhcbiAgICB0cmFjayxcbiAgICBUcmFja0V2ZW50Lk11dGVkLFxuICAgIFRyYWNrRXZlbnQuVW5tdXRlZCxcbiAgICBUcmFja0V2ZW50LlN1YnNjcmliZWQsXG4gICAgVHJhY2tFdmVudC5VbnN1YnNjcmliZWRcbiAgKTtcbiAgcmV0dXJuIHRyYWNrT2JzZXJ2ZXI7XG59XG5mdW5jdGlvbiBvYnNlcnZlVHJhY2tFdmVudHModHJhY2ssIC4uLmV2ZW50cykge1xuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU0KChzdWJzY3JpYmUpID0+IHtcbiAgICBjb25zdCBvblRyYWNrVXBkYXRlID0gKCkgPT4ge1xuICAgICAgc3Vic2NyaWJlLm5leHQodHJhY2spO1xuICAgIH07XG4gICAgZXZlbnRzLmZvckVhY2goKGV2dCkgPT4ge1xuICAgICAgdHJhY2sub24oZXZ0LCBvblRyYWNrVXBkYXRlKTtcbiAgICB9KTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChldnQpID0+IHtcbiAgICAgICAgdHJhY2sub2ZmKGV2dCwgb25UcmFja1VwZGF0ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfSkucGlwZShzdGFydFdpdGg1KHRyYWNrKSk7XG4gIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gZ2V0VHJhY2tSZWZlcmVuY2VzKHJvb20sIHNvdXJjZXMsIG9ubHlTdWJzY3JpYmVkVHJhY2tzID0gdHJ1ZSkge1xuICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gcm9vbS5sb2NhbFBhcnRpY2lwYW50O1xuICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSBbbG9jYWxQYXJ0aWNpcGFudCwgLi4uQXJyYXkuZnJvbShyb29tLnBhcnRpY2lwYW50cy52YWx1ZXMoKSldO1xuICBjb25zdCB0cmFja1JlZmVyZW5jZXMgPSBbXTtcbiAgYWxsUGFydGljaXBhbnRzLmZvckVhY2goKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgc291cmNlcy5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZVJlZmVyZW5jZXMgPSBBcnJheS5mcm9tKFxuICAgICAgICBwYXJ0aWNpcGFudC50cmFja3MudmFsdWVzKClcbiAgICAgICkuZmlsdGVyKFxuICAgICAgICAodHJhY2spID0+IHRyYWNrLnNvdXJjZSA9PT0gc291cmNlICYmIC8vIGVpdGhlciByZXR1cm4gYWxsIG9yIG9ubHkgdGhlIG9uZXMgdGhhdCBhcmUgc3Vic2NyaWJlZFxuICAgICAgICAoIW9ubHlTdWJzY3JpYmVkVHJhY2tzIHx8IHRyYWNrLnRyYWNrKVxuICAgICAgKS5tYXAoKHRyYWNrKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGFydGljaXBhbnQsXG4gICAgICAgICAgcHVibGljYXRpb246IHRyYWNrLFxuICAgICAgICAgIHNvdXJjZTogdHJhY2suc291cmNlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHRyYWNrUmVmZXJlbmNlcy5wdXNoKC4uLnNvdXJjZVJlZmVyZW5jZXMpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHsgdHJhY2tSZWZlcmVuY2VzLCBwYXJ0aWNpcGFudHM6IGFsbFBhcnRpY2lwYW50cyB9O1xufVxuZnVuY3Rpb24gdHJhY2tSZWZlcmVuY2VzT2JzZXJ2YWJsZShyb29tLCBzb3VyY2VzLCBvcHRpb25zKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGFkZGl0aW9uYWxSb29tRXZlbnRzID0gKF9hID0gb3B0aW9ucy5hZGRpdGlvbmFsUm9vbUV2ZW50cykgIT0gbnVsbCA/IF9hIDogYWxsUGFydGljaXBhbnRSb29tRXZlbnRzO1xuICBjb25zdCBvbmx5U3Vic2NyaWJlZFRyYWNrcyA9IChfYiA9IG9wdGlvbnMub25seVN1YnNjcmliZWQpICE9IG51bGwgPyBfYiA6IHRydWU7XG4gIGNvbnN0IHJvb21FdmVudHMgPSBBcnJheS5mcm9tKFxuICAgICgvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgICBSb29tRXZlbnQ1LlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgICAgUm9vbUV2ZW50NS5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICAgIFJvb21FdmVudDUuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgICAgIFJvb21FdmVudDUuTG9jYWxUcmFja1B1Ymxpc2hlZCxcbiAgICAgIFJvb21FdmVudDUuTG9jYWxUcmFja1VucHVibGlzaGVkLFxuICAgICAgUm9vbUV2ZW50NS5UcmFja1B1Ymxpc2hlZCxcbiAgICAgIFJvb21FdmVudDUuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICAgIFJvb21FdmVudDUuVHJhY2tTdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkLFxuICAgICAgLi4uYWRkaXRpb25hbFJvb21FdmVudHNcbiAgICBdKSkudmFsdWVzKClcbiAgKTtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG9ic2VydmVSb29tRXZlbnRzKHJvb20sIC4uLnJvb21FdmVudHMpLnBpcGUoXG4gICAgbWFwNygocm9vbTIpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBnZXRUcmFja1JlZmVyZW5jZXMocm9vbTIsIHNvdXJjZXMsIG9ubHlTdWJzY3JpYmVkVHJhY2tzKTtcbiAgICAgIGxvZy5kZWJ1ZyhgVHJhY2tSZWZlcmVuY2VbXSB3YXMgdXBkYXRlZC4gKGxlbmd0aCAke2RhdGEudHJhY2tSZWZlcmVuY2VzLmxlbmd0aH0pYCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KSxcbiAgICBzdGFydFdpdGg1KGdldFRyYWNrUmVmZXJlbmNlcyhyb29tLCBzb3VyY2VzLCBvbmx5U3Vic2NyaWJlZFRyYWNrcykpXG4gICk7XG4gIHJldHVybiBvYnNlcnZhYmxlO1xufVxuXG4vLyBzcmMvb2JzZXJ2YWJsZXMvZG9tLWV2ZW50LnRzXG5pbXBvcnQgeyBjb25jYXQgYXMgY29uY2F0MiwgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZyb21FdmVudCwgbWFwIGFzIG1hcDgsIG9mLCBza2lwVW50aWwsIHRpbWVvdXQgfSBmcm9tIFwicnhqc1wiO1xuZnVuY3Rpb24gY3JlYXRlSW50ZXJhY3RpbmdPYnNlcnZhYmxlKGh0bWxFbGVtZW50LCBpbmFjdGl2ZUFmdGVyID0gMWUzKSB7XG4gIGlmIChodG1sRWxlbWVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gb2YoZmFsc2UpO1xuICBjb25zdCBtb3ZlJCA9IGZyb21FdmVudChodG1sRWxlbWVudCwgXCJtb3VzZW1vdmVcIiwgeyBwYXNzaXZlOiB0cnVlIH0pLnBpcGUobWFwOCgoKSA9PiB0cnVlKSk7XG4gIGNvbnN0IG1vdmVBbmRTdG9wJCA9IG1vdmUkLnBpcGUoXG4gICAgdGltZW91dCh7XG4gICAgICBlYWNoOiBpbmFjdGl2ZUFmdGVyLFxuICAgICAgd2l0aDogKCkgPT4gY29uY2F0MihvZihmYWxzZSksIG1vdmVBbmRTdG9wJC5waXBlKHNraXBVbnRpbChtb3ZlJCkpKVxuICAgIH0pLFxuICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgKTtcbiAgcmV0dXJuIG1vdmVBbmRTdG9wJDtcbn1cblxuLy8gc3JjL3BlcnNpc3RlbnQtc3RvcmFnZS9sb2NhbC1zdG9yYWdlLWhlbHBlcnMudHNcbmZ1bmN0aW9uIHNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbG9nLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nLmVycm9yKGBFcnJvciBzZXR0aW5nIGl0ZW0gdG8gbG9jYWwgc3RvcmFnZTogJHtlcnJvcn1gKTtcbiAgfVxufVxuZnVuY3Rpb24gbG9hZEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KSB7XG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbG9nLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgaXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBsb2cud2FybihgSXRlbSB3aXRoIGtleSAke2tleX0gZG9lcyBub3QgZXhpc3QgaW4gbG9jYWwgc3RvcmFnZS5gKTtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGl0ZW0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZy5lcnJvcihgRXJyb3IgZ2V0dGluZyBpdGVtIGZyb20gbG9jYWwgc3RvcmFnZTogJHtlcnJvcn1gKTtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JhZ2VJbnRlcmZhY2Uoa2V5KSB7XG4gIHJldHVybiB7XG4gICAgbG9hZDogKCkgPT4gbG9hZEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KSxcbiAgICBzYXZlOiAodmFsdWUpID0+IHNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKVxuICB9O1xufVxuXG4vLyBzcmMvcGVyc2lzdGVudC1zdG9yYWdlL3VzZXItY2hvaWNlcy50c1xudmFyIFVTRVJfQ0hPSUNFU19LRVkgPSBgJHtjc3NQcmVmaXh9LXVzZXItY2hvaWNlc2A7XG52YXIgZGVmYXVsdFVzZXJDaG9pY2VzID0ge1xuICB2aWRlb0VuYWJsZWQ6IHRydWUsXG4gIGF1ZGlvRW5hYmxlZDogdHJ1ZSxcbiAgdmlkZW9EZXZpY2VJZDogXCJcIixcbiAgYXVkaW9EZXZpY2VJZDogXCJcIixcbiAgdXNlcm5hbWU6IFwiXCIsXG4gIGUyZWU6IGZhbHNlLFxuICBzaGFyZWRQYXNzcGhyYXNlOiBcIlwiXG59O1xudmFyIHsgbG9hZCwgc2F2ZSB9ID0gY3JlYXRlTG9jYWxTdG9yYWdlSW50ZXJmYWNlKFVTRVJfQ0hPSUNFU19LRVkpO1xuZnVuY3Rpb24gc2F2ZVVzZXJDaG9pY2VzKHVzZXJDaG9pY2VzLCBwcmV2ZW50U2F2ZSA9IGZhbHNlKSB7XG4gIGlmIChwcmV2ZW50U2F2ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBfYSA9IHVzZXJDaG9pY2VzLCB7IGUyZWUsIHNoYXJlZFBhc3NwaHJhc2UgfSA9IF9hLCB0b1NhdmUgPSBfX29ialJlc3QoX2EsIFtcImUyZWVcIiwgXCJzaGFyZWRQYXNzcGhyYXNlXCJdKTtcbiAgc2F2ZSh0b1NhdmUpO1xufVxuZnVuY3Rpb24gbG9hZFVzZXJDaG9pY2VzKGRlZmF1bHRzLCBwcmV2ZW50TG9hZCA9IGZhbHNlKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgY29uc3QgZmFsbGJhY2sgPSB7XG4gICAgdmlkZW9FbmFibGVkOiAoX2EgPSBkZWZhdWx0cyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdHMudmlkZW9FbmFibGVkKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0VXNlckNob2ljZXMudmlkZW9FbmFibGVkLFxuICAgIGF1ZGlvRW5hYmxlZDogKF9iID0gZGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGRlZmF1bHRzLmF1ZGlvRW5hYmxlZCkgIT0gbnVsbCA/IF9iIDogZGVmYXVsdFVzZXJDaG9pY2VzLmF1ZGlvRW5hYmxlZCxcbiAgICB2aWRlb0RldmljZUlkOiAoX2MgPSBkZWZhdWx0cyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdHMudmlkZW9EZXZpY2VJZCkgIT0gbnVsbCA/IF9jIDogZGVmYXVsdFVzZXJDaG9pY2VzLnZpZGVvRGV2aWNlSWQsXG4gICAgYXVkaW9EZXZpY2VJZDogKF9kID0gZGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGRlZmF1bHRzLmF1ZGlvRGV2aWNlSWQpICE9IG51bGwgPyBfZCA6IGRlZmF1bHRVc2VyQ2hvaWNlcy5hdWRpb0RldmljZUlkLFxuICAgIHVzZXJuYW1lOiAoX2UgPSBkZWZhdWx0cyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdHMudXNlcm5hbWUpICE9IG51bGwgPyBfZSA6IGRlZmF1bHRVc2VyQ2hvaWNlcy51c2VybmFtZSxcbiAgICBlMmVlOiAoX2YgPSBkZWZhdWx0cyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdHMuZTJlZSkgIT0gbnVsbCA/IF9mIDogZGVmYXVsdFVzZXJDaG9pY2VzLmUyZWUsXG4gICAgc2hhcmVkUGFzc3BocmFzZTogKF9nID0gZGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGRlZmF1bHRzLnNoYXJlZFBhc3NwaHJhc2UpICE9IG51bGwgPyBfZyA6IGRlZmF1bHRVc2VyQ2hvaWNlcy5zaGFyZWRQYXNzcGhyYXNlXG4gIH07XG4gIGlmIChwcmV2ZW50TG9hZCkge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtYXliZUxvYWRlZE9iamVjdCA9IGxvYWQoKTtcbiAgICBjb25zdCByZXN1bHQgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZmFsbGJhY2spLCBtYXliZUxvYWRlZE9iamVjdCAhPSBudWxsID8gbWF5YmVMb2FkZWRPYmplY3QgOiB7fSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuZXhwb3J0IHtcbiAgRGF0YVRvcGljLFxuICBHUklEX0xBWU9VVFMsXG4gIFBJTl9ERUZBVUxUX1NUQVRFLFxuICBXSURHRVRfREVGQVVMVF9TVEFURSxcbiAgYWN0aXZlU3BlYWtlck9ic2VydmVyLFxuICBhbGxQYXJ0aWNpcGFudEV2ZW50cyxcbiAgYWxsUGFydGljaXBhbnRSb29tRXZlbnRzLFxuICBhbGxSZW1vdGVQYXJ0aWNpcGFudEV2ZW50cyxcbiAgYWxsUmVtb3RlUGFydGljaXBhbnRSb29tRXZlbnRzLFxuICBhdHRhY2hJZlN1YnNjcmliZWQsXG4gIGNvbXB1dGVNZW51UG9zaXRpb24sXG4gIGNvbm5lY3RlZFBhcnRpY2lwYW50T2JzZXJ2ZXIsXG4gIGNvbm5lY3RlZFBhcnRpY2lwYW50c09ic2VydmVyLFxuICBjb25uZWN0aW9uU3RhdGVPYnNlcnZlcixcbiAgY3JlYXRlQWN0aXZlRGV2aWNlT2JzZXJ2YWJsZSxcbiAgY3JlYXRlQ29ubmVjdGlvblF1YWxpdHlPYnNlcnZlcixcbiAgY3JlYXRlRGF0YU9ic2VydmVyLFxuICBjcmVhdGVEZWZhdWx0R3JhbW1hcixcbiAgY3JlYXRlRW1haWxSZWdFeHAsXG4gIGNyZWF0ZUludGVyYWN0aW5nT2JzZXJ2YWJsZSxcbiAgY3JlYXRlSXNTcGVha2luZ09ic2VydmVyLFxuICBjcmVhdGVNZWRpYURldmljZU9ic2VydmVyLFxuICBjcmVhdGVUcmFja09ic2VydmVyLFxuICBjcmVhdGVVcmxSZWdFeHAsXG4gIGNzc1ByZWZpeCxcbiAgZW5jcnlwdGlvblN0YXR1c09ic2VydmFibGUsXG4gIGdldFNjcm9sbEJhcldpZHRoLFxuICBnZXRUcmFja0J5SWRlbnRpZmllcixcbiAgZ2V0VHJhY2tSZWZlcmVuY2VJZCxcbiAgZ2V0VHJhY2tSZWZlcmVuY2VTb3VyY2UsXG4gIGlzRXF1YWxUcmFja1JlZixcbiAgaXNMb2NhbCxcbiAgaXNNb2JpbGVCcm93c2VyLFxuICBpc1BhcnRpY2lwYW50U291cmNlUGlubmVkLFxuICBpc1BhcnRpY2lwYW50VHJhY2tSZWZlcmVuY2VQaW5uZWQsXG4gIGlzUGxhY2Vob2xkZXJSZXBsYWNlbWVudCxcbiAgaXNSZW1vdGUsXG4gIGlzU291cmNlV2l0T3B0aW9ucyxcbiAgaXNTb3VyY2VzV2l0aE9wdGlvbnMsXG4gIGlzVHJhY2tSZWZlcmVuY2UsXG4gIGlzVHJhY2tSZWZlcmVuY2VQaW5uZWQsXG4gIGlzVHJhY2tSZWZlcmVuY2VQbGFjZWhvbGRlcixcbiAgaXNXZWIsXG4gIGxvYWRVc2VyQ2hvaWNlcyxcbiAgbG9nLFxuICBtdXRlZE9ic2VydmVyLFxuICBvYnNlcnZlUGFydGljaXBhbnRFdmVudHMsXG4gIG9ic2VydmVQYXJ0aWNpcGFudE1lZGlhLFxuICBvYnNlcnZlUm9vbUV2ZW50cyxcbiAgb2JzZXJ2ZVRyYWNrRXZlbnRzLFxuICBwYXJ0aWNpcGFudEV2ZW50U2VsZWN0b3IsXG4gIHBhcnRpY2lwYW50SW5mb09ic2VydmVyLFxuICBwYXJ0aWNpcGFudFBlcm1pc3Npb25PYnNlcnZlcixcbiAgcm9vbUF1ZGlvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZSxcbiAgcm9vbUV2ZW50U2VsZWN0b3IsXG4gIHJvb21JbmZvT2JzZXJ2ZXIsXG4gIHJvb21PYnNlcnZlcixcbiAgcm9vbVZpZGVvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZSxcbiAgc2F2ZVVzZXJDaG9pY2VzLFxuICBzY3JlZW5TaGFyZU9ic2VydmVyLFxuICBzZWxlY3RHcmlkTGF5b3V0LFxuICBzZW5kTWVzc2FnZSxcbiAgc2V0RGlmZmVyZW5jZSxcbiAgc2V0TG9nRXh0ZW5zaW9uLFxuICBzZXRMb2dMZXZlbCxcbiAgc2V0dXBDaGF0LFxuICBzZXR1cENoYXRUb2dnbGUsXG4gIHNldHVwQ2xlYXJQaW5CdXR0b24sXG4gIHNldHVwQ29ubmVjdGlvblF1YWxpdHlJbmRpY2F0b3IsXG4gIHNldHVwRGF0YU1lc3NhZ2VIYW5kbGVyLFxuICBzZXR1cERldmljZVNlbGVjdG9yLFxuICBzZXR1cERpc2Nvbm5lY3RCdXR0b24sXG4gIHNldHVwRm9jdXNUb2dnbGUsXG4gIHNldHVwTGl2ZUtpdFJvb20sXG4gIHNldHVwTWFudWFsVG9nZ2xlLFxuICBzZXR1cE1lZGlhVG9nZ2xlLFxuICBzZXR1cE1lZGlhVHJhY2ssXG4gIHNldHVwUGFydGljaXBhbnROYW1lLFxuICBzZXR1cFBhcnRpY2lwYW50VGlsZSxcbiAgc2V0dXBTdGFydEF1ZGlvLFxuICBzZXR1cFN0YXJ0VmlkZW8sXG4gIHNldHVwVHJhY2tNdXRlZEluZGljYXRvcixcbiAgc29ydFBhcnRpY2lwYW50cyxcbiAgc29ydFRyYWNrUmVmZXJlbmNlcyxcbiAgc3VwcG9ydHNTY3JlZW5TaGFyaW5nLFxuICB0b2tlbml6ZSxcbiAgdHJhY2tPYnNlcnZhYmxlLFxuICB0cmFja1JlZmVyZW5jZXNPYnNlcnZhYmxlLFxuICB1cGRhdGVQYWdlcyxcbiAgd2FzQ2xpY2tPdXRzaWRlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-core/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/dist/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@livekit/components-react/dist/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioConference: () => (/* binding */ AudioConference),\n/* harmony export */   AudioTrack: () => (/* binding */ AudioTrack),\n/* harmony export */   AudioVisualizer: () => (/* binding */ AudioVisualizer),\n/* harmony export */   CameraDisabledIcon: () => (/* binding */ CameraDisabledIcon_default),\n/* harmony export */   CameraIcon: () => (/* binding */ CameraIcon_default),\n/* harmony export */   CarouselLayout: () => (/* binding */ CarouselLayout),\n/* harmony export */   CarouselView: () => (/* binding */ CarouselView),\n/* harmony export */   Chat: () => (/* binding */ Chat),\n/* harmony export */   ChatCloseIcon: () => (/* binding */ ChatCloseIcon_default),\n/* harmony export */   ChatEntry: () => (/* binding */ ChatEntry),\n/* harmony export */   ChatIcon: () => (/* binding */ ChatIcon_default),\n/* harmony export */   ChatToggle: () => (/* binding */ ChatToggle),\n/* harmony export */   Chevron: () => (/* binding */ Chevron_default),\n/* harmony export */   ClearPinButton: () => (/* binding */ ClearPinButton),\n/* harmony export */   ConnectionQualityIndicator: () => (/* binding */ ConnectionQualityIndicator),\n/* harmony export */   ConnectionState: () => (/* binding */ ConnectionState3),\n/* harmony export */   ConnectionStateToast: () => (/* binding */ ConnectionStateToast),\n/* harmony export */   ControlBar: () => (/* binding */ ControlBar),\n/* harmony export */   DisconnectButton: () => (/* binding */ DisconnectButton),\n/* harmony export */   FocusLayout: () => (/* binding */ FocusLayout),\n/* harmony export */   FocusLayoutContainer: () => (/* binding */ FocusLayoutContainer),\n/* harmony export */   FocusToggle: () => (/* binding */ FocusToggle),\n/* harmony export */   FocusToggleIcon: () => (/* binding */ FocusToggleIcon_default),\n/* harmony export */   GearIcon: () => (/* binding */ GearIcon_default),\n/* harmony export */   GridLayout: () => (/* binding */ GridLayout),\n/* harmony export */   LKFeatureContext: () => (/* binding */ LKFeatureContext),\n/* harmony export */   LayoutContext: () => (/* binding */ LayoutContext),\n/* harmony export */   LayoutContextProvider: () => (/* binding */ LayoutContextProvider),\n/* harmony export */   LeaveIcon: () => (/* binding */ LeaveIcon_default),\n/* harmony export */   LiveKitRoom: () => (/* binding */ LiveKitRoom),\n/* harmony export */   LockLockedIcon: () => (/* binding */ LockLockedIcon_default),\n/* harmony export */   MediaDeviceMenu: () => (/* binding */ MediaDeviceMenu),\n/* harmony export */   MediaDeviceSelect: () => (/* binding */ MediaDeviceSelect),\n/* harmony export */   MicDisabledIcon: () => (/* binding */ MicDisabledIcon_default),\n/* harmony export */   MicIcon: () => (/* binding */ MicIcon_default),\n/* harmony export */   ParticipantAudioTile: () => (/* binding */ ParticipantAudioTile),\n/* harmony export */   ParticipantContext: () => (/* binding */ ParticipantContext),\n/* harmony export */   ParticipantContextIfNeeded: () => (/* binding */ ParticipantContextIfNeeded),\n/* harmony export */   ParticipantLoop: () => (/* binding */ ParticipantLoop),\n/* harmony export */   ParticipantName: () => (/* binding */ ParticipantName),\n/* harmony export */   ParticipantPlaceholder: () => (/* binding */ ParticipantPlaceholder_default),\n/* harmony export */   ParticipantTile: () => (/* binding */ ParticipantTile),\n/* harmony export */   PreJoin: () => (/* binding */ PreJoin),\n/* harmony export */   QualityExcellentIcon: () => (/* binding */ QualityExcellentIcon_default),\n/* harmony export */   QualityGoodIcon: () => (/* binding */ QualityGoodIcon_default),\n/* harmony export */   QualityPoorIcon: () => (/* binding */ QualityPoorIcon_default),\n/* harmony export */   QualityUnknownIcon: () => (/* binding */ QualityUnknownIcon_default),\n/* harmony export */   RoomAudioRenderer: () => (/* binding */ RoomAudioRenderer),\n/* harmony export */   RoomContext: () => (/* binding */ RoomContext),\n/* harmony export */   RoomName: () => (/* binding */ RoomName),\n/* harmony export */   ScreenShareIcon: () => (/* binding */ ScreenShareIcon_default),\n/* harmony export */   ScreenShareStopIcon: () => (/* binding */ ScreenShareStopIcon_default),\n/* harmony export */   SpinnerIcon: () => (/* binding */ SpinnerIcon_default),\n/* harmony export */   StartAudio: () => (/* binding */ StartAudio),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   TrackContext: () => (/* binding */ TrackContext),\n/* harmony export */   TrackLoop: () => (/* binding */ TrackLoop),\n/* harmony export */   TrackMutedIndicator: () => (/* binding */ TrackMutedIndicator),\n/* harmony export */   TrackRefContext: () => (/* binding */ TrackRefContext),\n/* harmony export */   TrackToggle: () => (/* binding */ TrackToggle),\n/* harmony export */   UnfocusToggleIcon: () => (/* binding */ UnfocusToggleIcon_default),\n/* harmony export */   VideoConference: () => (/* binding */ VideoConference),\n/* harmony export */   VideoTrack: () => (/* binding */ VideoTrack),\n/* harmony export */   formatChatMessageLinks: () => (/* binding */ formatChatMessageLinks),\n/* harmony export */   isTrackReference: () => (/* reexport safe */ _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference),\n/* harmony export */   setLogExtension: () => (/* reexport safe */ _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setLogExtension),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setLogLevel),\n/* harmony export */   useAudioPlayback: () => (/* binding */ useAudioPlayback),\n/* harmony export */   useChat: () => (/* binding */ useChat),\n/* harmony export */   useChatToggle: () => (/* binding */ useChatToggle),\n/* harmony export */   useClearPinButton: () => (/* binding */ useClearPinButton),\n/* harmony export */   useConnectionQualityIndicator: () => (/* binding */ useConnectionQualityIndicator),\n/* harmony export */   useConnectionState: () => (/* binding */ useConnectionState),\n/* harmony export */   useCreateLayoutContext: () => (/* binding */ useCreateLayoutContext),\n/* harmony export */   useDataChannel: () => (/* binding */ useDataChannel),\n/* harmony export */   useDisconnectButton: () => (/* binding */ useDisconnectButton),\n/* harmony export */   useEnsureCreateLayoutContext: () => (/* binding */ useEnsureCreateLayoutContext),\n/* harmony export */   useEnsureLayoutContext: () => (/* binding */ useEnsureLayoutContext),\n/* harmony export */   useEnsureParticipant: () => (/* binding */ useEnsureParticipant),\n/* harmony export */   useEnsureRoom: () => (/* binding */ useEnsureRoom),\n/* harmony export */   useEnsureTrackRef: () => (/* binding */ useEnsureTrackRef),\n/* harmony export */   useEnsureTrackReference: () => (/* binding */ useEnsureTrackReference),\n/* harmony export */   useFacingMode: () => (/* binding */ useFacingMode),\n/* harmony export */   useFeatureContext: () => (/* binding */ useFeatureContext),\n/* harmony export */   useFocusToggle: () => (/* binding */ useFocusToggle),\n/* harmony export */   useGridLayout: () => (/* binding */ useGridLayout),\n/* harmony export */   useIsEncrypted: () => (/* binding */ useIsEncrypted),\n/* harmony export */   useIsMuted: () => (/* binding */ useIsMuted),\n/* harmony export */   useIsSpeaking: () => (/* binding */ useIsSpeaking),\n/* harmony export */   useLayoutContext: () => (/* binding */ useLayoutContext),\n/* harmony export */   useLiveKitRoom: () => (/* binding */ useLiveKitRoom),\n/* harmony export */   useLocalParticipant: () => (/* binding */ useLocalParticipant),\n/* harmony export */   useLocalParticipantPermissions: () => (/* binding */ useLocalParticipantPermissions),\n/* harmony export */   useMaybeLayoutContext: () => (/* binding */ useMaybeLayoutContext),\n/* harmony export */   useMaybeParticipantContext: () => (/* binding */ useMaybeParticipantContext),\n/* harmony export */   useMaybeRoomContext: () => (/* binding */ useMaybeRoomContext),\n/* harmony export */   useMaybeTrackContext: () => (/* binding */ useMaybeTrackContext),\n/* harmony export */   useMaybeTrackRefContext: () => (/* binding */ useMaybeTrackRefContext),\n/* harmony export */   useMediaDeviceSelect: () => (/* binding */ useMediaDeviceSelect),\n/* harmony export */   useMediaDevices: () => (/* binding */ useMediaDevices),\n/* harmony export */   useMediaTrack: () => (/* binding */ useMediaTrack),\n/* harmony export */   useMediaTrackByName: () => (/* binding */ useMediaTrackByName),\n/* harmony export */   useMultibandTrackVolume: () => (/* binding */ useMultibandTrackVolume),\n/* harmony export */   usePagination: () => (/* binding */ usePagination),\n/* harmony export */   useParticipantContext: () => (/* binding */ useParticipantContext),\n/* harmony export */   useParticipantInfo: () => (/* binding */ useParticipantInfo),\n/* harmony export */   useParticipantPermissions: () => (/* binding */ useParticipantPermissions),\n/* harmony export */   useParticipantTile: () => (/* binding */ useParticipantTile),\n/* harmony export */   useParticipants: () => (/* binding */ useParticipants),\n/* harmony export */   usePersistentUserChoices: () => (/* binding */ usePersistentUserChoices),\n/* harmony export */   usePinnedTracks: () => (/* binding */ usePinnedTracks),\n/* harmony export */   usePreviewDevice: () => (/* binding */ usePreviewDevice),\n/* harmony export */   usePreviewTracks: () => (/* binding */ usePreviewTracks),\n/* harmony export */   useRemoteParticipant: () => (/* binding */ useRemoteParticipant),\n/* harmony export */   useRemoteParticipants: () => (/* binding */ useRemoteParticipants),\n/* harmony export */   useRoomContext: () => (/* binding */ useRoomContext),\n/* harmony export */   useRoomInfo: () => (/* binding */ useRoomInfo),\n/* harmony export */   useSortedParticipants: () => (/* binding */ useSortedParticipants),\n/* harmony export */   useSpeakingParticipants: () => (/* binding */ useSpeakingParticipants),\n/* harmony export */   useStartAudio: () => (/* binding */ useStartAudio),\n/* harmony export */   useStartVideo: () => (/* binding */ useStartVideo),\n/* harmony export */   useSwipe: () => (/* binding */ useSwipe),\n/* harmony export */   useToken: () => (/* binding */ useToken),\n/* harmony export */   useTrack: () => (/* binding */ useTrack),\n/* harmony export */   useTrackByName: () => (/* binding */ useTrackByName),\n/* harmony export */   useTrackContext: () => (/* binding */ useTrackContext),\n/* harmony export */   useTrackMutedIndicator: () => (/* binding */ useTrackMutedIndicator),\n/* harmony export */   useTrackRefContext: () => (/* binding */ useTrackRefContext),\n/* harmony export */   useTrackToggle: () => (/* binding */ useTrackToggle),\n/* harmony export */   useTrackVolume: () => (/* binding */ useTrackVolume),\n/* harmony export */   useTracks: () => (/* binding */ useTracks),\n/* harmony export */   useVisualStableUpdate: () => (/* binding */ useVisualStableUpdate)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_hook_latest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-hook/latest */ \"(ssr)/./node_modules/@react-hook/latest/dist/esm/index.mjs\");\n/* harmony import */ var _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @livekit/components-core */ \"(ssr)/./node_modules/@livekit/components-core/dist/index.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var usehooks_ts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! usehooks-ts */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/components/controls/ClearPinButton.tsx\n\n\n// src/hooks/useAudioPlayback.ts\n\n\n// src/hooks/internal/useResizeObserver.ts\n\n\nfunction useResizeObserver(target, callback) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = (0,_react_hook_latest__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(callback);\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    let didUnsubscribe = false;\n    const targetEl = target.current;\n    if (!targetEl)\n      return;\n    function cb(entry, observer) {\n      if (didUnsubscribe)\n        return;\n      storedCallback.current(entry, observer);\n    }\n    resizeObserver == null ? void 0 : resizeObserver.subscribe(targetEl, cb);\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver == null ? void 0 : resizeObserver.unsubscribe(targetEl, cb);\n    };\n  }, [target.current, resizeObserver, storedCallback]);\n  return resizeObserver == null ? void 0 : resizeObserver.observer;\n}\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries = [];\n  const callbacks = /* @__PURE__ */ new Map();\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  const observer = new ResizeObserver((entries, obs) => {\n    allEntries = allEntries.concat(entries);\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        const triggered = /* @__PURE__ */ new Set();\n        for (let i = 0; i < allEntries.length; i++) {\n          if (triggered.has(allEntries[i].target))\n            continue;\n          triggered.add(allEntries[i].target);\n          const cbs = callbacks.get(allEntries[i].target);\n          cbs == null ? void 0 : cbs.forEach((cb) => cb(allEntries[i], obs));\n        }\n        allEntries = [];\n        ticking = false;\n      });\n    }\n    ticking = true;\n  });\n  return {\n    observer,\n    subscribe(target, callback) {\n      var _a;\n      observer.observe(target);\n      const cbs = (_a = callbacks.get(target)) != null ? _a : [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n    unsubscribe(target, callback) {\n      var _a;\n      const cbs = (_a = callbacks.get(target)) != null ? _a : [];\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1)\n        cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    }\n  };\n}\nvar _resizeObserver;\nvar getResizeObserver = () => !_resizeObserver ? _resizeObserver = createResizeObserver() : _resizeObserver;\nvar useSize = (target) => {\n  const [size, setSize] = react__WEBPACK_IMPORTED_MODULE_0__.useState({ width: 0, height: 0 });\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    if (target.current) {\n      const { width, height } = target.current.getBoundingClientRect();\n      setSize({ width, height });\n    }\n  }, [target.current]);\n  const resizeCallback = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (entry) => setSize(entry.contentRect),\n    []\n  );\n  useResizeObserver(target, resizeCallback);\n  return size;\n};\n\n// src/hooks/internal/useObservableState.ts\n\nfunction useObservableState(observable, startWith) {\n  const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(startWith);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (typeof window === \"undefined\" || !observable)\n      return;\n    const subscription = observable.subscribe(setState);\n    return () => subscription.unsubscribe();\n  }, [observable]);\n  return state;\n}\n\n// src/hooks/internal/useMediaQuery.ts\n\nfunction useMediaQuery(query) {\n  const getMatches = (query2) => {\n    if (typeof window !== \"undefined\") {\n      return window.matchMedia(query2).matches;\n    }\n    return false;\n  };\n  const [matches, setMatches] = react__WEBPACK_IMPORTED_MODULE_0__.useState(getMatches(query));\n  function handleChange() {\n    setMatches(getMatches(query));\n  }\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const matchMedia = window.matchMedia(query);\n    handleChange();\n    if (matchMedia.addListener) {\n      matchMedia.addListener(handleChange);\n    } else {\n      matchMedia.addEventListener(\"change\", handleChange);\n    }\n    return () => {\n      if (matchMedia.removeListener) {\n        matchMedia.removeListener(handleChange);\n      } else {\n        matchMedia.removeEventListener(\"change\", handleChange);\n      }\n    };\n  }, [query]);\n  return matches;\n}\n\n// src/hooks/useAudioPlayback.ts\n\n\n// src/context/layout-context.ts\n\n\n\n// src/context/chat-context.ts\nfunction chatReducer(state, action) {\n  if (action.msg === \"show_chat\") {\n    return __spreadProps(__spreadValues({}, state), { showChat: true, unreadMessages: 0 });\n  } else if (action.msg === \"hide_chat\") {\n    return __spreadProps(__spreadValues({}, state), { showChat: false });\n  } else if (action.msg === \"toggle_chat\") {\n    const newState = __spreadProps(__spreadValues({}, state), { showChat: !state.showChat });\n    if (newState.showChat === true) {\n      newState.unreadMessages = 0;\n    }\n    return newState;\n  } else if (action.msg === \"unread_msg\") {\n    return __spreadProps(__spreadValues({}, state), { unreadMessages: action.count });\n  } else {\n    return __spreadValues({}, state);\n  }\n}\n\n// src/context/pin-context.ts\nfunction pinReducer(state, action) {\n  if (action.msg === \"set_pin\") {\n    return [action.trackReference];\n  } else if (action.msg === \"clear_pin\") {\n    return [];\n  } else {\n    return __spreadValues({}, state);\n  }\n}\n\n// src/context/layout-context.ts\nvar LayoutContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useLayoutContext() {\n  const layoutContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LayoutContext);\n  if (!layoutContext) {\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  }\n  return layoutContext;\n}\nfunction useEnsureLayoutContext(layoutContext) {\n  const layout = useMaybeLayoutContext();\n  layoutContext != null ? layoutContext : layoutContext = layout;\n  if (!layoutContext) {\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  }\n  return layoutContext;\n}\nfunction useCreateLayoutContext() {\n  const [pinState, pinDispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(pinReducer, _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.PIN_DEFAULT_STATE);\n  const [widgetState, widgetDispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(chatReducer, _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.WIDGET_DEFAULT_STATE);\n  return {\n    pin: { dispatch: pinDispatch, state: pinState },\n    widget: { dispatch: widgetDispatch, state: widgetState }\n  };\n}\nfunction useEnsureCreateLayoutContext(layoutContext) {\n  const [pinState, pinDispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(pinReducer, _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.PIN_DEFAULT_STATE);\n  const [widgetState, widgetDispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(chatReducer, _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.WIDGET_DEFAULT_STATE);\n  return layoutContext != null ? layoutContext : {\n    pin: { dispatch: pinDispatch, state: pinState },\n    widget: { dispatch: widgetDispatch, state: widgetState }\n  };\n}\nfunction useMaybeLayoutContext() {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(LayoutContext);\n}\n\n// src/context/participant-context.ts\n\n\n// src/context/track-reference-context.ts\n\nvar TrackRefContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(\n  void 0\n);\nvar TrackContext = TrackRefContext;\nfunction useTrackContext() {\n  return useTrackRefContext();\n}\nfunction useTrackRefContext() {\n  const trackReference = react__WEBPACK_IMPORTED_MODULE_0__.useContext(TrackRefContext);\n  if (!trackReference) {\n    throw Error(\"tried to access track context outside of track context provider\");\n  }\n  return trackReference;\n}\nfunction useMaybeTrackContext() {\n  return useMaybeTrackRefContext();\n}\nfunction useMaybeTrackRefContext() {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(TrackRefContext);\n}\nfunction useEnsureTrackReference(track) {\n  return useEnsureTrackRef(track);\n}\nfunction useEnsureTrackRef(trackRef) {\n  const context = useMaybeTrackRefContext();\n  const ref = trackRef != null ? trackRef : context;\n  if (!ref) {\n    throw new Error(\n      \"No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly\"\n    );\n  }\n  return ref;\n}\n\n// src/context/participant-context.ts\nvar ParticipantContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useParticipantContext() {\n  const participant = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ParticipantContext);\n  if (!participant) {\n    throw Error(\"tried to access participant context outside of participant context provider\");\n  }\n  return participant;\n}\nfunction useMaybeParticipantContext() {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(ParticipantContext);\n}\nfunction useEnsureParticipant(participant) {\n  var _a;\n  const context = useMaybeParticipantContext();\n  const trackContext = useMaybeTrackRefContext();\n  const p = (_a = participant != null ? participant : context) != null ? _a : trackContext == null ? void 0 : trackContext.participant;\n  if (!p) {\n    throw new Error(\n      \"No participant provided, make sure you are inside a participant context or pass the participant explicitly\"\n    );\n  }\n  return p;\n}\n\n// src/context/room-context.ts\n\nvar RoomContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useRoomContext() {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(RoomContext);\n  if (!ctx) {\n    throw Error(\"tried to access room context outside of livekit room component\");\n  }\n  return ctx;\n}\nfunction useMaybeRoomContext() {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(RoomContext);\n}\nfunction useEnsureRoom(room) {\n  const context = useMaybeRoomContext();\n  const r = room != null ? room : context;\n  if (!r) {\n    throw new Error(\n      \"No room provided, make sure you are inside a Room context or pass the room explicitly\"\n    );\n  }\n  return r;\n}\n\n// src/context/feature-context.ts\n\nvar LKFeatureContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useFeatureContext(require2) {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LKFeatureContext);\n  if (require2 === true) {\n    if (ctx) {\n      return ctx;\n    } else {\n      throw Error(\"tried to access feature context, but none is present\");\n    }\n  }\n  return ctx;\n}\n\n// src/hooks/useAudioPlayback.ts\nfunction useAudioPlayback(room) {\n  const roomEnsured = useEnsureRoom(room);\n  const startAudio = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => __async(this, null, function* () {\n    yield roomEnsured.startAudio();\n  }), [roomEnsured]);\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.roomAudioPlaybackAllowedObservable)(roomEnsured),\n    [roomEnsured]\n  );\n  const { canPlayAudio } = useObservableState(observable, {\n    canPlayAudio: roomEnsured.canPlaybackAudio\n  });\n  return { canPlayAudio, startAudio };\n}\n\n// src/hooks/useClearPinButton.ts\n\n\n\n// src/mergeProps.ts\n\nfunction chain(...callbacks) {\n  return (...args) => {\n    for (const callback of callbacks) {\n      if (typeof callback === \"function\") {\n        callback(...args);\n      }\n    }\n  };\n}\nfunction mergeProps(...args) {\n  const result = __spreadValues({}, args[0]);\n  for (let i = 1; i < args.length; i++) {\n    const props = args[i];\n    for (const key in props) {\n      const a = result[key];\n      const b = props[key];\n      if (typeof a === \"function\" && typeof b === \"function\" && // This is a lot faster than a regex.\n      key[0] === \"o\" && key[1] === \"n\" && key.charCodeAt(2) >= /* 'A' */\n      65 && key.charCodeAt(2) <= /* 'Z' */\n      90) {\n        result[key] = chain(a, b);\n      } else if ((key === \"className\" || key === \"UNSAFE_className\") && typeof a === \"string\" && typeof b === \"string\") {\n        result[key] = (0,clsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(a, b);\n      } else {\n        result[key] = b !== void 0 ? b : a;\n      }\n    }\n  }\n  return result;\n}\n\n// src/hooks/useClearPinButton.ts\nfunction useClearPinButton(props) {\n  const { state, dispatch } = useLayoutContext().pin;\n  const buttonProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className } = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupClearPinButton)();\n    const mergedProps = mergeProps(props, {\n      className,\n      disabled: !(state == null ? void 0 : state.length),\n      onClick: () => {\n        if (dispatch)\n          dispatch({ msg: \"clear_pin\" });\n      }\n    });\n    return mergedProps;\n  }, [props, dispatch, state]);\n  return { buttonProps };\n}\n\n// src/hooks/useConnectionQualityIndicator.ts\n\n\n\nfunction useConnectionQualityIndicator(options = {}) {\n  const p = useEnsureParticipant(options.participant);\n  const { className, connectionQualityObserver } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupConnectionQualityIndicator)(p),\n    [p]\n  );\n  const quality = useObservableState(connectionQualityObserver, livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionQuality.Unknown);\n  return { className, quality };\n}\n\n// src/hooks/useConnectionStatus.ts\n\n\nfunction useConnectionState(room) {\n  const r = useEnsureRoom(room);\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.connectionStateObserver)(r), [r]);\n  const connectionState = useObservableState(observable, r.state);\n  return connectionState;\n}\n\n// src/hooks/useDataChannel.ts\n\n\nfunction useDataChannel(topicOrCallback, callback) {\n  const onMessage = typeof topicOrCallback === \"function\" ? topicOrCallback : callback;\n  const topic = typeof topicOrCallback === \"string\" ? topicOrCallback : void 0;\n  const room = useRoomContext();\n  const { send, messageObservable, isSendingObservable } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupDataMessageHandler)(room, topic, onMessage),\n    [room, topic, onMessage]\n  );\n  const message = useObservableState(messageObservable, void 0);\n  const isSending = useObservableState(isSendingObservable, false);\n  return {\n    message,\n    send,\n    isSending\n  };\n}\n\n// src/hooks/useDisconnectButton.ts\n\n\n\nfunction useDisconnectButton(props) {\n  const room = useRoomContext();\n  const connectionState = useConnectionState(room);\n  const buttonProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className, disconnect } = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupDisconnectButton)(room);\n    const mergedProps = mergeProps(props, {\n      className,\n      onClick: () => {\n        var _a;\n        return disconnect((_a = props.stopTracks) != null ? _a : true);\n      },\n      disabled: connectionState === livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Disconnected\n    });\n    return mergedProps;\n  }, [room, props, connectionState]);\n  return { buttonProps };\n}\n\n// src/hooks/useFacingMode.ts\n\nfunction useFacingMode(trackReference) {\n  if (trackReference.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.LocalTrackPublication) {\n    const localTrack = trackReference.publication.track;\n    if (localTrack) {\n      const { facingMode } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.facingModeFromLocalTrack)(localTrack);\n      return facingMode;\n    }\n  }\n  return \"undefined\";\n}\n\n// src/hooks/useFocusToggle.ts\n\n\nfunction useFocusToggle({ trackRef, trackSource, participant, props }) {\n  const p = useEnsureParticipant(participant);\n  if (!trackRef && !trackSource) {\n    throw new Error(\"trackRef or trackSource must be defined.\");\n  }\n  const layoutContext = useMaybeLayoutContext();\n  const { className } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupFocusToggle)(), []);\n  const inFocus = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if (trackRef) {\n      return (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReferencePinned)(trackRef, layoutContext == null ? void 0 : layoutContext.pin.state);\n    } else if (trackSource) {\n      const track = p.getTrack(trackSource);\n      if ((layoutContext == null ? void 0 : layoutContext.pin.state) && track) {\n        return (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReferencePinned)(\n          { participant: p, source: trackSource, publication: track },\n          layoutContext.pin.state\n        );\n      } else {\n        return false;\n      }\n    } else {\n      throw new Error(\"trackRef or trackSource and participant must be defined.\");\n    }\n  }, [trackRef, layoutContext == null ? void 0 : layoutContext.pin.state, p, trackSource]);\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps(props, {\n      className,\n      onClick: (event) => {\n        var _a, _b, _c, _d, _e;\n        (_a = props.onClick) == null ? void 0 : _a.call(props, event);\n        if (trackRef) {\n          if (inFocus) {\n            (_c = layoutContext == null ? void 0 : (_b = layoutContext.pin).dispatch) == null ? void 0 : _c.call(_b, {\n              msg: \"clear_pin\"\n            });\n          } else {\n            (_e = layoutContext == null ? void 0 : (_d = layoutContext.pin).dispatch) == null ? void 0 : _e.call(_d, {\n              msg: \"set_pin\",\n              trackReference: trackRef\n            });\n          }\n        } else if (trackSource) {\n          const track = p.getTrack(trackSource);\n          if ((layoutContext == null ? void 0 : layoutContext.pin.dispatch) && track) {\n            if (inFocus) {\n              layoutContext.pin.dispatch({\n                msg: \"clear_pin\"\n              });\n            } else {\n              layoutContext.pin.dispatch({\n                msg: \"set_pin\",\n                trackReference: {\n                  participant: p,\n                  publication: track,\n                  source: track.source\n                }\n              });\n            }\n          }\n        }\n      }\n    }),\n    [props, className, trackRef, trackSource, inFocus, layoutContext == null ? void 0 : layoutContext.pin, p]\n  );\n  return { mergedProps, inFocus };\n}\n\n// src/hooks/useGridLayout.ts\n\n\nfunction useGridLayout(gridElement, trackCount) {\n  const { width, height } = useSize(gridElement);\n  const layout = width > 0 && height > 0 ? (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.selectGridLayout)(_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.GRID_LAYOUTS, trackCount, width, height) : _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.GRID_LAYOUTS[0];\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (gridElement.current && layout) {\n      gridElement.current.style.setProperty(\"--lk-col-count\", layout == null ? void 0 : layout.columns.toString());\n      gridElement.current.style.setProperty(\"--lk-row-count\", layout == null ? void 0 : layout.rows.toString());\n    }\n  }, [gridElement, layout]);\n  return {\n    layout\n  };\n}\n\n// src/hooks/useIsMuted.ts\n\n\nfunction useIsMuted(sourceOrTrackRef, options = {}) {\n  var _a, _b;\n  const passedParticipant = typeof sourceOrTrackRef === \"string\" ? options.participant : sourceOrTrackRef.participant;\n  const p = useEnsureParticipant(passedParticipant);\n  const ref = typeof sourceOrTrackRef === \"string\" ? { participant: p, source: sourceOrTrackRef } : sourceOrTrackRef;\n  const [isMuted, setIsMuted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    !!(((_a = ref.publication) == null ? void 0 : _a.isMuted) || ((_b = p.getTrack(ref.source)) == null ? void 0 : _b.isMuted))\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const listener = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.mutedObserver)(ref).subscribe(setIsMuted);\n    return () => listener.unsubscribe();\n  }, [(0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getTrackReferenceId)(ref)]);\n  return isMuted;\n}\n\n// src/hooks/useIsSpeaking.ts\n\n\nfunction useIsSpeaking(participant) {\n  const p = useEnsureParticipant(participant);\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.createIsSpeakingObserver)(p), [p]);\n  const isSpeaking = useObservableState(observable, p.isSpeaking);\n  return isSpeaking;\n}\n\n// src/hooks/useLiveKitRoom.ts\n\n\n\nvar defaultRoomProps = {\n  connect: true,\n  audio: false,\n  video: false\n};\nfunction useLiveKitRoom(props) {\n  const _a = __spreadValues(__spreadValues({}, defaultRoomProps), props), {\n    token,\n    serverUrl,\n    options,\n    room: passedRoom,\n    connectOptions,\n    connect,\n    audio,\n    video,\n    screen,\n    onConnected,\n    onDisconnected,\n    onError,\n    onMediaDeviceFailure,\n    onEncryptionError,\n    simulateParticipants\n  } = _a, rest = __objRest(_a, [\n    \"token\",\n    \"serverUrl\",\n    \"options\",\n    \"room\",\n    \"connectOptions\",\n    \"connect\",\n    \"audio\",\n    \"video\",\n    \"screen\",\n    \"onConnected\",\n    \"onDisconnected\",\n    \"onError\",\n    \"onMediaDeviceFailure\",\n    \"onEncryptionError\",\n    \"simulateParticipants\"\n  ]);\n  if (options && passedRoom) {\n    _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\n      \"when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.\"\n    );\n  }\n  const [room, setRoom] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setRoom(passedRoom != null ? passedRoom : new livekit_client__WEBPACK_IMPORTED_MODULE_4__.Room(options));\n  }, [passedRoom]);\n  const htmlProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className } = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupLiveKitRoom)();\n    return mergeProps(rest, { className });\n  }, [rest]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!room)\n      return;\n    const onSignalConnected = () => {\n      const localP = room.localParticipant;\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"trying to publish local tracks\");\n      Promise.all([\n        localP.setMicrophoneEnabled(!!audio, typeof audio !== \"boolean\" ? audio : void 0),\n        localP.setCameraEnabled(!!video, typeof video !== \"boolean\" ? video : void 0),\n        localP.setScreenShareEnabled(!!screen, typeof screen !== \"boolean\" ? screen : void 0)\n      ]).catch((e) => {\n        _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(e);\n        onError == null ? void 0 : onError(e);\n      });\n    };\n    const handleMediaDeviceError = (e) => {\n      const mediaDeviceFailure = livekit_client__WEBPACK_IMPORTED_MODULE_4__.MediaDeviceFailure.getFailure(e);\n      onMediaDeviceFailure == null ? void 0 : onMediaDeviceFailure(mediaDeviceFailure);\n    };\n    const handleEncryptionError = (e) => {\n      onEncryptionError == null ? void 0 : onEncryptionError(e);\n    };\n    room.on(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.SignalConnected, onSignalConnected).on(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.MediaDevicesError, handleMediaDeviceError).on(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.EncryptionError, handleEncryptionError);\n    return () => {\n      room.off(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.SignalConnected, onSignalConnected).off(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.MediaDevicesError, handleMediaDeviceError).off(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.EncryptionError, handleEncryptionError);\n    };\n  }, [room, audio, video, screen, onError, onEncryptionError, onMediaDeviceFailure]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!room)\n      return;\n    if (simulateParticipants) {\n      room.simulateParticipants({\n        participants: {\n          count: simulateParticipants\n        },\n        publish: {\n          audio: true,\n          useRealTracks: true\n        }\n      });\n      return;\n    }\n    if (!token) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"no token yet\");\n      return;\n    }\n    if (!serverUrl) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\"no livekit url provided\");\n      onError == null ? void 0 : onError(Error(\"no livekit url provided\"));\n      return;\n    }\n    if (connect) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"connecting\");\n      room.connect(serverUrl, token, connectOptions).catch((e) => {\n        _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(e);\n        onError == null ? void 0 : onError(e);\n      });\n    } else {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"disconnecting because connect is false\");\n      room.disconnect();\n    }\n  }, [\n    connect,\n    token,\n    JSON.stringify(connectOptions),\n    room,\n    onError,\n    serverUrl,\n    simulateParticipants\n  ]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!room)\n      return;\n    const connectionStateChangeListener = (state) => {\n      switch (state) {\n        case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Disconnected:\n          if (onDisconnected)\n            onDisconnected();\n          break;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Connected:\n          if (onConnected)\n            onConnected();\n          break;\n        default:\n          break;\n      }\n    };\n    room.on(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.ConnectionStateChanged, connectionStateChangeListener);\n    return () => {\n      room.off(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.ConnectionStateChanged, connectionStateChangeListener);\n    };\n  }, [token, onConnected, onDisconnected, room]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!room)\n      return;\n    return () => {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.info(\"disconnecting on onmount\");\n      room.disconnect();\n    };\n  }, [room]);\n  return { room, htmlProps };\n}\n\n// src/hooks/useLocalParticipant.ts\n\n\nfunction useLocalParticipant(options = {}) {\n  const room = useEnsureRoom(options.room);\n  const [localParticipant, setLocalParticipant] = react__WEBPACK_IMPORTED_MODULE_0__.useState(room.localParticipant);\n  const [isMicrophoneEnabled, setIsMicrophoneEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    localParticipant.isMicrophoneEnabled\n  );\n  const [isCameraEnabled, setIsCameraEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    localParticipant.isMicrophoneEnabled\n  );\n  const [lastMicrophoneError, setLastMicrophoneError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    localParticipant.lastMicrophoneError\n  );\n  const [lastCameraError, setLastCameraError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(localParticipant.lastCameraError);\n  const [isScreenShareEnabled, setIsScreenShareEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    localParticipant.isMicrophoneEnabled\n  );\n  const [microphoneTrack, setMicrophoneTrack] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    void 0\n  );\n  const [cameraTrack, setCameraTrack] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\n  const handleUpdate = (media) => {\n    setIsCameraEnabled(media.isCameraEnabled);\n    setIsMicrophoneEnabled(media.isMicrophoneEnabled);\n    setIsScreenShareEnabled(media.isScreenShareEnabled);\n    setCameraTrack(media.cameraTrack);\n    setMicrophoneTrack(media.microphoneTrack);\n    setLastMicrophoneError(media.participant.lastMicrophoneError);\n    setLastCameraError(media.participant.lastCameraError);\n    setLocalParticipant(media.participant);\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const listener = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.observeParticipantMedia)(room.localParticipant).subscribe(handleUpdate);\n    return () => listener.unsubscribe();\n  }, [room]);\n  return {\n    isMicrophoneEnabled,\n    isScreenShareEnabled,\n    isCameraEnabled,\n    microphoneTrack,\n    cameraTrack,\n    lastMicrophoneError,\n    lastCameraError,\n    localParticipant\n  };\n}\n\n// src/hooks/useLocalParticipantPermissions.ts\n\n\nfunction useLocalParticipantPermissions() {\n  const room = useRoomContext();\n  const permissionObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.participantPermissionObserver)(room.localParticipant),\n    [room]\n  );\n  const permissions = useObservableState(permissionObserver, room.localParticipant.permissions);\n  return permissions;\n}\n\n// src/hooks/useMediaDeviceSelect.ts\n\n\nfunction useMediaDeviceSelect({\n  kind,\n  room,\n  track,\n  requestPermissions,\n  onError\n}) {\n  const roomContext = useMaybeRoomContext();\n  const deviceObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.createMediaDeviceObserver)(kind, onError, requestPermissions),\n    [kind, requestPermissions, onError]\n  );\n  const devices = useObservableState(deviceObserver, []);\n  const [currentDeviceId, setCurrentDeviceId] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\"\");\n  const { className, activeDeviceObservable, setActiveMediaDevice } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupDeviceSelector)(kind, room != null ? room : roomContext, track),\n    [kind, room, roomContext, track]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const listener = activeDeviceObservable.subscribe((deviceId) => {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.info(\"setCurrentDeviceId\", deviceId);\n      if (deviceId)\n        setCurrentDeviceId(deviceId);\n    });\n    return () => {\n      listener == null ? void 0 : listener.unsubscribe();\n    };\n  }, [activeDeviceObservable]);\n  return { devices, className, activeDeviceId: currentDeviceId, setActiveMediaDevice };\n}\n\n// src/hooks/useMediaDevices.ts\n\n\nfunction useMediaDevices({ kind }) {\n  const deviceObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.createMediaDeviceObserver)(kind), [kind]);\n  const devices = useObservableState(deviceObserver, []);\n  return devices;\n}\n\n// src/hooks/useMediaTrackBySourceOrName.ts\n\n\n\n\n// src/utils.ts\n\n\nfunction isProp(prop) {\n  return prop !== void 0;\n}\nfunction mergeProps2(...props) {\n  return mergeProps(...props.filter(isProp));\n}\nfunction cloneSingleChild(children, props, key) {\n  return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, (child) => {\n    if (react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child) && react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children)) {\n      return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, __spreadProps(__spreadValues({}, props), { key }));\n    }\n    return child;\n  });\n}\nfunction warnAboutMissingStyles(el) {\n  var _a, _b;\n  if (\n    // eslint-disable-next-line turbo/no-undeclared-env-vars\n    (((_a = process == null ? void 0 : process.env) == null ? void 0 : _a.NODE_ENV) === \"dev\" || ((_b = process == null ? void 0 : process.env) == null ? void 0 : _b.NODE_ENV) === \"development\") && typeof window !== \"undefined\"\n  ) {\n    const target = el != null ? el : document.querySelector(\".lk-room-container\");\n    if (target && !getComputedStyle(target).getPropertyValue(\"--lk-has-imported-styles\")) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\n        \"It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.\"\n      );\n    }\n  }\n}\n\n// src/hooks/useMediaTrackBySourceOrName.ts\nfunction useMediaTrackBySourceOrName(observerOptions, options = {}) {\n  var _a;\n  const [publication, setPublication] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getTrackByIdentifier)(observerOptions));\n  const [isMuted, setMuted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(publication == null ? void 0 : publication.isMuted);\n  const [isSubscribed, setSubscribed] = react__WEBPACK_IMPORTED_MODULE_0__.useState(publication == null ? void 0 : publication.isSubscribed);\n  const [track, setTrack] = react__WEBPACK_IMPORTED_MODULE_0__.useState(publication == null ? void 0 : publication.track);\n  const [orientation, setOrientation] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\"landscape\");\n  const previousElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n  const { className, trackObserver } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupMediaTrack)(observerOptions);\n  }, [\n    (_a = observerOptions.participant.sid) != null ? _a : observerOptions.participant.identity,\n    observerOptions.source,\n    (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference)(observerOptions) && observerOptions.publication.trackSid\n  ]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const subscription = trackObserver.subscribe((publication2) => {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"update track\", publication2);\n      setPublication(publication2);\n      setMuted(publication2 == null ? void 0 : publication2.isMuted);\n      setSubscribed(publication2 == null ? void 0 : publication2.isSubscribed);\n      setTrack(publication2 == null ? void 0 : publication2.track);\n    });\n    return () => subscription == null ? void 0 : subscription.unsubscribe();\n  }, [trackObserver]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a2, _b;\n    if (track) {\n      if (previousElement.current) {\n        track.detach(previousElement.current);\n      }\n      if (((_a2 = options.element) == null ? void 0 : _a2.current) && !((0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isLocal)(observerOptions.participant) && (track == null ? void 0 : track.kind) === \"audio\")) {\n        track.attach(options.element.current);\n      }\n    }\n    previousElement.current = (_b = options.element) == null ? void 0 : _b.current;\n    return () => {\n      if (previousElement.current) {\n        track == null ? void 0 : track.detach(previousElement.current);\n      }\n    };\n  }, [track, options.element]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a2, _b;\n    if (typeof ((_a2 = publication == null ? void 0 : publication.dimensions) == null ? void 0 : _a2.width) === \"number\" && typeof ((_b = publication == null ? void 0 : publication.dimensions) == null ? void 0 : _b.height) === \"number\") {\n      const orientation_ = publication.dimensions.width > publication.dimensions.height ? \"landscape\" : \"portrait\";\n      setOrientation(orientation_);\n    }\n  }, [publication]);\n  return {\n    publication,\n    isMuted,\n    isSubscribed,\n    track,\n    elementProps: mergeProps2(options.props, __spreadValues({\n      className,\n      \"data-lk-local-participant\": observerOptions.participant.isLocal,\n      \"data-lk-source\": publication == null ? void 0 : publication.source\n    }, (publication == null ? void 0 : publication.kind) === \"video\" && { \"data-lk-orientation\": orientation }))\n  };\n}\n\n// src/hooks/useMediaTrack.ts\nfunction useMediaTrack(source, participant, options = {}) {\n  const p = useEnsureParticipant(participant);\n  return useMediaTrackBySourceOrName({ source, participant: p }, options);\n}\n\n// src/hooks/useMediaTrackByName.ts\nfunction useMediaTrackByName(name, participant, options = {}) {\n  const p = useEnsureParticipant(participant);\n  return useMediaTrackBySourceOrName({ name, participant: p }, options);\n}\n\n// src/hooks/usePagination.ts\n\n\n// src/hooks/useVisualStableUpdate.ts\n\n\nfunction useVisualStableUpdate(trackReferences, maxItemsOnPage, options = {}) {\n  const lastTrackRefs = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n  const lastMaxItemsOnPage = react__WEBPACK_IMPORTED_MODULE_0__.useRef(-1);\n  const layoutChanged = maxItemsOnPage !== lastMaxItemsOnPage.current;\n  const sortedTrackRefs = typeof options.customSortFunction === \"function\" ? options.customSortFunction(trackReferences) : (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.sortTrackReferences)(trackReferences);\n  let updatedTrackRefs = [...sortedTrackRefs];\n  if (layoutChanged === false) {\n    try {\n      updatedTrackRefs = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.updatePages)(lastTrackRefs.current, sortedTrackRefs, maxItemsOnPage);\n    } catch (error) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.error(\"Error while running updatePages(): \", error);\n    }\n  }\n  if (layoutChanged) {\n    lastTrackRefs.current = sortedTrackRefs;\n  } else {\n    lastTrackRefs.current = updatedTrackRefs;\n  }\n  lastMaxItemsOnPage.current = maxItemsOnPage;\n  return updatedTrackRefs;\n}\n\n// src/hooks/usePagination.ts\nfunction usePagination(itemPerPage, trackReferences) {\n  const [currentPage, setCurrentPage] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1);\n  const totalPageCount = Math.max(Math.ceil(trackReferences.length / itemPerPage), 1);\n  if (currentPage > totalPageCount) {\n    setCurrentPage(totalPageCount);\n  }\n  const lastItemIndex = currentPage * itemPerPage;\n  const firstItemIndex = lastItemIndex - itemPerPage;\n  const changePage = (direction) => {\n    setCurrentPage((state) => {\n      if (direction === \"next\") {\n        if (state === totalPageCount) {\n          return state;\n        }\n        return state + 1;\n      } else {\n        if (state === 1) {\n          return state;\n        }\n        return state - 1;\n      }\n    });\n  };\n  const goToPage = (num) => {\n    if (num > totalPageCount) {\n      setCurrentPage(totalPageCount);\n    } else if (num < 1) {\n      setCurrentPage(1);\n    } else {\n      setCurrentPage(num);\n    }\n  };\n  const updatedTrackReferences = useVisualStableUpdate(trackReferences, itemPerPage);\n  const tracksOnPage = updatedTrackReferences.slice(firstItemIndex, lastItemIndex);\n  return {\n    totalPageCount,\n    nextPage: () => changePage(\"next\"),\n    prevPage: () => changePage(\"previous\"),\n    setPage: goToPage,\n    firstItemIndex,\n    lastItemIndex,\n    tracks: tracksOnPage,\n    currentPage\n  };\n}\n\n// src/hooks/useParticipantInfo.ts\n\n\nfunction useParticipantInfo(props = {}) {\n  const p = useEnsureParticipant(props.participant);\n  const infoObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.participantInfoObserver)(p), [p]);\n  const { identity, name, metadata } = useObservableState(infoObserver, {\n    name: p.name,\n    identity: p.identity,\n    metadata: p.metadata\n  });\n  return { identity, name, metadata };\n}\n\n// src/hooks/useParticipantPermissions.ts\n\n\nfunction useParticipantPermissions(options = {}) {\n  const p = useEnsureParticipant(options.participant);\n  const permissionObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.participantPermissionObserver)(p), [p]);\n  const permissions = useObservableState(permissionObserver, p.permissions);\n  return permissions;\n}\n\n// src/hooks/useParticipantTile.ts\n\n\n\nfunction useParticipantTile({\n  trackRef,\n  participant,\n  source,\n  publication,\n  onParticipantClick,\n  disableSpeakingIndicator,\n  htmlProps\n}) {\n  const maybeTrackRef = useMaybeTrackRefContext();\n  const p = useEnsureParticipant(participant);\n  const trackReference = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    var _a, _b, _c, _d, _e, _f;\n    const _source = (_b = (_a = trackRef == null ? void 0 : trackRef.source) != null ? _a : maybeTrackRef == null ? void 0 : maybeTrackRef.source) != null ? _b : source;\n    if (_source === void 0) {\n      throw new Error(\n        \"Missing track `source`, provided it via `trackRef`, `source` property or via `TrackRefContext`.\"\n      );\n    }\n    return {\n      participant: (_d = (_c = trackRef == null ? void 0 : trackRef.participant) != null ? _c : maybeTrackRef == null ? void 0 : maybeTrackRef.participant) != null ? _d : p,\n      publication: (_f = (_e = trackRef == null ? void 0 : trackRef.publication) != null ? _e : maybeTrackRef == null ? void 0 : maybeTrackRef.publication) != null ? _f : publication,\n      source: _source\n    };\n  }, [\n    trackRef == null ? void 0 : trackRef.participant,\n    trackRef == null ? void 0 : trackRef.source,\n    trackRef == null ? void 0 : trackRef.publication,\n    maybeTrackRef == null ? void 0 : maybeTrackRef.participant,\n    maybeTrackRef == null ? void 0 : maybeTrackRef.source,\n    maybeTrackRef == null ? void 0 : maybeTrackRef.publication,\n    p,\n    source,\n    publication\n  ]);\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className } = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupParticipantTile)();\n    return mergeProps(htmlProps, {\n      className,\n      onClick: (event) => {\n        var _a, _b;\n        (_a = htmlProps.onClick) == null ? void 0 : _a.call(htmlProps, event);\n        if (typeof onParticipantClick === \"function\") {\n          const track = (_b = trackReference.publication) != null ? _b : trackReference.participant.getTrack(trackReference.source);\n          onParticipantClick({ participant: trackReference.participant, track });\n        }\n      }\n    });\n  }, [\n    htmlProps,\n    onParticipantClick,\n    trackReference.publication,\n    trackReference.source,\n    trackReference.participant\n  ]);\n  const isVideoMuted = useIsMuted(livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera, { participant: trackReference.participant });\n  const isAudioMuted = useIsMuted(livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone, {\n    participant: trackReference.participant\n  });\n  const isSpeaking = useIsSpeaking(trackReference.participant);\n  const facingMode = useFacingMode(trackReference);\n  return {\n    elementProps: __spreadValues({\n      \"data-lk-audio-muted\": isAudioMuted,\n      \"data-lk-video-muted\": isVideoMuted,\n      \"data-lk-speaking\": disableSpeakingIndicator === true ? false : isSpeaking,\n      \"data-lk-local-participant\": trackReference.participant.isLocal,\n      \"data-lk-source\": trackReference.source,\n      \"data-lk-facing-mode\": facingMode\n    }, mergedProps)\n  };\n}\n\n// src/hooks/useRemoteParticipants.ts\n\n\nfunction useRemoteParticipants(options = {}) {\n  const room = useEnsureRoom(options.room);\n  const [participants, setParticipants] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const listener = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.connectedParticipantsObserver)(room, {\n      additionalRoomEvents: options.updateOnlyOn\n    }).subscribe(setParticipants);\n    return () => listener.unsubscribe();\n  }, [room, JSON.stringify(options.updateOnlyOn)]);\n  return participants;\n}\n\n// src/hooks/useParticipants.ts\nfunction useParticipants(options = {}) {\n  const remoteParticipants = useRemoteParticipants(options);\n  const { localParticipant } = useLocalParticipant(options);\n  return [localParticipant, ...remoteParticipants];\n}\n\n// src/hooks/usePinnedTracks.ts\n\nfunction usePinnedTracks(layoutContext) {\n  layoutContext = useEnsureLayoutContext(layoutContext);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if ((layoutContext == null ? void 0 : layoutContext.pin.state) !== void 0 && layoutContext.pin.state.length >= 1) {\n      return layoutContext.pin.state;\n    }\n    return [];\n  }, [layoutContext.pin.state]);\n}\n\n// src/hooks/useRemoteParticipant.ts\n\n\nfunction useRemoteParticipant(identity, options = {}) {\n  const room = useRoomContext();\n  const [updateOnlyOn] = react__WEBPACK_IMPORTED_MODULE_0__.useState(options.updateOnlyOn);\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.connectedParticipantObserver)(room, identity, { additionalEvents: updateOnlyOn }),\n    [room, identity, updateOnlyOn]\n  );\n  const participant = useObservableState(\n    observable,\n    room.getParticipantByIdentity(identity)\n  );\n  return participant;\n}\n\n// src/hooks/useRoomInfo.ts\n\n\nfunction useRoomInfo(options = {}) {\n  const room = useEnsureRoom(options.room);\n  const infoObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.roomInfoObserver)(room), [room]);\n  const { name, metadata } = useObservableState(infoObserver, {\n    name: room.name,\n    metadata: room.metadata\n  });\n  return { name, metadata };\n}\n\n// src/hooks/useSortedParticipants.ts\n\n\n\n// src/hooks/useSpeakingParticipants.ts\n\n\nfunction useSpeakingParticipants() {\n  const room = useRoomContext();\n  const speakerObserver = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.activeSpeakerObserver)(room), [room]);\n  const activeSpeakers = useObservableState(speakerObserver, room.activeSpeakers);\n  return activeSpeakers;\n}\n\n// src/hooks/useSortedParticipants.ts\nfunction useSortedParticipants(participants) {\n  const [sortedParticipants, setSortedParticipants] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.sortParticipants)(participants)\n  );\n  const activeSpeakers = useSpeakingParticipants();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setSortedParticipants((0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.sortParticipants)(participants));\n  }, [activeSpeakers, participants]);\n  return sortedParticipants;\n}\n\n// src/hooks/useStartAudio.ts\n\n\nfunction useStartAudio({ room, props }) {\n  const roomEnsured = useEnsureRoom(room);\n  const { className, roomAudioPlaybackAllowedObservable: roomAudioPlaybackAllowedObservable2, handleStartAudioPlayback } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupStartAudio)(),\n    []\n  );\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => roomAudioPlaybackAllowedObservable2(roomEnsured),\n    [roomEnsured, roomAudioPlaybackAllowedObservable2]\n  );\n  const { canPlayAudio } = useObservableState(observable, {\n    canPlayAudio: roomEnsured.canPlaybackAudio\n  });\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps(props, {\n      className,\n      onClick: () => {\n        handleStartAudioPlayback(roomEnsured);\n      },\n      style: { display: canPlayAudio ? \"none\" : \"block\" }\n    }),\n    [props, className, canPlayAudio, handleStartAudioPlayback, roomEnsured]\n  );\n  return { mergedProps, canPlayAudio };\n}\n\n// src/hooks/useStartVideo.ts\n\n\nfunction useStartVideo({ room, props }) {\n  const roomEnsured = useEnsureRoom(room);\n  const { className, roomVideoPlaybackAllowedObservable, handleStartVideoPlayback } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupStartVideo)(),\n    []\n  );\n  const observable = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => roomVideoPlaybackAllowedObservable(roomEnsured),\n    [roomEnsured, roomVideoPlaybackAllowedObservable]\n  );\n  const { canPlayVideo } = useObservableState(observable, {\n    canPlayVideo: roomEnsured.canPlaybackVideo\n  });\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps(props, {\n      className,\n      onClick: () => {\n        handleStartVideoPlayback(roomEnsured);\n      },\n      style: { display: canPlayVideo ? \"none\" : \"block\" }\n    }),\n    [props, className, canPlayVideo, handleStartVideoPlayback, roomEnsured]\n  );\n  return { mergedProps, canPlayVideo };\n}\n\n// src/hooks/useSwipe.ts\n\nfunction useSwipe(element, options = {}) {\n  var _a;\n  const touchStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const touchEnd = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const minSwipeDistance = (_a = options.minSwipeDistance) != null ? _a : 50;\n  const onTouchStart = (event) => {\n    touchEnd.current = null;\n    touchStart.current = event.targetTouches[0].clientX;\n  };\n  const onTouchMove = (event) => {\n    touchEnd.current = event.targetTouches[0].clientX;\n  };\n  const onTouchEnd = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (!touchStart.current || !touchEnd.current) {\n      return;\n    }\n    const distance = touchStart.current - touchEnd.current;\n    const isLeftSwipe = distance > minSwipeDistance;\n    const isRightSwipe = distance < -minSwipeDistance;\n    if (isLeftSwipe && options.onLeftSwipe)\n      options.onLeftSwipe();\n    if (isRightSwipe && options.onRightSwipe)\n      options.onRightSwipe();\n  }, [minSwipeDistance, options]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const elementCopy = element.current;\n    if (elementCopy) {\n      elementCopy.addEventListener(\"touchstart\", onTouchStart, { passive: true });\n      elementCopy.addEventListener(\"touchmove\", onTouchMove, { passive: true });\n      elementCopy.addEventListener(\"touchend\", onTouchEnd, { passive: true });\n    }\n    return () => {\n      if (elementCopy) {\n        elementCopy.removeEventListener(\"touchstart\", onTouchStart);\n        elementCopy.removeEventListener(\"touchmove\", onTouchMove);\n        elementCopy.removeEventListener(\"touchend\", onTouchEnd);\n      }\n    };\n  }, [element, onTouchEnd]);\n}\n\n// src/hooks/useChatToggle.ts\n\n\nfunction useChatToggle({ props }) {\n  const { dispatch, state } = useLayoutContext().widget;\n  const { className } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupChatToggle)(), []);\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return mergeProps(props, {\n      className,\n      onClick: () => {\n        if (dispatch)\n          dispatch({ msg: \"toggle_chat\" });\n      },\n      \"aria-pressed\": (state == null ? void 0 : state.showChat) ? \"true\" : \"false\",\n      \"data-lk-unread-msgs\": state ? state.unreadMessages < 10 ? state.unreadMessages.toFixed(0) : \"9+\" : \"0\"\n    });\n  }, [props, className, dispatch, state]);\n  return { mergedProps };\n}\n\n// src/hooks/useToken.ts\n\n\nfunction useToken(tokenEndpoint, roomName, options = {}) {\n  const [token, setToken] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a;\n    if (tokenEndpoint === void 0) {\n      throw Error(\"token endpoint needs to be defined\");\n    }\n    if (((_a = options.userInfo) == null ? void 0 : _a.identity) === void 0) {\n      return;\n    }\n    const tokenFetcher = () => __async(this, null, function* () {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"fetching token\");\n      const params = new URLSearchParams(__spreadProps(__spreadValues({}, options.userInfo), { roomName }));\n      const res = yield fetch(`${tokenEndpoint}?${params.toString()}`);\n      if (!res.ok) {\n        _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.error(\n          `Could not fetch token. Server responded with status ${res.status}: ${res.statusText}`\n        );\n        return;\n      }\n      const { accessToken } = yield res.json();\n      setToken(accessToken);\n    });\n    tokenFetcher();\n  }, [tokenEndpoint, roomName, JSON.stringify(options)]);\n  return token;\n}\n\n// src/hooks/useTrackMutedIndicator.ts\n\n\nfunction useTrackMutedIndicator(trackRefOrSource, options = {}) {\n  var _a, _b, _c, _d;\n  let ref = useMaybeTrackRefContext();\n  const p = (_b = (_a = useMaybeParticipantContext()) != null ? _a : options.participant) != null ? _b : ref == null ? void 0 : ref.participant;\n  if (typeof trackRefOrSource === \"string\") {\n    if (!p) {\n      throw Error(`Participant missing, either provide it via context or pass it in directly`);\n    }\n    ref = { participant: p, source: trackRefOrSource };\n  } else if (trackRefOrSource) {\n    ref = trackRefOrSource;\n  } else {\n    throw Error(`No track reference found, either provide it via context or pass it in directly`);\n  }\n  const { className, mediaMutedObserver } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupTrackMutedIndicator)(ref),\n    [(0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getTrackReferenceId)(ref)]\n  );\n  const isMuted = useObservableState(\n    mediaMutedObserver,\n    !!(((_c = ref.publication) == null ? void 0 : _c.isMuted) || ((_d = ref.participant.getTrack(ref.source)) == null ? void 0 : _d.isMuted))\n  );\n  return { isMuted, className };\n}\n\n// src/hooks/useTrackToggle.ts\n\n\nfunction useTrackToggle(_a) {\n  var _b = _a, {\n    source,\n    onChange,\n    initialState,\n    captureOptions\n  } = _b, rest = __objRest(_b, [\n    \"source\",\n    \"onChange\",\n    \"initialState\",\n    \"captureOptions\"\n  ]);\n  var _a2;\n  const room = useMaybeRoomContext();\n  const track = (_a2 = room == null ? void 0 : room.localParticipant) == null ? void 0 : _a2.getTrack(source);\n  const userInteractionRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const { toggle, className, pendingObserver, enabledObserver } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => room ? (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupMediaToggle)(source, room, captureOptions) : (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupManualToggle)(),\n    [room, source, JSON.stringify(captureOptions)]\n  );\n  const pending = useObservableState(pendingObserver, false);\n  const enabled = useObservableState(enabledObserver, initialState != null ? initialState : !!(track == null ? void 0 : track.isEnabled));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    onChange == null ? void 0 : onChange(enabled, userInteractionRef.current);\n    userInteractionRef.current = false;\n  }, [enabled, onChange]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (initialState !== void 0) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"forcing initial toggle state\", source, initialState);\n      toggle(initialState);\n    }\n  }, []);\n  const newProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => mergeProps(rest, { className }), [rest, className]);\n  const clickHandler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (evt) => {\n      var _a3;\n      userInteractionRef.current = true;\n      toggle().finally(() => userInteractionRef.current = false);\n      (_a3 = rest.onClick) == null ? void 0 : _a3.call(rest, evt);\n    },\n    [rest, toggle]\n  );\n  return {\n    toggle,\n    enabled,\n    pending,\n    track,\n    buttonProps: __spreadProps(__spreadValues({}, newProps), {\n      \"aria-pressed\": enabled,\n      \"data-lk-source\": source,\n      \"data-lk-enabled\": enabled,\n      disabled: pending,\n      onClick: clickHandler\n    })\n  };\n}\n\n// src/hooks/useTracks.ts\n\n\n\nfunction useTracks(sources = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera,\n  livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone,\n  livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare,\n  livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShareAudio,\n  livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Unknown\n], options = {}) {\n  const room = useEnsureRoom(options.room);\n  const [trackReferences, setTrackReferences] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [participants, setParticipants] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const sources_ = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return sources.map((s) => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isSourceWitOptions)(s) ? s.source : s);\n  }, [JSON.stringify(sources)]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const subscription = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.trackReferencesObservable)(room, sources_, {\n      additionalRoomEvents: options.updateOnlyOn,\n      onlySubscribed: options.onlySubscribed\n    }).subscribe(({ trackReferences: trackReferences2, participants: participants2 }) => {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"setting track bundles\", trackReferences2, participants2);\n      setTrackReferences(trackReferences2);\n      setParticipants(participants2);\n    });\n    return () => subscription.unsubscribe();\n  }, [room, JSON.stringify(options.updateOnlyOn), JSON.stringify(sources)]);\n  const maybeTrackReferences = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if ((0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isSourcesWithOptions)(sources)) {\n      const requirePlaceholder = requiredPlaceholders(sources, participants);\n      const trackReferencesWithPlaceholders = Array.from(trackReferences);\n      participants.forEach((participant) => {\n        var _a;\n        if (requirePlaceholder.has(participant.identity)) {\n          const sourcesToAddPlaceholder = (_a = requirePlaceholder.get(participant.identity)) != null ? _a : [];\n          sourcesToAddPlaceholder.forEach((placeholderSource) => {\n            if (trackReferences.find(\n              ({ participant: p, publication }) => participant.identity === p.identity && publication.source === placeholderSource\n            )) {\n              return;\n            }\n            _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\n              `Add ${placeholderSource} placeholder for participant ${participant.identity}.`\n            );\n            const placeholder = {\n              participant,\n              source: placeholderSource\n            };\n            trackReferencesWithPlaceholders.push(placeholder);\n          });\n        }\n      });\n      return trackReferencesWithPlaceholders;\n    } else {\n      return trackReferences;\n    }\n  }, [trackReferences, participants, sources]);\n  return maybeTrackReferences;\n}\nfunction difference(setA, setB) {\n  const _difference = new Set(setA);\n  for (const elem of setB) {\n    _difference.delete(elem);\n  }\n  return _difference;\n}\nfunction requiredPlaceholders(sources, participants) {\n  const placeholderMap = /* @__PURE__ */ new Map();\n  if ((0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isSourcesWithOptions)(sources)) {\n    const sourcesThatNeedPlaceholder = sources.filter((sourceWithOption) => sourceWithOption.withPlaceholder).map((sourceWithOption) => sourceWithOption.source);\n    participants.forEach((participant) => {\n      const sourcesOfSubscribedTracks = participant.getTracks().map((pub) => {\n        var _a;\n        return (_a = pub.track) == null ? void 0 : _a.source;\n      }).filter((trackSource) => trackSource !== void 0);\n      const placeholderNeededForThisParticipant = Array.from(\n        difference(new Set(sourcesThatNeedPlaceholder), new Set(sourcesOfSubscribedTracks))\n      );\n      if (placeholderNeededForThisParticipant.length > 0) {\n        placeholderMap.set(participant.identity, placeholderNeededForThisParticipant);\n      }\n    });\n  }\n  return placeholderMap;\n}\n\n// src/hooks/useTrack.ts\nfunction useTrack(trackRef, options = {}) {\n  return useMediaTrackBySourceOrName(trackRef, options);\n}\n\n// src/hooks/useTrackByName.ts\nfunction useTrackByName(trackRef, options = {}) {\n  const ref = useEnsureTrackRef(trackRef);\n  return useMediaTrackBySourceOrName(ref, options);\n}\n\n// src/hooks/useChat.ts\n\n\nfunction useChat(options) {\n  const room = useRoomContext();\n  const [setup, setSetup] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  const isSending = useObservableState(setup == null ? void 0 : setup.isSendingObservable, false);\n  const chatMessages = useObservableState(setup == null ? void 0 : setup.messageObservable, []);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const setupChatReturn = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupChat)(room, options);\n    setSetup(setupChatReturn);\n  }, [room, options]);\n  return { send: setup == null ? void 0 : setup.send, update: setup == null ? void 0 : setup.update, chatMessages, isSending };\n}\n\n// src/hooks/usePersistentUserChoices.ts\n\n\nfunction usePersistentUserChoices(options = {}) {\n  var _a;\n  const [userChoices, setSettings] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.loadUserChoices)(options.defaults, (_a = options.preventLoad) != null ? _a : false)\n  );\n  const saveAudioInputEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((isEnabled) => {\n    setSettings((prev) => __spreadProps(__spreadValues({}, prev), { audioEnabled: isEnabled }));\n  }, []);\n  const saveVideoInputEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((isEnabled) => {\n    setSettings((prev) => __spreadProps(__spreadValues({}, prev), { videoEnabled: isEnabled }));\n  }, []);\n  const saveAudioInputDeviceId = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((deviceId) => {\n    setSettings((prev) => __spreadProps(__spreadValues({}, prev), { audioDeviceId: deviceId }));\n  }, []);\n  const saveVideoInputDeviceId = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((deviceId) => {\n    setSettings((prev) => __spreadProps(__spreadValues({}, prev), { videoDeviceId: deviceId }));\n  }, []);\n  const saveUsername = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((username) => {\n    setSettings((prev) => __spreadProps(__spreadValues({}, prev), { username }));\n  }, []);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a2;\n    (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.saveUserChoices)(userChoices, (_a2 = options.preventSave) != null ? _a2 : false);\n  }, [userChoices, options.preventSave]);\n  return {\n    userChoices,\n    saveAudioInputEnabled,\n    saveVideoInputEnabled,\n    saveAudioInputDeviceId,\n    saveVideoInputDeviceId,\n    saveUsername\n  };\n}\n\n// src/hooks/useIsEncrypted.ts\n\n\n\nfunction useIsEncrypted(participant) {\n  const p = useEnsureParticipant(participant);\n  const room = useEnsureRoom();\n  const observer = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.encryptionStatusObservable)(room, p), [room, p]);\n  const isEncrypted = useObservableState(\n    observer,\n    p instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.LocalParticipant ? p.isE2EEEnabled : p.isEncrypted\n  );\n  return isEncrypted;\n}\n\n// src/hooks/useTrackVolume.ts\n\n\n\nvar useTrackVolume = (trackOrTrackReference, options = { fftSize: 32, smoothingTimeConstant: 0 }) => {\n  const track = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference)(trackOrTrackReference) ? trackOrTrackReference.publication.track : trackOrTrackReference;\n  const [volume, setVolume] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!track || !track.mediaStream) {\n      return;\n    }\n    const { cleanup, analyser } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.createAudioAnalyser)(track, options);\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n    const updateVolume = () => {\n      analyser.getByteFrequencyData(dataArray);\n      let sum = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const a = dataArray[i];\n        sum += a * a;\n      }\n      setVolume(Math.sqrt(sum / dataArray.length) / 255);\n    };\n    const interval = setInterval(updateVolume, 1e3 / 30);\n    return () => {\n      cleanup();\n      clearInterval(interval);\n    };\n  }, [track, track == null ? void 0 : track.mediaStream, JSON.stringify(options)]);\n  return volume;\n};\nvar normalizeFrequencies = (frequencies) => {\n  const normalizeDb = (value) => {\n    const minDb = -100;\n    const maxDb = -10;\n    let db = 1 - Math.max(minDb, Math.min(maxDb, value)) * -1 / 100;\n    db = Math.sqrt(db);\n    return db;\n  };\n  return frequencies.map((value) => {\n    if (value === -Infinity) {\n      return 0;\n    }\n    return normalizeDb(value);\n  });\n};\nvar multibandDefaults = {\n  bands: 5,\n  loPass: 100,\n  hiPass: 600,\n  updateInterval: 10,\n  analyserOptions: { fftSize: 2048 }\n};\nvar useMultibandTrackVolume = (trackOrTrackReference, options = {}) => {\n  var _a;\n  const track = trackOrTrackReference instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track ? trackOrTrackReference : (_a = trackOrTrackReference == null ? void 0 : trackOrTrackReference.publication) == null ? void 0 : _a.track;\n  const [frequencyBands, setFrequencyBands] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const opts = __spreadValues(__spreadValues({}, multibandDefaults), options);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!track || !(track == null ? void 0 : track.mediaStream)) {\n      return;\n    }\n    const { analyser, cleanup } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.createAudioAnalyser)(track, opts.analyserOptions);\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Float32Array(bufferLength);\n    const updateVolume = () => {\n      analyser.getFloatFrequencyData(dataArray);\n      let frequencies = new Float32Array(dataArray.length);\n      for (let i = 0; i < dataArray.length; i++) {\n        frequencies[i] = dataArray[i];\n      }\n      frequencies = frequencies.slice(options.loPass, options.hiPass);\n      const normalizedFrequencies = normalizeFrequencies(frequencies);\n      const chunkSize = Math.ceil(normalizedFrequencies.length / opts.bands);\n      const chunks = [];\n      for (let i = 0; i < opts.bands; i++) {\n        const summedVolumes = normalizedFrequencies.slice(i * chunkSize, (i + 1) * chunkSize).reduce((acc, val) => acc += val, 0);\n        chunks.push(summedVolumes / chunkSize);\n      }\n      setFrequencyBands(chunks);\n    };\n    const interval = setInterval(updateVolume, opts.updateInterval);\n    return () => {\n      cleanup();\n      clearInterval(interval);\n    };\n  }, [track, track == null ? void 0 : track.mediaStream, JSON.stringify(options)]);\n  return frequencyBands;\n};\n\n// src/components/controls/ClearPinButton.tsx\nfunction ClearPinButton(props) {\n  const { buttonProps } = useClearPinButton(props);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, buttonProps), props.children);\n}\n\n// src/components/ConnectionState.tsx\n\nfunction ConnectionState3(_a) {\n  var _b = _a, { room } = _b, props = __objRest(_b, [\"room\"]);\n  const connectionState = useConnectionState(room);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, props), connectionState);\n}\n\n// src/components/controls/ChatToggle.tsx\n\nfunction ChatToggle(props) {\n  const { mergedProps } = useChatToggle({ props });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, mergedProps), props.children);\n}\n\n// src/components/controls/DisconnectButton.tsx\n\nfunction DisconnectButton(props) {\n  const { buttonProps } = useDisconnectButton(props);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, buttonProps), props.children);\n}\n\n// src/components/controls/FocusToggle.tsx\n\n\n// src/assets/icons/CameraDisabledIcon.tsx\n\nvar SvgCameraDisabledIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" }));\nvar CameraDisabledIcon_default = SvgCameraDisabledIcon;\n\n// src/assets/icons/CameraIcon.tsx\n\nvar SvgCameraIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" }));\nvar CameraIcon_default = SvgCameraIcon;\n\n// src/assets/icons/ChatCloseIcon.tsx\n\nvar SvgChatCloseIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, viewBox: \"0 0 24 24\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"#FFF\",\n    d: \"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z\"\n  }\n));\nvar ChatCloseIcon_default = SvgChatCloseIcon;\n\n// src/assets/icons/ChatIcon.tsx\n\nvar SvgChatIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 18, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar ChatIcon_default = SvgChatIcon;\n\n// src/assets/icons/Chevron.tsx\n\nvar SvgChevron = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar Chevron_default = SvgChevron;\n\n// src/assets/icons/FocusToggleIcon.tsx\n\nvar SvgFocusToggleIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" })));\nvar FocusToggleIcon_default = SvgFocusToggleIcon;\n\n// src/assets/icons/GearIcon.tsx\n\nvar SvgGearIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar GearIcon_default = SvgGearIcon;\n\n// src/assets/icons/LeaveIcon.tsx\n\nvar SvgLeaveIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar LeaveIcon_default = SvgLeaveIcon;\n\n// src/assets/icons/LockLockedIcon.tsx\n\nvar SvgLockLockedIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar LockLockedIcon_default = SvgLockLockedIcon;\n\n// src/assets/icons/MicDisabledIcon.tsx\n\nvar SvgMicDisabledIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" }));\nvar MicDisabledIcon_default = SvgMicDisabledIcon;\n\n// src/assets/icons/MicIcon.tsx\n\nvar SvgMicIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" }));\nvar MicIcon_default = SvgMicIcon;\n\n// src/assets/icons/QualityExcellentIcon.tsx\n\nvar SvgQualityExcellentIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }));\nvar QualityExcellentIcon_default = SvgQualityExcellentIcon;\n\n// src/assets/icons/QualityGoodIcon.tsx\n\nvar SvgQualityGoodIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" })));\nvar QualityGoodIcon_default = SvgQualityGoodIcon;\n\n// src/assets/icons/QualityPoorIcon.tsx\n\nvar SvgQualityPoorIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" })));\nvar QualityPoorIcon_default = SvgQualityPoorIcon;\n\n// src/assets/icons/QualityUnknownIcon.tsx\n\nvar SvgQualityUnknownIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" })));\nvar QualityUnknownIcon_default = SvgQualityUnknownIcon;\n\n// src/assets/icons/ScreenShareIcon.tsx\n\nvar SvgScreenShareIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\",\n    clipRule: \"evenodd\"\n  }\n));\nvar ScreenShareIcon_default = SvgScreenShareIcon;\n\n// src/assets/icons/ScreenShareStopIcon.tsx\n\nvar SvgScreenShareStopIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { fill: \"currentColor\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\",\n    clipRule: \"evenodd\"\n  }\n)));\nvar ScreenShareStopIcon_default = SvgScreenShareStopIcon;\n\n// src/assets/icons/SpinnerIcon.tsx\n\nvar SvgSpinnerIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.7\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.6\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.5\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.4\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.9\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.3\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.8\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.2\n  }\n));\nvar SpinnerIcon_default = SvgSpinnerIcon;\n\n// src/assets/icons/UnfocusToggleIcon.tsx\n\nvar SvgUnfocusToggleIcon = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" })));\nvar UnfocusToggleIcon_default = SvgUnfocusToggleIcon;\n\n// src/components/controls/FocusToggle.tsx\nfunction FocusToggle(_a) {\n  var _b = _a, { trackRef, trackSource, participant } = _b, props = __objRest(_b, [\"trackRef\", \"trackSource\", \"participant\"]);\n  const trackRefFromContext = useMaybeTrackRefContext();\n  const { mergedProps, inFocus } = useFocusToggle({\n    trackRef: trackRef != null ? trackRef : trackRefFromContext,\n    trackSource,\n    participant,\n    props\n  });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LayoutContext.Consumer, null, (layoutContext) => layoutContext !== void 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, mergedProps), props.children ? props.children : inFocus ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnfocusToggleIcon_default, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FocusToggleIcon_default, null)));\n}\n\n// src/components/controls/MediaDeviceSelect.tsx\n\n\nfunction MediaDeviceSelect(_a) {\n  var _b = _a, {\n    kind,\n    initialSelection,\n    onActiveDeviceChange,\n    onDeviceListChange,\n    onDeviceSelectError,\n    exactMatch,\n    track,\n    requestPermissions,\n    onError\n  } = _b, props = __objRest(_b, [\n    \"kind\",\n    \"initialSelection\",\n    \"onActiveDeviceChange\",\n    \"onDeviceListChange\",\n    \"onDeviceSelectError\",\n    \"exactMatch\",\n    \"track\",\n    \"requestPermissions\",\n    \"onError\"\n  ]);\n  const room = useMaybeRoomContext();\n  const handleError = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (e) => {\n      if (room) {\n        room.emit(livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.MediaDevicesError, e);\n      }\n      onError == null ? void 0 : onError(e);\n    },\n    [room, onError]\n  );\n  const { devices, activeDeviceId, setActiveMediaDevice, className } = useMediaDeviceSelect({\n    kind,\n    room,\n    track,\n    requestPermissions,\n    onError: handleError\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (initialSelection !== void 0) {\n      setActiveMediaDevice(initialSelection);\n    }\n  }, [setActiveMediaDevice]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (typeof onDeviceListChange === \"function\") {\n      onDeviceListChange(devices);\n    }\n  }, [onDeviceListChange, devices]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (activeDeviceId && activeDeviceId !== \"\") {\n      onActiveDeviceChange == null ? void 0 : onActiveDeviceChange(activeDeviceId);\n    }\n  }, [activeDeviceId]);\n  const handleActiveDeviceChange = (deviceId) => __async(this, null, function* () {\n    try {\n      yield setActiveMediaDevice(deviceId, { exact: exactMatch });\n    } catch (e) {\n      if (e instanceof Error) {\n        onDeviceSelectError == null ? void 0 : onDeviceSelectError(e);\n      } else {\n        throw e;\n      }\n    }\n  });\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps2(props, { className }, { className: \"lk-list\" }),\n    [className, props]\n  );\n  function isActive(deviceId, activeDeviceId2, index) {\n    return deviceId === activeDeviceId2 || index === 0 && activeDeviceId2 === \"default\";\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", __spreadValues({}, mergedProps), devices.map((device, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"li\",\n    {\n      key: device.deviceId,\n      id: device.deviceId,\n      \"data-lk-active\": isActive(device.deviceId, activeDeviceId, index),\n      \"aria-selected\": isActive(device.deviceId, activeDeviceId, index),\n      role: \"option\"\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: () => handleActiveDeviceChange(device.deviceId) }, device.label)\n  )));\n}\n\n// src/components/controls/StartAudio.tsx\n\nfunction StartAudio(_a) {\n  var _b = _a, { label = \"Allow Audio\" } = _b, props = __objRest(_b, [\"label\"]);\n  const room = useRoomContext();\n  const { mergedProps } = useStartAudio({ room, props });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, mergedProps), label);\n}\n\n// src/components/controls/TrackToggle.tsx\n\n\n// src/assets/icons/util.tsx\n\n\nfunction getSourceIcon(source, enabled) {\n  switch (source) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone:\n      return enabled ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(MicIcon_default, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(MicDisabledIcon_default, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera:\n      return enabled ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CameraIcon_default, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CameraDisabledIcon_default, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare:\n      return enabled ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScreenShareStopIcon_default, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScreenShareIcon_default, null);\n    default:\n      return void 0;\n  }\n}\nfunction getConnectionQualityIcon(quality) {\n  switch (quality) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionQuality.Excellent:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(QualityExcellentIcon_default, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionQuality.Good:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(QualityGoodIcon_default, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionQuality.Poor:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(QualityPoorIcon_default, null);\n    default:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(QualityUnknownIcon_default, null);\n  }\n}\n\n// src/components/controls/TrackToggle.tsx\nfunction TrackToggle(_a) {\n  var _b = _a, { showIcon } = _b, props = __objRest(_b, [\"showIcon\"]);\n  const { buttonProps, enabled } = useTrackToggle(props);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({}, buttonProps), (showIcon != null ? showIcon : true) && getSourceIcon(props.source, enabled), props.children);\n}\n\n// src/components/layout/FocusLayout.tsx\n\n\n// src/components/participant/ParticipantTile.tsx\n\n\n\n\n// src/components/participant/ConnectionQualityIndicator.tsx\n\nfunction ConnectionQualityIndicator(props) {\n  var _a;\n  const { className, quality } = useConnectionQualityIndicator(props);\n  const elementProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return __spreadProps(__spreadValues({}, mergeProps2(props, { className })), { \"data-lk-quality\": quality });\n  }, [quality, props, className]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, elementProps), (_a = props.children) != null ? _a : getConnectionQualityIcon(quality));\n}\n\n// src/components/participant/ParticipantName.tsx\n\n\nfunction ParticipantName(_a) {\n  var _b = _a, { participant } = _b, props = __objRest(_b, [\"participant\"]);\n  const p = useEnsureParticipant(participant);\n  const { className, infoObserver } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.setupParticipantName)(p);\n  }, [p]);\n  const { identity, name } = useObservableState(infoObserver, {\n    name: p.name,\n    identity: p.identity,\n    metadata: p.metadata\n  });\n  const mergedProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return mergeProps2(props, { className, \"data-lk-participant-name\": name });\n  }, [props, className, name]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({}, mergedProps), name !== \"\" ? name : identity, props.children);\n}\n\n// src/components/participant/TrackMutedIndicator.tsx\n\nfunction TrackMutedIndicator(_a) {\n  var _b = _a, {\n    source,\n    participant,\n    trackRef,\n    show = \"always\"\n  } = _b, props = __objRest(_b, [\n    \"source\",\n    \"participant\",\n    \"trackRef\",\n    \"show\"\n  ]);\n  var _a2, _b2;\n  const { className, isMuted } = useTrackMutedIndicator(trackRef != null ? trackRef : source, { participant });\n  const showIndicator = show === \"always\" || show === \"muted\" && isMuted || show === \"unmuted\" && !isMuted;\n  const htmlProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps2(props, {\n      className\n    }),\n    [className, props]\n  );\n  if (!showIndicator) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadProps(__spreadValues({}, htmlProps), { \"data-lk-muted\": isMuted }), (_b2 = props.children) != null ? _b2 : getSourceIcon((_a2 = trackRef == null ? void 0 : trackRef.source) != null ? _a2 : source, !isMuted));\n}\n\n// src/assets/images/ParticipantPlaceholder.tsx\n\nvar SvgParticipantPlaceholder = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"svg\",\n  __spreadValues({\n    width: 320,\n    height: 320,\n    viewBox: \"0 0 320 320\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props),\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  ),\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  )\n);\nvar ParticipantPlaceholder_default = SvgParticipantPlaceholder;\n\n// src/components/participant/VideoTrack.tsx\n\n\n\nfunction VideoTrack(_a) {\n  var _b = _a, {\n    onTrackClick,\n    onClick,\n    onSubscriptionStatusChanged,\n    trackRef,\n    name,\n    publication,\n    source,\n    participant: p,\n    manageSubscription\n  } = _b, props = __objRest(_b, [\n    \"onTrackClick\",\n    \"onClick\",\n    \"onSubscriptionStatusChanged\",\n    \"trackRef\",\n    \"name\",\n    \"publication\",\n    \"source\",\n    \"participant\",\n    \"manageSubscription\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j;\n  const maybeTrackRef = useMaybeTrackRefContext();\n  const _name = (_d = (_c = (_a2 = trackRef == null ? void 0 : trackRef.publication) == null ? void 0 : _a2.trackName) != null ? _c : (_b2 = maybeTrackRef == null ? void 0 : maybeTrackRef.publication) == null ? void 0 : _b2.trackName) != null ? _d : name;\n  const _source = (_f = (_e = trackRef == null ? void 0 : trackRef.source) != null ? _e : maybeTrackRef == null ? void 0 : maybeTrackRef.source) != null ? _f : source;\n  const _publication = (_h = (_g = trackRef == null ? void 0 : trackRef.publication) != null ? _g : maybeTrackRef == null ? void 0 : maybeTrackRef.publication) != null ? _h : publication;\n  const _participant = (_j = (_i = trackRef == null ? void 0 : trackRef.participant) != null ? _i : maybeTrackRef == null ? void 0 : maybeTrackRef.participant) != null ? _j : p;\n  if (_source === void 0) {\n    throw new Error(\"VideoTrack: You must provide a trackRef or source property.\");\n  }\n  const participant = useEnsureParticipant(_participant);\n  const mediaEl = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const intersectionEntry = usehooks_ts__WEBPACK_IMPORTED_MODULE_5__.useIntersectionObserver(mediaEl, {});\n  const debouncedIntersectionEntry = usehooks_ts__WEBPACK_IMPORTED_MODULE_5__.useDebounce(intersectionEntry, 3e3);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (manageSubscription && _publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.RemoteTrackPublication && (debouncedIntersectionEntry == null ? void 0 : debouncedIntersectionEntry.isIntersecting) === false && (intersectionEntry == null ? void 0 : intersectionEntry.isIntersecting) === false) {\n      _publication.setSubscribed(false);\n    }\n  }, [debouncedIntersectionEntry, _publication, manageSubscription]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (manageSubscription && _publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.RemoteTrackPublication && (intersectionEntry == null ? void 0 : intersectionEntry.isIntersecting) === true) {\n      _publication.setSubscribed(true);\n    }\n  }, [intersectionEntry, _publication, manageSubscription]);\n  const {\n    elementProps,\n    publication: pub,\n    isSubscribed\n  } = useMediaTrackBySourceOrName(\n    { participant, name: _name, source: _source, publication: _publication },\n    {\n      element: mediaEl,\n      props\n    }\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    onSubscriptionStatusChanged == null ? void 0 : onSubscriptionStatusChanged(!!isSubscribed);\n  }, [isSubscribed, onSubscriptionStatusChanged]);\n  const clickHandler = (evt) => {\n    onClick == null ? void 0 : onClick(evt);\n    onTrackClick == null ? void 0 : onTrackClick({ participant, track: pub });\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", __spreadProps(__spreadValues({ ref: mediaEl }, elementProps), { muted: true, onClick: clickHandler }));\n}\n\n// src/components/participant/AudioTrack.tsx\n\n\n\nfunction AudioTrack(_a) {\n  var _b = _a, {\n    trackRef,\n    onSubscriptionStatusChanged,\n    volume,\n    source,\n    name,\n    publication,\n    participant: p\n  } = _b, props = __objRest(_b, [\n    \"trackRef\",\n    \"onSubscriptionStatusChanged\",\n    \"volume\",\n    \"source\",\n    \"name\",\n    \"publication\",\n    \"participant\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j;\n  const maybeTrackRef = useMaybeTrackRefContext();\n  const _name = (_d = (_c = (_a2 = trackRef == null ? void 0 : trackRef.publication) == null ? void 0 : _a2.trackName) != null ? _c : (_b2 = maybeTrackRef == null ? void 0 : maybeTrackRef.publication) == null ? void 0 : _b2.trackName) != null ? _d : name;\n  const _source = (_f = (_e = trackRef == null ? void 0 : trackRef.source) != null ? _e : maybeTrackRef == null ? void 0 : maybeTrackRef.source) != null ? _f : source;\n  const _publication = (_h = (_g = trackRef == null ? void 0 : trackRef.publication) != null ? _g : maybeTrackRef == null ? void 0 : maybeTrackRef.publication) != null ? _h : publication;\n  const _participant = (_j = (_i = trackRef == null ? void 0 : trackRef.participant) != null ? _i : maybeTrackRef == null ? void 0 : maybeTrackRef.participant) != null ? _j : p;\n  if (_source === void 0) {\n    throw new Error(\"The AudioTrack component expects a trackRef or source property.\");\n  }\n  const mediaEl = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const participant = useEnsureParticipant(_participant);\n  const {\n    elementProps,\n    isSubscribed,\n    track,\n    publication: pub\n  } = useMediaTrackBySourceOrName(\n    { source: _source, name: _name, participant, publication: _publication },\n    {\n      element: mediaEl,\n      props\n    }\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    onSubscriptionStatusChanged == null ? void 0 : onSubscriptionStatusChanged(!!isSubscribed);\n  }, [isSubscribed, onSubscriptionStatusChanged]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (track === void 0 || volume === void 0) {\n      return;\n    }\n    if (track instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.RemoteAudioTrack) {\n      track.setVolume(volume);\n    } else {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\"Volume can only be set on remote audio tracks.\");\n    }\n  }, [volume, track]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (pub === void 0 || props.muted === void 0) {\n      return;\n    }\n    if (pub instanceof livekit_client__WEBPACK_IMPORTED_MODULE_4__.RemoteTrackPublication) {\n      pub.setEnabled(!props.muted);\n    } else {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\"Can only call setEnabled on remote track publications.\");\n    }\n  }, [props.muted, pub, track]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"audio\", __spreadValues({ ref: mediaEl }, elementProps));\n}\n\n// src/components/participant/ParticipantTile.tsx\nfunction ParticipantContextIfNeeded(props) {\n  const hasContext = !!useMaybeParticipantContext();\n  return props.participant && !hasContext ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantContext.Provider, { value: props.participant }, props.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.children);\n}\nfunction TrackRefContextIfNeeded(props) {\n  const hasContext = !!useMaybeTrackRefContext();\n  return props.trackRef && !hasContext ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackRefContext.Provider, { value: props.trackRef }, props.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.children);\n}\nfunction ParticipantTile(_a) {\n  var _b = _a, {\n    trackRef,\n    participant,\n    children,\n    source = livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera,\n    onParticipantClick,\n    publication,\n    disableSpeakingIndicator\n  } = _b, htmlProps = __objRest(_b, [\n    \"trackRef\",\n    \"participant\",\n    \"children\",\n    \"source\",\n    \"onParticipantClick\",\n    \"publication\",\n    \"disableSpeakingIndicator\"\n  ]);\n  var _a2, _b2;\n  const maybeTrackRef = useMaybeTrackRefContext();\n  const p = useEnsureParticipant(participant);\n  const trackReference = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    var _a3, _b3, _c, _d, _e, _f;\n    return {\n      participant: (_b3 = (_a3 = trackRef == null ? void 0 : trackRef.participant) != null ? _a3 : maybeTrackRef == null ? void 0 : maybeTrackRef.participant) != null ? _b3 : p,\n      source: (_d = (_c = trackRef == null ? void 0 : trackRef.source) != null ? _c : maybeTrackRef == null ? void 0 : maybeTrackRef.source) != null ? _d : source,\n      publication: (_f = (_e = trackRef == null ? void 0 : trackRef.publication) != null ? _e : maybeTrackRef == null ? void 0 : maybeTrackRef.publication) != null ? _f : publication\n    };\n  }, [maybeTrackRef, p, publication, source, trackRef]);\n  const { elementProps } = useParticipantTile({\n    participant: trackReference.participant,\n    htmlProps,\n    source: trackReference.source,\n    publication: trackReference.publication,\n    disableSpeakingIndicator,\n    onParticipantClick\n  });\n  const isEncrypted = useIsEncrypted(p);\n  const layoutContext = useMaybeLayoutContext();\n  const autoManageSubscription = (_a2 = useFeatureContext()) == null ? void 0 : _a2.autoSubscription;\n  const handleSubscribe = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (subscribed) => {\n      if (trackReference.source && !subscribed && layoutContext && layoutContext.pin.dispatch && (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReferencePinned)(trackReference, layoutContext.pin.state)) {\n        layoutContext.pin.dispatch({ msg: \"clear_pin\" });\n      }\n    },\n    [trackReference, layoutContext]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ style: { position: \"relative\" } }, elementProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackRefContextIfNeeded, { trackRef: trackReference }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantContextIfNeeded, { participant: trackReference.participant }, children != null ? children : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference)(trackReference) && (((_b2 = trackReference.publication) == null ? void 0 : _b2.kind) === \"video\" || trackReference.source === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera || trackReference.source === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    VideoTrack,\n    {\n      trackRef: trackReference,\n      onSubscriptionStatusChanged: handleSubscribe,\n      manageSubscription: autoManageSubscription\n    }\n  ) : (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference)(trackReference) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    AudioTrack,\n    {\n      trackRef: trackReference,\n      onSubscriptionStatusChanged: handleSubscribe\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-placeholder\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantPlaceholder_default, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, trackReference.source === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, isEncrypted && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LockLockedIcon_default, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TrackMutedIndicator,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone,\n      show: \"muted\"\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantName, null)) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScreenShareIcon_default, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantName, null, \"'s screen\"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConnectionQualityIndicator, { className: \"lk-participant-metadata-item\" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FocusToggle, { trackRef: trackReference }))));\n}\n\n// src/components/layout/FocusLayout.tsx\nfunction FocusLayoutContainer(props) {\n  const elementProps = mergeProps2(props, { className: \"lk-focus-layout\" });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, elementProps), props.children);\n}\nfunction FocusLayout(_a) {\n  var _b = _a, { trackRef, track } = _b, htmlProps = __objRest(_b, [\"trackRef\", \"track\"]);\n  const trackReference = trackRef != null ? trackRef : track;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantTile, __spreadValues(__spreadValues({}, trackReference), htmlProps));\n}\n\n// src/components/layout/GridLayout.tsx\n\n\n// src/components/TrackLoop.tsx\n\n\nfunction TrackLoop(_a) {\n  var _b = _a, { tracks } = _b, props = __objRest(_b, [\"tracks\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, tracks.map((trackReference) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      TrackRefContext.Provider,\n      {\n        value: trackReference,\n        key: (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getTrackReferenceId)(trackReference)\n      },\n      cloneSingleChild(props.children)\n    );\n  }));\n}\n\n// src/components/controls/PaginationControl.tsx\n\n\nfunction PaginationControl({\n  totalPageCount,\n  nextPage,\n  prevPage,\n  currentPage,\n  pagesContainer: connectedElement\n}) {\n  const [interactive, setInteractive] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    let subscription;\n    if (connectedElement) {\n      subscription = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.createInteractingObservable)(connectedElement.current, 2e3).subscribe(\n        setInteractive\n      );\n    }\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [connectedElement]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-pagination-control\", \"data-lk-user-interaction\": interactive }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: prevPage }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Chevron_default, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-pagination-count\" }, `${currentPage} of ${totalPageCount}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: nextPage }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Chevron_default, null)));\n}\n\n// src/components/controls/PaginationIndicator.tsx\n\nfunction PaginationIndicator({ totalPageCount, currentPage }) {\n  const bubbles = new Array(totalPageCount).fill(\"\").map((_, index) => {\n    if (index + 1 === currentPage) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { \"data-lk-active\": true, key: index });\n    } else {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { key: index });\n    }\n  });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-pagination-indicator\" }, bubbles);\n}\n\n// src/components/layout/GridLayout.tsx\nfunction GridLayout(_a) {\n  var _b = _a, { tracks } = _b, props = __objRest(_b, [\"tracks\"]);\n  const gridEl = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n  const elementProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => mergeProps2(props, { className: \"lk-grid-layout\" }),\n    [props]\n  );\n  const { layout } = useGridLayout(gridEl, tracks.length);\n  const pagination = usePagination(layout.maxTiles, tracks);\n  useSwipe(gridEl, {\n    onLeftSwipe: pagination.nextPage,\n    onRightSwipe: pagination.prevPage\n  });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ ref: gridEl, \"data-lk-pagination\": pagination.totalPageCount > 1 }, elementProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackLoop, { tracks: pagination.tracks }, props.children), tracks.length > layout.maxTiles && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    PaginationIndicator,\n    {\n      totalPageCount: pagination.totalPageCount,\n      currentPage: pagination.currentPage\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PaginationControl, __spreadValues({ pagesContainer: gridEl }, pagination))));\n}\n\n// src/components/layout/CarouselLayout.tsx\n\n\nvar MIN_HEIGHT = 130;\nvar MIN_WIDTH = 140;\nvar MIN_VISIBLE_TILES = 1;\nvar ASPECT_RATIO = 16 / 10;\nvar ASPECT_RATIO_INVERT = (1 - ASPECT_RATIO) * -1;\nvar CarouselView = CarouselLayout;\nfunction CarouselLayout(_a) {\n  var _b = _a, { tracks, orientation } = _b, props = __objRest(_b, [\"tracks\", \"orientation\"]);\n  const asideEl = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const [prevTiles, setPrevTiles] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  const { width, height } = useSize(asideEl);\n  const carouselOrientation = orientation ? orientation : height >= width ? \"vertical\" : \"horizontal\";\n  const tileSpan = carouselOrientation === \"vertical\" ? Math.max(width * ASPECT_RATIO_INVERT, MIN_HEIGHT) : Math.max(height * ASPECT_RATIO, MIN_WIDTH);\n  const scrollBarWidth = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getScrollBarWidth)();\n  const tilesThatFit = carouselOrientation === \"vertical\" ? Math.max((height - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES) : Math.max((width - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES);\n  let maxVisibleTiles = Math.round(tilesThatFit);\n  if (Math.abs(tilesThatFit - prevTiles) < 0.5) {\n    maxVisibleTiles = Math.round(prevTiles);\n  } else if (prevTiles !== tilesThatFit) {\n    setPrevTiles(tilesThatFit);\n  }\n  const sortedTiles = useVisualStableUpdate(tracks, maxVisibleTiles);\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    if (asideEl.current) {\n      asideEl.current.dataset.lkOrientation = carouselOrientation;\n      asideEl.current.style.setProperty(\"--lk-max-visible-tiles\", maxVisibleTiles.toString());\n    }\n  }, [maxVisibleTiles, carouselOrientation]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"aside\", __spreadValues({ key: carouselOrientation, className: \"lk-carousel\", ref: asideEl }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackLoop, { tracks: sortedTiles }, props.children));\n}\n\n// src/components/layout/LayoutContextProvider.tsx\n\n\nfunction LayoutContextProvider({\n  value,\n  onPinChange,\n  onWidgetChange,\n  children\n}) {\n  const layoutContextValue = useEnsureCreateLayoutContext(value);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"PinState Updated\", { state: layoutContextValue.pin.state });\n    if (onPinChange && layoutContextValue.pin.state)\n      onPinChange(layoutContextValue.pin.state);\n  }, [layoutContextValue.pin.state, onPinChange]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"Widget Updated\", { widgetState: layoutContextValue.widget.state });\n    if (onWidgetChange && layoutContextValue.widget.state) {\n      onWidgetChange(layoutContextValue.widget.state);\n    }\n  }, [onWidgetChange, layoutContextValue.widget.state]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LayoutContext.Provider, { value: layoutContextValue }, children);\n}\n\n// src/components/LiveKitRoom.tsx\n\nfunction LiveKitRoom(props) {\n  const { room, htmlProps } = useLiveKitRoom(props);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, htmlProps), room && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(RoomContext.Provider, { value: room }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LKFeatureContext.Provider, { value: props.featureFlags }, props.children)));\n}\n\n// src/components/participant/AudioVisualizer.tsx\n\n\nfunction AudioVisualizer(_a) {\n  var _b = _a, { participant, trackRef } = _b, props = __objRest(_b, [\"participant\", \"trackRef\"]);\n  var _a2, _b2;\n  const svgWidth = 200;\n  const svgHeight = 90;\n  const barWidth = 6;\n  const barSpacing = 4;\n  const volMultiplier = 50;\n  const barCount = 7;\n  const p = (_a2 = useMaybeParticipantContext()) != null ? _a2 : participant;\n  let ref = (_b2 = useMaybeTrackRefContext()) != null ? _b2 : trackRef;\n  if (!ref) {\n    if (!p) {\n      throw Error(`Participant missing, provide it directly or within a context`);\n    }\n    ref = { participant: p, source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone };\n  }\n  const volumes = useMultibandTrackVolume(ref, { bands: 7, loPass: 300 });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"svg\",\n    __spreadProps(__spreadValues({\n      width: \"100%\",\n      height: \"100%\",\n      viewBox: `0 0 ${svgWidth} ${svgHeight}`\n    }, props), {\n      className: \"lk-audio-visualizer\"\n    }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\" }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"g\",\n      {\n        style: {\n          transform: `translate(${(svgWidth - barCount * (barWidth + barSpacing)) / 2}px, 0)`\n        }\n      },\n      volumes.map((vol, idx) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        \"rect\",\n        {\n          key: idx,\n          x: idx * (barWidth + barSpacing),\n          y: svgHeight / 2 - vol * volMultiplier / 2,\n          width: barWidth,\n          height: vol * volMultiplier\n        }\n      ))\n    )\n  );\n}\n\n// src/components/ParticipantLoop.tsx\n\nfunction ParticipantLoop(_a) {\n  var _b = _a, { participants } = _b, props = __objRest(_b, [\"participants\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, participants.map((participant) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantContext.Provider, { value: participant, key: participant.identity }, cloneSingleChild(props.children))));\n}\n\n// src/components/RoomAudioRenderer.tsx\n\n\n\nfunction RoomAudioRenderer({ volume, muted }) {\n  const tracks = useTracks(\n    [livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShareAudio, livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Unknown],\n    {\n      updateOnlyOn: [],\n      onlySubscribed: false\n    }\n  ).filter((ref) => !(0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isLocal)(ref.participant) && ref.publication.kind === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Kind.Audio);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    for (const track of tracks) {\n      track.publication.setSubscribed(true);\n    }\n  }, [tracks]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"none\" } }, tracks.map((trackRef) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    AudioTrack,\n    {\n      key: (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.getTrackReferenceId)(trackRef),\n      trackRef,\n      volume,\n      muted\n    }\n  )));\n}\n\n// src/components/RoomName.tsx\n\nfunction RoomName(_a) {\n  var _b = _a, {\n    childrenPosition = \"before\",\n    children\n  } = _b, htmlAttributes = __objRest(_b, [\n    \"childrenPosition\",\n    \"children\"\n  ]);\n  const { name } = useRoomInfo();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({}, htmlAttributes), childrenPosition === \"before\" && children, name, childrenPosition === \"after\" && children);\n}\n\n// src/components/Toast.tsx\n\nfunction Toast(props) {\n  const htmlProps = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => mergeProps2(props, { className: \"lk-toast\" }), [props]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, htmlProps), props.children);\n}\n\n// src/components/participant/ParticipantAudioTile.tsx\n\n\nfunction ParticipantAudioTile(_a) {\n  var _b = _a, {\n    participant,\n    children,\n    source,\n    publication,\n    disableSpeakingIndicator,\n    onParticipantClick\n  } = _b, htmlProps = __objRest(_b, [\n    \"participant\",\n    \"children\",\n    \"source\",\n    \"publication\",\n    \"disableSpeakingIndicator\",\n    \"onParticipantClick\"\n  ]);\n  const p = useEnsureParticipant(participant);\n  const { elementProps } = useParticipantTile({\n    participant: p,\n    htmlProps,\n    disableSpeakingIndicator,\n    source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone,\n    publication,\n    onParticipantClick\n  });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ style: { position: \"relative\" } }, elementProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantContextIfNeeded, { participant: p }, children != null ? children : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(AudioTrack, { source: source != null ? source : livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(AudioVisualizer, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackMutedIndicator, { source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantName, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConnectionQualityIndicator, { className: \"lk-participant-metadata-item\" })))));\n}\n\n// src/components/ConnectionStateToast.tsx\n\n\nfunction ConnectionStateToast(props) {\n  const [notification, setNotification] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\n  const state = useConnectionState(props.room);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    switch (state) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Reconnecting:\n        setNotification(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SpinnerIcon_default, { className: \"lk-spinner\" }), \" Reconnecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Connecting:\n        setNotification(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SpinnerIcon_default, { className: \"lk-spinner\" }), \" Connecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_4__.ConnectionState.Disconnected:\n        setNotification(/* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \"Disconnected\"));\n        break;\n      default:\n        setNotification(void 0);\n        break;\n    }\n  }, [state]);\n  return notification ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Toast, { className: \"lk-toast-connection-state\" }, notification) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);\n}\n\n// src/components/ChatEntry.tsx\n\n\nfunction ChatEntry(_a) {\n  var _b = _a, {\n    entry,\n    hideName = false,\n    hideTimestamp = false,\n    messageFormatter\n  } = _b, props = __objRest(_b, [\n    \"entry\",\n    \"hideName\",\n    \"hideTimestamp\",\n    \"messageFormatter\"\n  ]);\n  var _a2, _b2, _c, _d;\n  const formattedMessage = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return messageFormatter ? messageFormatter(entry.message) : entry.message;\n  }, [entry.message, messageFormatter]);\n  const hasBeenEdited = !!entry.editTimestamp;\n  const time = new Date(entry.timestamp);\n  const locale = navigator ? navigator.language : \"en-US\";\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"li\",\n    __spreadValues({\n      className: \"lk-chat-entry\",\n      title: time.toLocaleTimeString(locale, { timeStyle: \"full\" }),\n      \"data-lk-message-origin\": ((_a2 = entry.from) == null ? void 0 : _a2.isLocal) ? \"local\" : \"remote\"\n    }, props),\n    (!hideTimestamp || !hideName || hasBeenEdited) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-meta-data\" }, !hideName && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", { className: \"lk-participant-name\" }, (_d = (_b2 = entry.from) == null ? void 0 : _b2.name) != null ? _d : (_c = entry.from) == null ? void 0 : _c.identity), (!hideTimestamp || hasBeenEdited) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-timestamp\" }, hasBeenEdited && \"edited \", time.toLocaleTimeString(locale, { timeStyle: \"short\" }))),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-message-body\" }, formattedMessage)\n  );\n}\nfunction formatChatMessageLinks(message) {\n  return (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.tokenize)(message, (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.createDefaultGrammar)()).map((tok, i) => {\n    if (typeof tok === `string`) {\n      return tok;\n    } else {\n      const content = tok.content.toString();\n      const href = tok.type === `url` ? /^http(s?):\\/\\//.test(content) ? content : `https://${content}` : `mailto:${content}`;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { className: \"lk-chat-link\", key: i, href, target: \"_blank\", rel: \"noreferrer\" }, content);\n    }\n  });\n}\n\n// src/prefabs/Chat.tsx\n\nfunction Chat(_a) {\n  var _b = _a, {\n    messageFormatter,\n    messageDecoder,\n    messageEncoder,\n    channelTopic\n  } = _b, props = __objRest(_b, [\n    \"messageFormatter\",\n    \"messageDecoder\",\n    \"messageEncoder\",\n    \"channelTopic\"\n  ]);\n  const inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const ulRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const chatOptions = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    return { messageDecoder, messageEncoder, channelTopic };\n  }, [messageDecoder, messageEncoder, channelTopic]);\n  const { send, chatMessages, isSending } = useChat(chatOptions);\n  const layoutContext = useMaybeLayoutContext();\n  const lastReadMsgAt = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  function handleSubmit(event) {\n    return __async(this, null, function* () {\n      event.preventDefault();\n      if (inputRef.current && inputRef.current.value.trim() !== \"\") {\n        if (send) {\n          yield send(inputRef.current.value);\n          inputRef.current.value = \"\";\n          inputRef.current.focus();\n        }\n      }\n    });\n  }\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a2;\n    if (ulRef) {\n      (_a2 = ulRef.current) == null ? void 0 : _a2.scrollTo({ top: ulRef.current.scrollHeight });\n    }\n  }, [ulRef, chatMessages]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a2, _b2, _c, _d, _e;\n    if (!layoutContext || chatMessages.length === 0) {\n      return;\n    }\n    if (((_a2 = layoutContext.widget.state) == null ? void 0 : _a2.showChat) && chatMessages.length > 0 && lastReadMsgAt.current !== ((_b2 = chatMessages[chatMessages.length - 1]) == null ? void 0 : _b2.timestamp)) {\n      lastReadMsgAt.current = (_c = chatMessages[chatMessages.length - 1]) == null ? void 0 : _c.timestamp;\n      return;\n    }\n    const unreadMessageCount = chatMessages.filter(\n      (msg) => !lastReadMsgAt.current || msg.timestamp > lastReadMsgAt.current\n    ).length;\n    const { widget } = layoutContext;\n    if (unreadMessageCount > 0 && ((_d = widget.state) == null ? void 0 : _d.unreadMessages) !== unreadMessageCount) {\n      (_e = widget.dispatch) == null ? void 0 : _e.call(widget, { msg: \"unread_msg\", count: unreadMessageCount });\n    }\n  }, [chatMessages, layoutContext == null ? void 0 : layoutContext.widget]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadProps(__spreadValues({}, props), { className: \"lk-chat\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-chat-header\" }, \"Messages\", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatToggle, { className: \"lk-close-button\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatCloseIcon_default, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { className: \"lk-list lk-chat-messages\", ref: ulRef }, props.children ? chatMessages.map(\n    (msg, idx) => {\n      var _a2;\n      return cloneSingleChild(props.children, {\n        entry: msg,\n        key: (_a2 = msg.id) != null ? _a2 : idx,\n        messageFormatter\n      });\n    }\n  ) : chatMessages.map((msg, idx, allMsg) => {\n    var _a2;\n    const hideName = idx >= 1 && allMsg[idx - 1].from === msg.from;\n    const hideTimestamp = idx >= 1 && msg.timestamp - allMsg[idx - 1].timestamp < 6e4;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      ChatEntry,\n      {\n        key: (_a2 = msg.id) != null ? _a2 : idx,\n        hideName,\n        hideTimestamp: hideName === false ? false : hideTimestamp,\n        entry: msg,\n        messageFormatter\n      }\n    );\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", { className: \"lk-chat-form\", onSubmit: handleSubmit }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      className: \"lk-form-control lk-chat-form-input\",\n      disabled: isSending,\n      ref: inputRef,\n      type: \"text\",\n      placeholder: \"Enter a message...\"\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { type: \"submit\", className: \"lk-button lk-chat-form-button\", disabled: isSending }, \"Send\")));\n}\n\n// src/prefabs/PreJoin.tsx\n\n\n\n// src/prefabs/MediaDeviceMenu.tsx\n\n\n\nfunction MediaDeviceMenu(_a) {\n  var _b = _a, {\n    kind,\n    initialSelection,\n    onActiveDeviceChange,\n    tracks,\n    requestPermissions = false\n  } = _b, props = __objRest(_b, [\n    \"kind\",\n    \"initialSelection\",\n    \"onActiveDeviceChange\",\n    \"tracks\",\n    \"requestPermissions\"\n  ]);\n  const [isOpen, setIsOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const [devices, setDevices] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [updateRequired, setUpdateRequired] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n  const handleActiveDeviceChange = (kind2, deviceId) => {\n    _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"handle device change\");\n    setIsOpen(false);\n    onActiveDeviceChange == null ? void 0 : onActiveDeviceChange(kind2, deviceId);\n  };\n  const button = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const tooltip = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    if (button.current && tooltip.current && (devices || updateRequired)) {\n      (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.computeMenuPosition)(button.current, tooltip.current).then(({ x, y }) => {\n        if (tooltip.current) {\n          Object.assign(tooltip.current.style, { left: `${x}px`, top: `${y}px` });\n        }\n      });\n    }\n    setUpdateRequired(false);\n  }, [button, tooltip, devices, updateRequired]);\n  const handleClickOutside = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (event) => {\n      if (!tooltip.current) {\n        return;\n      }\n      if (event.target === button.current) {\n        return;\n      }\n      if (isOpen && (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.wasClickOutside)(tooltip.current, event)) {\n        setIsOpen(false);\n      }\n    },\n    [isOpen, tooltip, button]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n    window.addEventListener(\"resize\", () => setUpdateRequired(true));\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n      window.removeEventListener(\"resize\", () => setUpdateRequired(true));\n    };\n  }, [handleClickOutside, setUpdateRequired]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"button\",\n    __spreadProps(__spreadValues({\n      className: \"lk-button lk-button-menu\",\n      \"aria-pressed\": isOpen\n    }, props), {\n      onClick: () => setIsOpen(!isOpen),\n      ref: button\n    }),\n    props.children\n  ), !props.disabled && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"div\",\n    {\n      className: \"lk-device-menu\",\n      ref: tooltip,\n      style: { visibility: isOpen ? \"visible\" : \"hidden\" }\n    },\n    kind ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      MediaDeviceSelect,\n      {\n        initialSelection,\n        onActiveDeviceChange: (deviceId) => handleActiveDeviceChange(kind, deviceId),\n        onDeviceListChange: setDevices,\n        kind,\n        track: tracks == null ? void 0 : tracks[kind],\n        requestPermissions\n      }\n    ) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-device-menu-heading\" }, \"Audio inputs\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      MediaDeviceSelect,\n      {\n        kind: \"audioinput\",\n        onActiveDeviceChange: (deviceId) => handleActiveDeviceChange(\"audioinput\", deviceId),\n        onDeviceListChange: setDevices,\n        track: tracks == null ? void 0 : tracks.audioinput,\n        requestPermissions\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-device-menu-heading\" }, \"Video inputs\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      MediaDeviceSelect,\n      {\n        kind: \"videoinput\",\n        onActiveDeviceChange: (deviceId) => handleActiveDeviceChange(\"videoinput\", deviceId),\n        onDeviceListChange: setDevices,\n        track: tracks == null ? void 0 : tracks.videoinput,\n        requestPermissions\n      }\n    ))\n  ));\n}\n\n// src/prefabs/PreJoin.tsx\n\n\n// src/hooks/useWarnAboutMissingStyles.ts\n\nfunction useWarnAboutMissingStyles() {\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    warnAboutMissingStyles();\n  }, []);\n}\n\n// src/prefabs/PreJoin.tsx\nvar DEFAULT_USER_CHOICES = {\n  username: \"\",\n  videoEnabled: true,\n  audioEnabled: true,\n  videoDeviceId: \"default\",\n  audioDeviceId: \"default\",\n  e2ee: false,\n  sharedPassphrase: \"\"\n};\nfunction usePreviewTracks(options, onError) {\n  const [tracks, setTracks] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    let trackPromise = void 0;\n    let needsCleanup = false;\n    if (options.audio || options.video) {\n      trackPromise = (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.createLocalTracks)(options);\n      trackPromise.then((tracks2) => {\n        if (needsCleanup) {\n          tracks2.forEach((tr) => tr.stop());\n        } else {\n          setTracks(tracks2);\n        }\n      }).catch(onError);\n    }\n    return () => {\n      needsCleanup = true;\n      trackPromise == null ? void 0 : trackPromise.then(\n        (tracks2) => tracks2.forEach((track) => {\n          track.stop();\n        })\n      );\n    };\n  }, [JSON.stringify(options)]);\n  return tracks;\n}\nfunction usePreviewDevice(enabled, deviceId, kind) {\n  const [deviceError, setDeviceError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);\n  const [isCreatingTrack, setIsCreatingTrack] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const devices = useMediaDevices({ kind });\n  const [selectedDevice, setSelectedDevice] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    void 0\n  );\n  const [localTrack, setLocalTrack] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  const [localDeviceId, setLocalDeviceId] = react__WEBPACK_IMPORTED_MODULE_0__.useState(deviceId);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setLocalDeviceId(deviceId);\n  }, [deviceId]);\n  const createTrack = (deviceId2, kind2) => __async(this, null, function* () {\n    try {\n      const track = kind2 === \"videoinput\" ? yield (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.createLocalVideoTrack)({\n        deviceId: deviceId2,\n        resolution: livekit_client__WEBPACK_IMPORTED_MODULE_4__.VideoPresets.h720.resolution\n      }) : yield (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.createLocalAudioTrack)({ deviceId: deviceId2 });\n      const newDeviceId = yield track.getDeviceId();\n      if (newDeviceId && deviceId2 !== newDeviceId) {\n        prevDeviceId.current = newDeviceId;\n        setLocalDeviceId(newDeviceId);\n      }\n      setLocalTrack(track);\n    } catch (e) {\n      if (e instanceof Error) {\n        setDeviceError(e);\n      }\n    }\n  });\n  const switchDevice = (track, id) => __async(this, null, function* () {\n    yield track.setDeviceId(id);\n    prevDeviceId.current = id;\n  });\n  const prevDeviceId = react__WEBPACK_IMPORTED_MODULE_0__.useRef(localDeviceId);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (enabled && !localTrack && !deviceError && !isCreatingTrack) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"creating track\", kind);\n      setIsCreatingTrack(true);\n      createTrack(localDeviceId, kind).finally(() => {\n        setIsCreatingTrack(false);\n      });\n    }\n  }, [enabled, localTrack, deviceError, isCreatingTrack]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!localTrack) {\n      return;\n    }\n    if (!enabled) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(`muting ${kind} track`);\n      localTrack.mute().then(() => _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(localTrack.mediaStreamTrack));\n    } else if ((selectedDevice == null ? void 0 : selectedDevice.deviceId) && prevDeviceId.current !== (selectedDevice == null ? void 0 : selectedDevice.deviceId)) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(`switching ${kind} device from`, prevDeviceId.current, selectedDevice.deviceId);\n      switchDevice(localTrack, selectedDevice.deviceId);\n    } else {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(`unmuting local ${kind} track`);\n      localTrack.unmute();\n    }\n  }, [localTrack, selectedDevice, enabled, kind]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    return () => {\n      if (localTrack) {\n        _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(`stopping local ${kind} track`);\n        localTrack.stop();\n        localTrack.mute();\n      }\n    };\n  }, []);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setSelectedDevice(devices.find((dev) => dev.deviceId === localDeviceId));\n  }, [localDeviceId, devices]);\n  return {\n    selectedDevice,\n    localTrack,\n    deviceError\n  };\n}\nfunction PreJoin(_a) {\n  var _b = _a, {\n    defaults = {},\n    onValidate,\n    onSubmit,\n    onError,\n    debug,\n    joinLabel = \"Join Room\",\n    micLabel = \"Microphone\",\n    camLabel = \"Camera\",\n    userLabel = \"Username\",\n    showE2EEOptions = false,\n    persistUserChoices = true\n  } = _b, htmlProps = __objRest(_b, [\n    \"defaults\",\n    \"onValidate\",\n    \"onSubmit\",\n    \"onError\",\n    \"debug\",\n    \"joinLabel\",\n    \"micLabel\",\n    \"camLabel\",\n    \"userLabel\",\n    \"showE2EEOptions\",\n    \"persistUserChoices\"\n  ]);\n  var _a2, _b2;\n  const [userChoices, setUserChoices] = react__WEBPACK_IMPORTED_MODULE_0__.useState(DEFAULT_USER_CHOICES);\n  const partialDefaults = __spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, defaults.audioDeviceId !== void 0 && { audioDeviceId: defaults.audioDeviceId }), defaults.videoDeviceId !== void 0 && { videoDeviceId: defaults.videoDeviceId }), defaults.audioEnabled !== void 0 && { audioEnabled: defaults.audioEnabled }), defaults.videoEnabled !== void 0 && { videoEnabled: defaults.videoEnabled }), defaults.username !== void 0 && { username: defaults.username });\n  const {\n    userChoices: initialUserChoices,\n    saveAudioInputDeviceId,\n    saveAudioInputEnabled,\n    saveVideoInputDeviceId,\n    saveVideoInputEnabled,\n    saveUsername\n  } = usePersistentUserChoices({\n    defaults: partialDefaults,\n    preventSave: !persistUserChoices,\n    preventLoad: !persistUserChoices\n  });\n  const [audioEnabled, setAudioEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(initialUserChoices.audioEnabled);\n  const [videoEnabled, setVideoEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(initialUserChoices.videoEnabled);\n  const [audioDeviceId, setAudioDeviceId] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    initialUserChoices.audioDeviceId\n  );\n  const [videoDeviceId, setVideoDeviceId] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    initialUserChoices.videoDeviceId\n  );\n  const [username, setUsername] = react__WEBPACK_IMPORTED_MODULE_0__.useState(initialUserChoices.username);\n  const [e2ee, setE2ee] = react__WEBPACK_IMPORTED_MODULE_0__.useState((_a2 = defaults.e2ee) != null ? _a2 : DEFAULT_USER_CHOICES.e2ee);\n  const [sharedPassphrase, setSharedPassphrase] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (_b2 = defaults.sharedPassphrase) != null ? _b2 : DEFAULT_USER_CHOICES.sharedPassphrase\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    saveAudioInputEnabled(audioEnabled);\n  }, [audioEnabled, saveAudioInputEnabled]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    saveVideoInputEnabled(videoEnabled);\n  }, [videoEnabled, saveVideoInputEnabled]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    saveAudioInputDeviceId(audioDeviceId);\n  }, [audioDeviceId, saveAudioInputDeviceId]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    saveVideoInputDeviceId(videoDeviceId);\n  }, [videoDeviceId, saveVideoInputDeviceId]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    saveUsername(username);\n  }, [username, saveUsername]);\n  const tracks = usePreviewTracks(\n    {\n      audio: audioEnabled ? { deviceId: initialUserChoices.audioDeviceId } : false,\n      video: videoEnabled ? { deviceId: initialUserChoices.videoDeviceId } : false\n    },\n    onError\n  );\n  const videoEl = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const videoTrack = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => tracks == null ? void 0 : tracks.filter((track) => track.kind === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Kind.Video)[0],\n    [tracks]\n  );\n  const facingMode = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if (videoTrack) {\n      const { facingMode: facingMode2 } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_4__.facingModeFromLocalTrack)(videoTrack);\n      return facingMode2;\n    } else {\n      return \"undefined\";\n    }\n  }, [videoTrack]);\n  const audioTrack = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => tracks == null ? void 0 : tracks.filter((track) => track.kind === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Kind.Audio)[0],\n    [tracks]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (videoEl.current && videoTrack) {\n      videoTrack.unmute();\n      videoTrack.attach(videoEl.current);\n    }\n    return () => {\n      videoTrack == null ? void 0 : videoTrack.detach();\n    };\n  }, [videoTrack]);\n  const [isValid, setIsValid] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  const handleValidation = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (values) => {\n      if (typeof onValidate === \"function\") {\n        return onValidate(values);\n      } else {\n        return values.username !== \"\";\n      }\n    },\n    [onValidate]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const newUserChoices = {\n      username,\n      videoEnabled,\n      videoDeviceId,\n      audioEnabled,\n      audioDeviceId,\n      e2ee,\n      sharedPassphrase\n    };\n    setUserChoices(newUserChoices);\n    setIsValid(handleValidation(newUserChoices));\n  }, [\n    username,\n    videoEnabled,\n    handleValidation,\n    audioEnabled,\n    audioDeviceId,\n    videoDeviceId,\n    sharedPassphrase,\n    e2ee\n  ]);\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (handleValidation(userChoices)) {\n      if (typeof onSubmit === \"function\") {\n        onSubmit(userChoices);\n      }\n    } else {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.warn(\"Validation failed with: \", userChoices);\n    }\n  }\n  useWarnAboutMissingStyles();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ className: \"lk-prejoin\" }, htmlProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-video-container\" }, videoTrack && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: videoEl, width: \"1280\", height: \"720\", \"data-lk-facing-mode\": facingMode }), (!videoTrack || !videoEnabled) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-camera-off-note\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantPlaceholder_default, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-container\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group audio\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TrackToggle,\n    {\n      initialState: audioEnabled,\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone,\n      onChange: (enabled) => setAudioEnabled(enabled)\n    },\n    micLabel\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    MediaDeviceMenu,\n    {\n      initialSelection: audioDeviceId,\n      kind: \"audioinput\",\n      disabled: !audioTrack,\n      tracks: { audioinput: audioTrack },\n      onActiveDeviceChange: (_, id) => setAudioDeviceId(id)\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group video\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TrackToggle,\n    {\n      initialState: videoEnabled,\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera,\n      onChange: (enabled) => setVideoEnabled(enabled)\n    },\n    camLabel\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    MediaDeviceMenu,\n    {\n      initialSelection: videoDeviceId,\n      kind: \"videoinput\",\n      disabled: !videoTrack,\n      tracks: { videoinput: videoTrack },\n      onActiveDeviceChange: (_, id) => setVideoDeviceId(id)\n    }\n  )))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", { className: \"lk-username-container\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      className: \"lk-form-control\",\n      id: \"username\",\n      name: \"username\",\n      type: \"text\",\n      defaultValue: username,\n      placeholder: userLabel,\n      onChange: (inputEl) => setUsername(inputEl.target.value),\n      autoComplete: \"off\"\n    }\n  ), showE2EEOptions && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"1rem\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"flex\", flexDirection: \"row\", gap: \"1rem\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      id: \"use-e2ee\",\n      type: \"checkbox\",\n      checked: e2ee,\n      onChange: (ev) => setE2ee(ev.target.checked)\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"label\", { htmlFor: \"use-e2ee\" }, \"Enable end-to-end encryption\")), e2ee && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"flex\", flexDirection: \"row\", gap: \"1rem\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"label\", { htmlFor: \"passphrase\" }, \"Passphrase\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      id: \"passphrase\",\n      type: \"password\",\n      value: sharedPassphrase,\n      onChange: (ev) => setSharedPassphrase(ev.target.value)\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"button\",\n    {\n      className: \"lk-button lk-join-button\",\n      type: \"submit\",\n      onClick: handleSubmit,\n      disabled: !isValid\n    },\n    joinLabel\n  )), debug && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"User Choices:\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { className: \"lk-list\", style: { overflow: \"hidden\", maxWidth: \"15rem\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Username: \", `${userChoices.username}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Video Enabled: \", `${userChoices.videoEnabled}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Audio Enabled: \", `${userChoices.audioEnabled}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Video Device: \", `${userChoices.videoDeviceId}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Audio Device: \", `${userChoices.audioDeviceId}`))));\n}\n\n// src/prefabs/VideoConference.tsx\n\n\n\n\n// src/prefabs/ControlBar.tsx\n\n\n\n\n// src/components/controls/StartMediaButton.tsx\n\nfunction StartMediaButton(_a) {\n  var _b = _a, { label } = _b, props = __objRest(_b, [\"label\"]);\n  const room = useRoomContext();\n  const { mergedProps: audioProps, canPlayAudio } = useStartAudio({ room, props });\n  const { mergedProps, canPlayVideo } = useStartVideo({ room, props: audioProps });\n  const _a2 = mergedProps, { style } = _a2, restProps = __objRest(_a2, [\"style\"]);\n  style.display = canPlayAudio && canPlayVideo ? \"none\" : \"block\";\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", __spreadValues({ style }, restProps), label != null ? label : `Start ${!canPlayAudio ? \"Audio\" : \"Video\"}`);\n}\n\n// src/prefabs/ControlBar.tsx\nfunction ControlBar(_a) {\n  var _b = _a, {\n    variation,\n    controls,\n    saveUserChoices: saveUserChoices2 = true\n  } = _b, props = __objRest(_b, [\n    \"variation\",\n    \"controls\",\n    \"saveUserChoices\"\n  ]);\n  var _a2, _b2, _c, _d, _e;\n  const [isChatOpen, setIsChatOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const layoutContext = useMaybeLayoutContext();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a3, _b3;\n    if (((_a3 = layoutContext == null ? void 0 : layoutContext.widget.state) == null ? void 0 : _a3.showChat) !== void 0) {\n      setIsChatOpen((_b3 = layoutContext == null ? void 0 : layoutContext.widget.state) == null ? void 0 : _b3.showChat);\n    }\n  }, [(_a2 = layoutContext == null ? void 0 : layoutContext.widget.state) == null ? void 0 : _a2.showChat]);\n  const isTooLittleSpace = useMediaQuery(`(max-width: ${isChatOpen ? 1e3 : 760}px)`);\n  const defaultVariation = isTooLittleSpace ? \"minimal\" : \"verbose\";\n  variation != null ? variation : variation = defaultVariation;\n  const visibleControls = __spreadValues({ leave: true }, controls);\n  const localPermissions = useLocalParticipantPermissions();\n  if (!localPermissions) {\n    visibleControls.camera = false;\n    visibleControls.chat = false;\n    visibleControls.microphone = false;\n    visibleControls.screenShare = false;\n  } else {\n    (_b2 = visibleControls.camera) != null ? _b2 : visibleControls.camera = localPermissions.canPublish;\n    (_c = visibleControls.microphone) != null ? _c : visibleControls.microphone = localPermissions.canPublish;\n    (_d = visibleControls.screenShare) != null ? _d : visibleControls.screenShare = localPermissions.canPublish;\n    (_e = visibleControls.chat) != null ? _e : visibleControls.chat = localPermissions.canPublishData && (controls == null ? void 0 : controls.chat);\n  }\n  const showIcon = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => variation === \"minimal\" || variation === \"verbose\",\n    [variation]\n  );\n  const showText = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => variation === \"textOnly\" || variation === \"verbose\",\n    [variation]\n  );\n  const browserSupportsScreenSharing = (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.supportsScreenSharing)();\n  const [isScreenShareEnabled, setIsScreenShareEnabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const onScreenShareChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (enabled) => {\n      setIsScreenShareEnabled(enabled);\n    },\n    [setIsScreenShareEnabled]\n  );\n  const htmlProps = mergeProps2({ className: \"lk-control-bar\" }, props);\n  const {\n    saveAudioInputEnabled,\n    saveVideoInputEnabled,\n    saveAudioInputDeviceId,\n    saveVideoInputDeviceId\n  } = usePersistentUserChoices({ preventSave: !saveUserChoices2 });\n  const microphoneOnChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (enabled, isUserInitiated) => isUserInitiated ? saveAudioInputEnabled(enabled) : null,\n    [saveAudioInputEnabled]\n  );\n  const cameraOnChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (enabled, isUserInitiated) => isUserInitiated ? saveVideoInputEnabled(enabled) : null,\n    [saveVideoInputEnabled]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, htmlProps), visibleControls.microphone && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TrackToggle,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone,\n      showIcon,\n      onChange: microphoneOnChange\n    },\n    showText && \"Microphone\"\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    MediaDeviceMenu,\n    {\n      kind: \"audioinput\",\n      onActiveDeviceChange: (_kind, deviceId) => saveAudioInputDeviceId(deviceId != null ? deviceId : \"\")\n    }\n  ))), visibleControls.camera && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackToggle, { source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera, showIcon, onChange: cameraOnChange }, showText && \"Camera\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    MediaDeviceMenu,\n    {\n      kind: \"videoinput\",\n      onActiveDeviceChange: (_kind, deviceId) => saveVideoInputDeviceId(deviceId != null ? deviceId : \"\")\n    }\n  ))), visibleControls.screenShare && browserSupportsScreenSharing && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TrackToggle,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare,\n      captureOptions: { audio: true, selfBrowserSurface: \"include\" },\n      showIcon,\n      onChange: onScreenShareChange\n    },\n    showText && (isScreenShareEnabled ? \"Stop screen share\" : \"Share screen\")\n  ), visibleControls.chat && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatToggle, null, showIcon && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatIcon_default, null), showText && \"Chat\"), visibleControls.leave && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DisconnectButton, null, showIcon && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LeaveIcon_default, null), showText && \"Leave\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(StartMediaButton, null));\n}\n\n// src/prefabs/VideoConference.tsx\nfunction VideoConference(_a) {\n  var _b = _a, {\n    chatMessageFormatter,\n    chatMessageDecoder,\n    chatMessageEncoder\n  } = _b, props = __objRest(_b, [\n    \"chatMessageFormatter\",\n    \"chatMessageDecoder\",\n    \"chatMessageEncoder\"\n  ]);\n  var _a2, _b2;\n  const [widgetState, setWidgetState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    showChat: false,\n    unreadMessages: 0\n  });\n  const lastAutoFocusedScreenShareTrack = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const tracks = useTracks(\n    [\n      { source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Camera, withPlaceholder: true },\n      { source: livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare, withPlaceholder: false }\n    ],\n    { updateOnlyOn: [livekit_client__WEBPACK_IMPORTED_MODULE_4__.RoomEvent.ActiveSpeakersChanged], onlySubscribed: false }\n  );\n  const widgetUpdate = (state) => {\n    _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"updating widget state\", state);\n    setWidgetState(state);\n  };\n  const layoutContext = useCreateLayoutContext();\n  const screenShareTracks = tracks.filter(_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isTrackReference).filter((track) => track.publication.source === livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.ScreenShare);\n  const focusTrack = (_a2 = usePinnedTracks(layoutContext)) == null ? void 0 : _a2[0];\n  const carouselTracks = tracks.filter((track) => !(0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isEqualTrackRef)(track, focusTrack));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var _a3, _b3, _c, _d;\n    if (screenShareTracks.some((track) => track.publication.isSubscribed) && lastAutoFocusedScreenShareTrack.current === null) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"Auto set screen share focus:\", { newScreenShareTrack: screenShareTracks[0] });\n      (_b3 = (_a3 = layoutContext.pin).dispatch) == null ? void 0 : _b3.call(_a3, { msg: \"set_pin\", trackReference: screenShareTracks[0] });\n      lastAutoFocusedScreenShareTrack.current = screenShareTracks[0];\n    } else if (lastAutoFocusedScreenShareTrack.current && !screenShareTracks.some(\n      (track) => {\n        var _a4, _b4;\n        return track.publication.trackSid === ((_b4 = (_a4 = lastAutoFocusedScreenShareTrack.current) == null ? void 0 : _a4.publication) == null ? void 0 : _b4.trackSid);\n      }\n    )) {\n      _livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"Auto clearing screen share focus.\");\n      (_d = (_c = layoutContext.pin).dispatch) == null ? void 0 : _d.call(_c, { msg: \"clear_pin\" });\n      lastAutoFocusedScreenShareTrack.current = null;\n    }\n  }, [\n    screenShareTracks.map((ref) => `${ref.publication.trackSid}_${ref.publication.isSubscribed}`).join(),\n    (_b2 = focusTrack == null ? void 0 : focusTrack.publication) == null ? void 0 : _b2.trackSid\n  ]);\n  useWarnAboutMissingStyles();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ className: \"lk-video-conference\" }, props), (0,_livekit_components_core__WEBPACK_IMPORTED_MODULE_2__.isWeb)() && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    LayoutContextProvider,\n    {\n      value: layoutContext,\n      onWidgetChange: widgetUpdate\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-video-conference-inner\" }, !focusTrack ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-grid-layout-wrapper\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GridLayout, { tracks }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantTile, null))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-focus-layout-wrapper\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FocusLayoutContainer, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselLayout, { tracks: carouselTracks }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantTile, null)), focusTrack && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FocusLayout, { trackRef: focusTrack }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControlBar, { controls: { chat: true } })),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      Chat,\n      {\n        style: { display: widgetState.showChat ? \"grid\" : \"none\" },\n        messageFormatter: chatMessageFormatter,\n        messageEncoder: chatMessageEncoder,\n        messageDecoder: chatMessageDecoder\n      }\n    )\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(RoomAudioRenderer, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConnectionStateToast, null));\n}\n\n// src/prefabs/AudioConference.tsx\n\n\nfunction AudioConference(_a) {\n  var props = __objRest(_a, []);\n  const [widgetState, setWidgetState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    showChat: false,\n    unreadMessages: 0\n  });\n  const audioTracks = useTracks([livekit_client__WEBPACK_IMPORTED_MODULE_4__.Track.Source.Microphone]);\n  useWarnAboutMissingStyles();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LayoutContextProvider, { onWidgetChange: setWidgetState }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({ className: \"lk-audio-conference\" }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-audio-conference-stage\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackLoop, { tracks: audioTracks }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParticipantAudioTile, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    ControlBar,\n    {\n      controls: { microphone: true, screenShare: false, camera: false, chat: true }\n    }\n  ), widgetState.showChat && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Chat, null)));\n}\n\n// src/index.ts\n\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNpQzs7QUFFakM7QUFDZ0M7O0FBRWhDO0FBQytCO0FBQ1k7QUFDM0M7QUFDQTtBQUNBLHlCQUF5Qiw4REFBUztBQUNsQyxFQUFFLGtEQUFxQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LXJlYWN0XFxkaXN0XFxpbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19vYmpSZXN0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0uY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX2FzeW5jID0gKF9fdGhpcywgX19hcmd1bWVudHMsIGdlbmVyYXRvcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHZhciBmdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlamVjdGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RlcCA9ICh4KSA9PiB4LmRvbmUgPyByZXNvbHZlKHgudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHgudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KF9fdGhpcywgX19hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbnRyb2xzL0NsZWFyUGluQnV0dG9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0OSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUF1ZGlvUGxheWJhY2sudHNcbmltcG9ydCAqIGFzIFJlYWN0OSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL2ludGVybmFsL3VzZVJlc2l6ZU9ic2VydmVyLnRzXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB1c2VMYXRlc3QgZnJvbSBcIkByZWFjdC1ob29rL2xhdGVzdFwiO1xuZnVuY3Rpb24gdXNlUmVzaXplT2JzZXJ2ZXIodGFyZ2V0LCBjYWxsYmFjaykge1xuICBjb25zdCByZXNpemVPYnNlcnZlciA9IGdldFJlc2l6ZU9ic2VydmVyKCk7XG4gIGNvbnN0IHN0b3JlZENhbGxiYWNrID0gdXNlTGF0ZXN0KGNhbGxiYWNrKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICBjb25zdCB0YXJnZXRFbCA9IHRhcmdldC5jdXJyZW50O1xuICAgIGlmICghdGFyZ2V0RWwpXG4gICAgICByZXR1cm47XG4gICAgZnVuY3Rpb24gY2IoZW50cnksIG9ic2VydmVyKSB7XG4gICAgICBpZiAoZGlkVW5zdWJzY3JpYmUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHN0b3JlZENhbGxiYWNrLmN1cnJlbnQoZW50cnksIG9ic2VydmVyKTtcbiAgICB9XG4gICAgcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLnN1YnNjcmliZSh0YXJnZXRFbCwgY2IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaWRVbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICByZXNpemVPYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogcmVzaXplT2JzZXJ2ZXIudW5zdWJzY3JpYmUodGFyZ2V0RWwsIGNiKTtcbiAgICB9O1xuICB9LCBbdGFyZ2V0LmN1cnJlbnQsIHJlc2l6ZU9ic2VydmVyLCBzdG9yZWRDYWxsYmFja10pO1xuICByZXR1cm4gcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLm9ic2VydmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzaXplT2JzZXJ2ZXIoKSB7XG4gIGxldCB0aWNraW5nID0gZmFsc2U7XG4gIGxldCBhbGxFbnRyaWVzID0gW107XG4gIGNvbnN0IGNhbGxiYWNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzLCBvYnMpID0+IHtcbiAgICBhbGxFbnRyaWVzID0gYWxsRW50cmllcy5jb25jYXQoZW50cmllcyk7XG4gICAgaWYgKCF0aWNraW5nKSB7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlcmVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxFbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRyaWdnZXJlZC5oYXMoYWxsRW50cmllc1tpXS50YXJnZXQpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgdHJpZ2dlcmVkLmFkZChhbGxFbnRyaWVzW2ldLnRhcmdldCk7XG4gICAgICAgICAgY29uc3QgY2JzID0gY2FsbGJhY2tzLmdldChhbGxFbnRyaWVzW2ldLnRhcmdldCk7XG4gICAgICAgICAgY2JzID09IG51bGwgPyB2b2lkIDAgOiBjYnMuZm9yRWFjaCgoY2IpID0+IGNiKGFsbEVudHJpZXNbaV0sIG9icykpO1xuICAgICAgICB9XG4gICAgICAgIGFsbEVudHJpZXMgPSBbXTtcbiAgICAgICAgdGlja2luZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRpY2tpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBvYnNlcnZlcixcbiAgICBzdWJzY3JpYmUodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgICAgdmFyIF9hO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQpO1xuICAgICAgY29uc3QgY2JzID0gKF9hID0gY2FsbGJhY2tzLmdldCh0YXJnZXQpKSAhPSBudWxsID8gX2EgOiBbXTtcbiAgICAgIGNicy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIGNhbGxiYWNrcy5zZXQodGFyZ2V0LCBjYnMpO1xuICAgIH0sXG4gICAgdW5zdWJzY3JpYmUodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgY2JzID0gKF9hID0gY2FsbGJhY2tzLmdldCh0YXJnZXQpKSAhPSBudWxsID8gX2EgOiBbXTtcbiAgICAgIGlmIChjYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXQpO1xuICAgICAgICBjYWxsYmFja3MuZGVsZXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNiSW5kZXggPSBjYnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICBpZiAoY2JJbmRleCAhPT0gLTEpXG4gICAgICAgIGNicy5zcGxpY2UoY2JJbmRleCwgMSk7XG4gICAgICBjYWxsYmFja3Muc2V0KHRhcmdldCwgY2JzKTtcbiAgICB9XG4gIH07XG59XG52YXIgX3Jlc2l6ZU9ic2VydmVyO1xudmFyIGdldFJlc2l6ZU9ic2VydmVyID0gKCkgPT4gIV9yZXNpemVPYnNlcnZlciA/IF9yZXNpemVPYnNlcnZlciA9IGNyZWF0ZVJlc2l6ZU9ic2VydmVyKCkgOiBfcmVzaXplT2JzZXJ2ZXI7XG52YXIgdXNlU2l6ZSA9ICh0YXJnZXQpID0+IHtcbiAgY29uc3QgW3NpemUsIHNldFNpemVdID0gUmVhY3QudXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0YXJnZXQuY3VycmVudCkge1xuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0YXJnZXQuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHNldFNpemUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH1cbiAgfSwgW3RhcmdldC5jdXJyZW50XSk7XG4gIGNvbnN0IHJlc2l6ZUNhbGxiYWNrID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGVudHJ5KSA9PiBzZXRTaXplKGVudHJ5LmNvbnRlbnRSZWN0KSxcbiAgICBbXVxuICApO1xuICB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXQsIHJlc2l6ZUNhbGxiYWNrKTtcbiAgcmV0dXJuIHNpemU7XG59O1xuXG4vLyBzcmMvaG9va3MvaW50ZXJuYWwvdXNlT2JzZXJ2YWJsZVN0YXRlLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VPYnNlcnZhYmxlU3RhdGUob2JzZXJ2YWJsZSwgc3RhcnRXaXRoKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QyLnVzZVN0YXRlKHN0YXJ0V2l0aCk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICFvYnNlcnZhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG9ic2VydmFibGUuc3Vic2NyaWJlKHNldFN0YXRlKTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtvYnNlcnZhYmxlXSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLy8gc3JjL2hvb2tzL2ludGVybmFsL3VzZU1lZGlhUXVlcnkudHNcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZU1lZGlhUXVlcnkocXVlcnkpIHtcbiAgY29uc3QgZ2V0TWF0Y2hlcyA9IChxdWVyeTIpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5MikubWF0Y2hlcztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBbbWF0Y2hlcywgc2V0TWF0Y2hlc10gPSBSZWFjdDMudXNlU3RhdGUoZ2V0TWF0Y2hlcyhxdWVyeSkpO1xuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgc2V0TWF0Y2hlcyhnZXRNYXRjaGVzKHF1ZXJ5KSk7XG4gIH1cbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hNZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICBoYW5kbGVDaGFuZ2UoKTtcbiAgICBpZiAobWF0Y2hNZWRpYS5hZGRMaXN0ZW5lcikge1xuICAgICAgbWF0Y2hNZWRpYS5hZGRMaXN0ZW5lcihoYW5kbGVDaGFuZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaE1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlQ2hhbmdlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChtYXRjaE1lZGlhLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgIG1hdGNoTWVkaWEucmVtb3ZlTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoTWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtxdWVyeV0pO1xuICByZXR1cm4gbWF0Y2hlcztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUF1ZGlvUGxheWJhY2sudHNcbmltcG9ydCB7IHJvb21BdWRpb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGUgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5cbi8vIHNyYy9jb250ZXh0L2xheW91dC1jb250ZXh0LnRzXG5pbXBvcnQgeyBQSU5fREVGQVVMVF9TVEFURSwgV0lER0VUX0RFRkFVTFRfU1RBVEUgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb250ZXh0L2NoYXQtY29udGV4dC50c1xuZnVuY3Rpb24gY2hhdFJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uLm1zZyA9PT0gXCJzaG93X2NoYXRcIikge1xuICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHsgc2hvd0NoYXQ6IHRydWUsIHVucmVhZE1lc3NhZ2VzOiAwIH0pO1xuICB9IGVsc2UgaWYgKGFjdGlvbi5tc2cgPT09IFwiaGlkZV9jaGF0XCIpIHtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCB7IHNob3dDaGF0OiBmYWxzZSB9KTtcbiAgfSBlbHNlIGlmIChhY3Rpb24ubXNnID09PSBcInRvZ2dsZV9jaGF0XCIpIHtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlKSwgeyBzaG93Q2hhdDogIXN0YXRlLnNob3dDaGF0IH0pO1xuICAgIGlmIChuZXdTdGF0ZS5zaG93Q2hhdCA9PT0gdHJ1ZSkge1xuICAgICAgbmV3U3RhdGUudW5yZWFkTWVzc2FnZXMgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG4gIH0gZWxzZSBpZiAoYWN0aW9uLm1zZyA9PT0gXCJ1bnJlYWRfbXNnXCIpIHtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCB7IHVucmVhZE1lc3NhZ2VzOiBhY3Rpb24uY291bnQgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSk7XG4gIH1cbn1cblxuLy8gc3JjL2NvbnRleHQvcGluLWNvbnRleHQudHNcbmZ1bmN0aW9uIHBpblJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uLm1zZyA9PT0gXCJzZXRfcGluXCIpIHtcbiAgICByZXR1cm4gW2FjdGlvbi50cmFja1JlZmVyZW5jZV07XG4gIH0gZWxzZSBpZiAoYWN0aW9uLm1zZyA9PT0gXCJjbGVhcl9waW5cIikge1xuICAgIHJldHVybiBbXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlKTtcbiAgfVxufVxuXG4vLyBzcmMvY29udGV4dC9sYXlvdXQtY29udGV4dC50c1xudmFyIExheW91dENvbnRleHQgPSBSZWFjdDQuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gdXNlTGF5b3V0Q29udGV4dCgpIHtcbiAgY29uc3QgbGF5b3V0Q29udGV4dCA9IFJlYWN0NC51c2VDb250ZXh0KExheW91dENvbnRleHQpO1xuICBpZiAoIWxheW91dENvbnRleHQpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGFjY2VzcyBMYXlvdXRDb250ZXh0IGNvbnRleHQgb3V0c2lkZSBhIExheW91dENvbnRleHRQcm92aWRlciBwcm92aWRlci5cIik7XG4gIH1cbiAgcmV0dXJuIGxheW91dENvbnRleHQ7XG59XG5mdW5jdGlvbiB1c2VFbnN1cmVMYXlvdXRDb250ZXh0KGxheW91dENvbnRleHQpIHtcbiAgY29uc3QgbGF5b3V0ID0gdXNlTWF5YmVMYXlvdXRDb250ZXh0KCk7XG4gIGxheW91dENvbnRleHQgIT0gbnVsbCA/IGxheW91dENvbnRleHQgOiBsYXlvdXRDb250ZXh0ID0gbGF5b3V0O1xuICBpZiAoIWxheW91dENvbnRleHQpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGFjY2VzcyBMYXlvdXRDb250ZXh0IGNvbnRleHQgb3V0c2lkZSBhIExheW91dENvbnRleHRQcm92aWRlciBwcm92aWRlci5cIik7XG4gIH1cbiAgcmV0dXJuIGxheW91dENvbnRleHQ7XG59XG5mdW5jdGlvbiB1c2VDcmVhdGVMYXlvdXRDb250ZXh0KCkge1xuICBjb25zdCBbcGluU3RhdGUsIHBpbkRpc3BhdGNoXSA9IFJlYWN0NC51c2VSZWR1Y2VyKHBpblJlZHVjZXIsIFBJTl9ERUZBVUxUX1NUQVRFKTtcbiAgY29uc3QgW3dpZGdldFN0YXRlLCB3aWRnZXREaXNwYXRjaF0gPSBSZWFjdDQudXNlUmVkdWNlcihjaGF0UmVkdWNlciwgV0lER0VUX0RFRkFVTFRfU1RBVEUpO1xuICByZXR1cm4ge1xuICAgIHBpbjogeyBkaXNwYXRjaDogcGluRGlzcGF0Y2gsIHN0YXRlOiBwaW5TdGF0ZSB9LFxuICAgIHdpZGdldDogeyBkaXNwYXRjaDogd2lkZ2V0RGlzcGF0Y2gsIHN0YXRlOiB3aWRnZXRTdGF0ZSB9XG4gIH07XG59XG5mdW5jdGlvbiB1c2VFbnN1cmVDcmVhdGVMYXlvdXRDb250ZXh0KGxheW91dENvbnRleHQpIHtcbiAgY29uc3QgW3BpblN0YXRlLCBwaW5EaXNwYXRjaF0gPSBSZWFjdDQudXNlUmVkdWNlcihwaW5SZWR1Y2VyLCBQSU5fREVGQVVMVF9TVEFURSk7XG4gIGNvbnN0IFt3aWRnZXRTdGF0ZSwgd2lkZ2V0RGlzcGF0Y2hdID0gUmVhY3Q0LnVzZVJlZHVjZXIoY2hhdFJlZHVjZXIsIFdJREdFVF9ERUZBVUxUX1NUQVRFKTtcbiAgcmV0dXJuIGxheW91dENvbnRleHQgIT0gbnVsbCA/IGxheW91dENvbnRleHQgOiB7XG4gICAgcGluOiB7IGRpc3BhdGNoOiBwaW5EaXNwYXRjaCwgc3RhdGU6IHBpblN0YXRlIH0sXG4gICAgd2lkZ2V0OiB7IGRpc3BhdGNoOiB3aWRnZXREaXNwYXRjaCwgc3RhdGU6IHdpZGdldFN0YXRlIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZU1heWJlTGF5b3V0Q29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0NC51c2VDb250ZXh0KExheW91dENvbnRleHQpO1xufVxuXG4vLyBzcmMvY29udGV4dC9wYXJ0aWNpcGFudC1jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdDYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb250ZXh0L3RyYWNrLXJlZmVyZW5jZS1jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG52YXIgVHJhY2tSZWZDb250ZXh0ID0gUmVhY3Q1LmNyZWF0ZUNvbnRleHQoXG4gIHZvaWQgMFxuKTtcbnZhciBUcmFja0NvbnRleHQgPSBUcmFja1JlZkNvbnRleHQ7XG5mdW5jdGlvbiB1c2VUcmFja0NvbnRleHQoKSB7XG4gIHJldHVybiB1c2VUcmFja1JlZkNvbnRleHQoKTtcbn1cbmZ1bmN0aW9uIHVzZVRyYWNrUmVmQ29udGV4dCgpIHtcbiAgY29uc3QgdHJhY2tSZWZlcmVuY2UgPSBSZWFjdDUudXNlQ29udGV4dChUcmFja1JlZkNvbnRleHQpO1xuICBpZiAoIXRyYWNrUmVmZXJlbmNlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJ0cmllZCB0byBhY2Nlc3MgdHJhY2sgY29udGV4dCBvdXRzaWRlIG9mIHRyYWNrIGNvbnRleHQgcHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIHRyYWNrUmVmZXJlbmNlO1xufVxuZnVuY3Rpb24gdXNlTWF5YmVUcmFja0NvbnRleHQoKSB7XG4gIHJldHVybiB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xufVxuZnVuY3Rpb24gdXNlTWF5YmVUcmFja1JlZkNvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDUudXNlQ29udGV4dChUcmFja1JlZkNvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlRW5zdXJlVHJhY2tSZWZlcmVuY2UodHJhY2spIHtcbiAgcmV0dXJuIHVzZUVuc3VyZVRyYWNrUmVmKHRyYWNrKTtcbn1cbmZ1bmN0aW9uIHVzZUVuc3VyZVRyYWNrUmVmKHRyYWNrUmVmKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xuICBjb25zdCByZWYgPSB0cmFja1JlZiAhPSBudWxsID8gdHJhY2tSZWYgOiBjb250ZXh0O1xuICBpZiAoIXJlZikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTm8gVHJhY2tSZWYsIG1ha2Ugc3VyZSB5b3UgYXJlIGluc2lkZSBhIFRyYWNrUmVmQ29udGV4dCBvciBwYXNzIHRoZSBUcmFja1JlZiBleHBsaWNpdGx5XCJcbiAgICApO1xuICB9XG4gIHJldHVybiByZWY7XG59XG5cbi8vIHNyYy9jb250ZXh0L3BhcnRpY2lwYW50LWNvbnRleHQudHNcbnZhciBQYXJ0aWNpcGFudENvbnRleHQgPSBSZWFjdDYuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gdXNlUGFydGljaXBhbnRDb250ZXh0KCkge1xuICBjb25zdCBwYXJ0aWNpcGFudCA9IFJlYWN0Ni51c2VDb250ZXh0KFBhcnRpY2lwYW50Q29udGV4dCk7XG4gIGlmICghcGFydGljaXBhbnQpIHtcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyBwYXJ0aWNpcGFudCBjb250ZXh0IG91dHNpZGUgb2YgcGFydGljaXBhbnQgY29udGV4dCBwcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gcGFydGljaXBhbnQ7XG59XG5mdW5jdGlvbiB1c2VNYXliZVBhcnRpY2lwYW50Q29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0Ni51c2VDb250ZXh0KFBhcnRpY2lwYW50Q29udGV4dCk7XG59XG5mdW5jdGlvbiB1c2VFbnN1cmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNYXliZVBhcnRpY2lwYW50Q29udGV4dCgpO1xuICBjb25zdCB0cmFja0NvbnRleHQgPSB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xuICBjb25zdCBwID0gKF9hID0gcGFydGljaXBhbnQgIT0gbnVsbCA/IHBhcnRpY2lwYW50IDogY29udGV4dCkgIT0gbnVsbCA/IF9hIDogdHJhY2tDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiB0cmFja0NvbnRleHQucGFydGljaXBhbnQ7XG4gIGlmICghcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTm8gcGFydGljaXBhbnQgcHJvdmlkZWQsIG1ha2Ugc3VyZSB5b3UgYXJlIGluc2lkZSBhIHBhcnRpY2lwYW50IGNvbnRleHQgb3IgcGFzcyB0aGUgcGFydGljaXBhbnQgZXhwbGljaXRseVwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcDtcbn1cblxuLy8gc3JjL2NvbnRleHQvcm9vbS1jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdDcgZnJvbSBcInJlYWN0XCI7XG52YXIgUm9vbUNvbnRleHQgPSBSZWFjdDcuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gdXNlUm9vbUNvbnRleHQoKSB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0Ny51c2VDb250ZXh0KFJvb21Db250ZXh0KTtcbiAgaWYgKCFjdHgpIHtcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyByb29tIGNvbnRleHQgb3V0c2lkZSBvZiBsaXZla2l0IHJvb20gY29tcG9uZW50XCIpO1xuICB9XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VNYXliZVJvb21Db250ZXh0KCkge1xuICByZXR1cm4gUmVhY3Q3LnVzZUNvbnRleHQoUm9vbUNvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlRW5zdXJlUm9vbShyb29tKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNYXliZVJvb21Db250ZXh0KCk7XG4gIGNvbnN0IHIgPSByb29tICE9IG51bGwgPyByb29tIDogY29udGV4dDtcbiAgaWYgKCFyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyByb29tIHByb3ZpZGVkLCBtYWtlIHN1cmUgeW91IGFyZSBpbnNpZGUgYSBSb29tIGNvbnRleHQgb3IgcGFzcyB0aGUgcm9vbSBleHBsaWNpdGx5XCJcbiAgICApO1xuICB9XG4gIHJldHVybiByO1xufVxuXG4vLyBzcmMvY29udGV4dC9mZWF0dXJlLWNvbnRleHQudHNcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcbnZhciBMS0ZlYXR1cmVDb250ZXh0ID0gUmVhY3Q4LmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIHVzZUZlYXR1cmVDb250ZXh0KHJlcXVpcmUyKSB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0OC51c2VDb250ZXh0KExLRmVhdHVyZUNvbnRleHQpO1xuICBpZiAocmVxdWlyZTIgPT09IHRydWUpIHtcbiAgICBpZiAoY3R4KSB7XG4gICAgICByZXR1cm4gY3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyBmZWF0dXJlIGNvbnRleHQsIGJ1dCBub25lIGlzIHByZXNlbnRcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjdHg7XG59XG5cbi8vIHNyYy9ob29rcy91c2VBdWRpb1BsYXliYWNrLnRzXG5mdW5jdGlvbiB1c2VBdWRpb1BsYXliYWNrKHJvb20pIHtcbiAgY29uc3Qgcm9vbUVuc3VyZWQgPSB1c2VFbnN1cmVSb29tKHJvb20pO1xuICBjb25zdCBzdGFydEF1ZGlvID0gUmVhY3Q5LnVzZUNhbGxiYWNrKCgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB5aWVsZCByb29tRW5zdXJlZC5zdGFydEF1ZGlvKCk7XG4gIH0pLCBbcm9vbUVuc3VyZWRdKTtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IHJvb21BdWRpb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGUocm9vbUVuc3VyZWQpLFxuICAgIFtyb29tRW5zdXJlZF1cbiAgKTtcbiAgY29uc3QgeyBjYW5QbGF5QXVkaW8gfSA9IHVzZU9ic2VydmFibGVTdGF0ZShvYnNlcnZhYmxlLCB7XG4gICAgY2FuUGxheUF1ZGlvOiByb29tRW5zdXJlZC5jYW5QbGF5YmFja0F1ZGlvXG4gIH0pO1xuICByZXR1cm4geyBjYW5QbGF5QXVkaW8sIHN0YXJ0QXVkaW8gfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNsZWFyUGluQnV0dG9uLnRzXG5pbXBvcnQgeyBzZXR1cENsZWFyUGluQnV0dG9uIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QxMCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL21lcmdlUHJvcHMudHNcbmltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XG5mdW5jdGlvbiBjaGFpbiguLi5jYWxsYmFja3MpIHtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcbiAgY29uc3QgcmVzdWx0ID0gX19zcHJlYWRWYWx1ZXMoe30sIGFyZ3NbMF0pO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcm9wcyA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGNvbnN0IGEgPSByZXN1bHRba2V5XTtcbiAgICAgIGNvbnN0IGIgPSBwcm9wc1trZXldO1xuICAgICAgaWYgKHR5cGVvZiBhID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyBUaGlzIGlzIGEgbG90IGZhc3RlciB0aGFuIGEgcmVnZXguXG4gICAgICBrZXlbMF0gPT09IFwib1wiICYmIGtleVsxXSA9PT0gXCJuXCIgJiYga2V5LmNoYXJDb2RlQXQoMikgPj0gLyogJ0EnICovXG4gICAgICA2NSAmJiBrZXkuY2hhckNvZGVBdCgyKSA8PSAvKiAnWicgKi9cbiAgICAgIDkwKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gY2hhaW4oYSwgYik7XG4gICAgICB9IGVsc2UgaWYgKChrZXkgPT09IFwiY2xhc3NOYW1lXCIgfHwga2V5ID09PSBcIlVOU0FGRV9jbGFzc05hbWVcIikgJiYgdHlwZW9mIGEgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBjbHN4KGEsIGIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBiICE9PSB2b2lkIDAgPyBiIDogYTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNsZWFyUGluQnV0dG9uLnRzXG5mdW5jdGlvbiB1c2VDbGVhclBpbkJ1dHRvbihwcm9wcykge1xuICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdXNlTGF5b3V0Q29udGV4dCgpLnBpbjtcbiAgY29uc3QgYnV0dG9uUHJvcHMgPSBSZWFjdDEwLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lIH0gPSBzZXR1cENsZWFyUGluQnV0dG9uKCk7XG4gICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHByb3BzLCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBkaXNhYmxlZDogIShzdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUubGVuZ3RoKSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKGRpc3BhdGNoKVxuICAgICAgICAgIGRpc3BhdGNoKHsgbXNnOiBcImNsZWFyX3BpblwiIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfSwgW3Byb3BzLCBkaXNwYXRjaCwgc3RhdGVdKTtcbiAgcmV0dXJuIHsgYnV0dG9uUHJvcHMgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yLnRzXG5pbXBvcnQgeyBzZXR1cENvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0IHsgQ29ubmVjdGlvblF1YWxpdHkgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb25uZWN0aW9uUXVhbGl0eUluZGljYXRvcihvcHRpb25zID0ge30pIHtcbiAgY29uc3QgcCA9IHVzZUVuc3VyZVBhcnRpY2lwYW50KG9wdGlvbnMucGFydGljaXBhbnQpO1xuICBjb25zdCB7IGNsYXNzTmFtZSwgY29ubmVjdGlvblF1YWxpdHlPYnNlcnZlciB9ID0gUmVhY3QxMS51c2VNZW1vKFxuICAgICgpID0+IHNldHVwQ29ubmVjdGlvblF1YWxpdHlJbmRpY2F0b3IocCksXG4gICAgW3BdXG4gICk7XG4gIGNvbnN0IHF1YWxpdHkgPSB1c2VPYnNlcnZhYmxlU3RhdGUoY29ubmVjdGlvblF1YWxpdHlPYnNlcnZlciwgQ29ubmVjdGlvblF1YWxpdHkuVW5rbm93bik7XG4gIHJldHVybiB7IGNsYXNzTmFtZSwgcXVhbGl0eSB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlQ29ubmVjdGlvblN0YXR1cy50c1xuaW1wb3J0IHsgY29ubmVjdGlvblN0YXRlT2JzZXJ2ZXIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDEyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ29ubmVjdGlvblN0YXRlKHJvb20pIHtcbiAgY29uc3QgciA9IHVzZUVuc3VyZVJvb20ocm9vbSk7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBSZWFjdDEyLnVzZU1lbW8oKCkgPT4gY29ubmVjdGlvblN0YXRlT2JzZXJ2ZXIociksIFtyXSk7XG4gIGNvbnN0IGNvbm5lY3Rpb25TdGF0ZSA9IHVzZU9ic2VydmFibGVTdGF0ZShvYnNlcnZhYmxlLCByLnN0YXRlKTtcbiAgcmV0dXJuIGNvbm5lY3Rpb25TdGF0ZTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZURhdGFDaGFubmVsLnRzXG5pbXBvcnQgeyBzZXR1cERhdGFNZXNzYWdlSGFuZGxlciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VEYXRhQ2hhbm5lbCh0b3BpY09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gIGNvbnN0IG9uTWVzc2FnZSA9IHR5cGVvZiB0b3BpY09yQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIiA/IHRvcGljT3JDYWxsYmFjayA6IGNhbGxiYWNrO1xuICBjb25zdCB0b3BpYyA9IHR5cGVvZiB0b3BpY09yQ2FsbGJhY2sgPT09IFwic3RyaW5nXCIgPyB0b3BpY09yQ2FsbGJhY2sgOiB2b2lkIDA7XG4gIGNvbnN0IHJvb20gPSB1c2VSb29tQ29udGV4dCgpO1xuICBjb25zdCB7IHNlbmQsIG1lc3NhZ2VPYnNlcnZhYmxlLCBpc1NlbmRpbmdPYnNlcnZhYmxlIH0gPSBSZWFjdDEzLnVzZU1lbW8oXG4gICAgKCkgPT4gc2V0dXBEYXRhTWVzc2FnZUhhbmRsZXIocm9vbSwgdG9waWMsIG9uTWVzc2FnZSksXG4gICAgW3Jvb20sIHRvcGljLCBvbk1lc3NhZ2VdXG4gICk7XG4gIGNvbnN0IG1lc3NhZ2UgPSB1c2VPYnNlcnZhYmxlU3RhdGUobWVzc2FnZU9ic2VydmFibGUsIHZvaWQgMCk7XG4gIGNvbnN0IGlzU2VuZGluZyA9IHVzZU9ic2VydmFibGVTdGF0ZShpc1NlbmRpbmdPYnNlcnZhYmxlLCBmYWxzZSk7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZSxcbiAgICBzZW5kLFxuICAgIGlzU2VuZGluZ1xuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlRGlzY29ubmVjdEJ1dHRvbi50c1xuaW1wb3J0IHsgc2V0dXBEaXNjb25uZWN0QnV0dG9uIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0IHsgQ29ubmVjdGlvblN0YXRlIH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdDE0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlRGlzY29ubmVjdEJ1dHRvbihwcm9wcykge1xuICBjb25zdCByb29tID0gdXNlUm9vbUNvbnRleHQoKTtcbiAgY29uc3QgY29ubmVjdGlvblN0YXRlID0gdXNlQ29ubmVjdGlvblN0YXRlKHJvb20pO1xuICBjb25zdCBidXR0b25Qcm9wcyA9IFJlYWN0MTQudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIGRpc2Nvbm5lY3QgfSA9IHNldHVwRGlzY29ubmVjdEJ1dHRvbihyb29tKTtcbiAgICBjb25zdCBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMocHJvcHMsIHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gZGlzY29ubmVjdCgoX2EgPSBwcm9wcy5zdG9wVHJhY2tzKSAhPSBudWxsID8gX2EgOiB0cnVlKTtcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlZDogY29ubmVjdGlvblN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkXG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9LCBbcm9vbSwgcHJvcHMsIGNvbm5lY3Rpb25TdGF0ZV0pO1xuICByZXR1cm4geyBidXR0b25Qcm9wcyB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlRmFjaW5nTW9kZS50c1xuaW1wb3J0IHsgTG9jYWxUcmFja1B1YmxpY2F0aW9uLCBmYWNpbmdNb2RlRnJvbUxvY2FsVHJhY2sgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmZ1bmN0aW9uIHVzZUZhY2luZ01vZGUodHJhY2tSZWZlcmVuY2UpIHtcbiAgaWYgKHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uIGluc3RhbmNlb2YgTG9jYWxUcmFja1B1YmxpY2F0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxUcmFjayA9IHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uLnRyYWNrO1xuICAgIGlmIChsb2NhbFRyYWNrKSB7XG4gICAgICBjb25zdCB7IGZhY2luZ01vZGUgfSA9IGZhY2luZ01vZGVGcm9tTG9jYWxUcmFjayhsb2NhbFRyYWNrKTtcbiAgICAgIHJldHVybiBmYWNpbmdNb2RlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUZvY3VzVG9nZ2xlLnRzXG5pbXBvcnQgeyBzZXR1cEZvY3VzVG9nZ2xlLCBpc1RyYWNrUmVmZXJlbmNlUGlubmVkIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QxNSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUZvY3VzVG9nZ2xlKHsgdHJhY2tSZWYsIHRyYWNrU291cmNlLCBwYXJ0aWNpcGFudCwgcHJvcHMgfSkge1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQocGFydGljaXBhbnQpO1xuICBpZiAoIXRyYWNrUmVmICYmICF0cmFja1NvdXJjZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInRyYWNrUmVmIG9yIHRyYWNrU291cmNlIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gIH1cbiAgY29uc3QgbGF5b3V0Q29udGV4dCA9IHVzZU1heWJlTGF5b3V0Q29udGV4dCgpO1xuICBjb25zdCB7IGNsYXNzTmFtZSB9ID0gUmVhY3QxNS51c2VNZW1vKCgpID0+IHNldHVwRm9jdXNUb2dnbGUoKSwgW10pO1xuICBjb25zdCBpbkZvY3VzID0gUmVhY3QxNS51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodHJhY2tSZWYpIHtcbiAgICAgIHJldHVybiBpc1RyYWNrUmVmZXJlbmNlUGlubmVkKHRyYWNrUmVmLCBsYXlvdXRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBsYXlvdXRDb250ZXh0LnBpbi5zdGF0ZSk7XG4gICAgfSBlbHNlIGlmICh0cmFja1NvdXJjZSkge1xuICAgICAgY29uc3QgdHJhY2sgPSBwLmdldFRyYWNrKHRyYWNrU291cmNlKTtcbiAgICAgIGlmICgobGF5b3V0Q29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogbGF5b3V0Q29udGV4dC5waW4uc3RhdGUpICYmIHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBpc1RyYWNrUmVmZXJlbmNlUGlubmVkKFxuICAgICAgICAgIHsgcGFydGljaXBhbnQ6IHAsIHNvdXJjZTogdHJhY2tTb3VyY2UsIHB1YmxpY2F0aW9uOiB0cmFjayB9LFxuICAgICAgICAgIGxheW91dENvbnRleHQucGluLnN0YXRlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRyYWNrUmVmIG9yIHRyYWNrU291cmNlIGFuZCBwYXJ0aWNpcGFudCBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cbiAgfSwgW3RyYWNrUmVmLCBsYXlvdXRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBsYXlvdXRDb250ZXh0LnBpbi5zdGF0ZSwgcCwgdHJhY2tTb3VyY2VdKTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBSZWFjdDE1LnVzZU1lbW8oXG4gICAgKCkgPT4gbWVyZ2VQcm9wcyhwcm9wcywge1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgb25DbGljazogKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIChfYSA9IHByb3BzLm9uQ2xpY2spID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBldmVudCk7XG4gICAgICAgIGlmICh0cmFja1JlZikge1xuICAgICAgICAgIGlmIChpbkZvY3VzKSB7XG4gICAgICAgICAgICAoX2MgPSBsYXlvdXRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiAoX2IgPSBsYXlvdXRDb250ZXh0LnBpbikuZGlzcGF0Y2gpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCB7XG4gICAgICAgICAgICAgIG1zZzogXCJjbGVhcl9waW5cIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChfZSA9IGxheW91dENvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IChfZCA9IGxheW91dENvbnRleHQucGluKS5kaXNwYXRjaCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmNhbGwoX2QsIHtcbiAgICAgICAgICAgICAgbXNnOiBcInNldF9waW5cIixcbiAgICAgICAgICAgICAgdHJhY2tSZWZlcmVuY2U6IHRyYWNrUmVmXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2tTb3VyY2UpIHtcbiAgICAgICAgICBjb25zdCB0cmFjayA9IHAuZ2V0VHJhY2sodHJhY2tTb3VyY2UpO1xuICAgICAgICAgIGlmICgobGF5b3V0Q29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogbGF5b3V0Q29udGV4dC5waW4uZGlzcGF0Y2gpICYmIHRyYWNrKSB7XG4gICAgICAgICAgICBpZiAoaW5Gb2N1cykge1xuICAgICAgICAgICAgICBsYXlvdXRDb250ZXh0LnBpbi5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgbXNnOiBcImNsZWFyX3BpblwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGV4dC5waW4uZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIG1zZzogXCJzZXRfcGluXCIsXG4gICAgICAgICAgICAgICAgdHJhY2tSZWZlcmVuY2U6IHtcbiAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50OiBwLFxuICAgICAgICAgICAgICAgICAgcHVibGljYXRpb246IHRyYWNrLFxuICAgICAgICAgICAgICAgICAgc291cmNlOiB0cmFjay5zb3VyY2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIFtwcm9wcywgY2xhc3NOYW1lLCB0cmFja1JlZiwgdHJhY2tTb3VyY2UsIGluRm9jdXMsIGxheW91dENvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IGxheW91dENvbnRleHQucGluLCBwXVxuICApO1xuICByZXR1cm4geyBtZXJnZWRQcm9wcywgaW5Gb2N1cyB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlR3JpZExheW91dC50c1xuaW1wb3J0IHsgR1JJRF9MQVlPVVRTLCBzZWxlY3RHcmlkTGF5b3V0IH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QxNiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUdyaWRMYXlvdXQoZ3JpZEVsZW1lbnQsIHRyYWNrQ291bnQpIHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB1c2VTaXplKGdyaWRFbGVtZW50KTtcbiAgY29uc3QgbGF5b3V0ID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDAgPyBzZWxlY3RHcmlkTGF5b3V0KEdSSURfTEFZT1VUUywgdHJhY2tDb3VudCwgd2lkdGgsIGhlaWdodCkgOiBHUklEX0xBWU9VVFNbMF07XG4gIFJlYWN0MTYudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ3JpZEVsZW1lbnQuY3VycmVudCAmJiBsYXlvdXQpIHtcbiAgICAgIGdyaWRFbGVtZW50LmN1cnJlbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWxrLWNvbC1jb3VudFwiLCBsYXlvdXQgPT0gbnVsbCA/IHZvaWQgMCA6IGxheW91dC5jb2x1bW5zLnRvU3RyaW5nKCkpO1xuICAgICAgZ3JpZEVsZW1lbnQuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstcm93LWNvdW50XCIsIGxheW91dCA9PSBudWxsID8gdm9pZCAwIDogbGF5b3V0LnJvd3MudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9LCBbZ3JpZEVsZW1lbnQsIGxheW91dF0pO1xuICByZXR1cm4ge1xuICAgIGxheW91dFxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlSXNNdXRlZC50c1xuaW1wb3J0IHtcbiAgZ2V0VHJhY2tSZWZlcmVuY2VJZCxcbiAgbXV0ZWRPYnNlcnZlclxufSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDE3IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlSXNNdXRlZChzb3VyY2VPclRyYWNrUmVmLCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcGFzc2VkUGFydGljaXBhbnQgPSB0eXBlb2Ygc291cmNlT3JUcmFja1JlZiA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMucGFydGljaXBhbnQgOiBzb3VyY2VPclRyYWNrUmVmLnBhcnRpY2lwYW50O1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQocGFzc2VkUGFydGljaXBhbnQpO1xuICBjb25zdCByZWYgPSB0eXBlb2Ygc291cmNlT3JUcmFja1JlZiA9PT0gXCJzdHJpbmdcIiA/IHsgcGFydGljaXBhbnQ6IHAsIHNvdXJjZTogc291cmNlT3JUcmFja1JlZiB9IDogc291cmNlT3JUcmFja1JlZjtcbiAgY29uc3QgW2lzTXV0ZWQsIHNldElzTXV0ZWRdID0gUmVhY3QxNy51c2VTdGF0ZShcbiAgICAhISgoKF9hID0gcmVmLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaXNNdXRlZCkgfHwgKChfYiA9IHAuZ2V0VHJhY2socmVmLnNvdXJjZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pc011dGVkKSlcbiAgKTtcbiAgUmVhY3QxNy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gbXV0ZWRPYnNlcnZlcihyZWYpLnN1YnNjcmliZShzZXRJc011dGVkKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXIudW5zdWJzY3JpYmUoKTtcbiAgfSwgW2dldFRyYWNrUmVmZXJlbmNlSWQocmVmKV0pO1xuICByZXR1cm4gaXNNdXRlZDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUlzU3BlYWtpbmcudHNcbmltcG9ydCB7IGNyZWF0ZUlzU3BlYWtpbmdPYnNlcnZlciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTggZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VJc1NwZWFraW5nKHBhcnRpY2lwYW50KSB7XG4gIGNvbnN0IHAgPSB1c2VFbnN1cmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCk7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBSZWFjdDE4LnVzZU1lbW8oKCkgPT4gY3JlYXRlSXNTcGVha2luZ09ic2VydmVyKHApLCBbcF0pO1xuICBjb25zdCBpc1NwZWFraW5nID0gdXNlT2JzZXJ2YWJsZVN0YXRlKG9ic2VydmFibGUsIHAuaXNTcGVha2luZyk7XG4gIHJldHVybiBpc1NwZWFraW5nO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlTGl2ZUtpdFJvb20udHNcbmltcG9ydCB7IGxvZywgc2V0dXBMaXZlS2l0Um9vbSB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCB7IFJvb20sIE1lZGlhRGV2aWNlRmFpbHVyZSwgUm9vbUV2ZW50LCBDb25uZWN0aW9uU3RhdGUgYXMgQ29ubmVjdGlvblN0YXRlMiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3QxOSBmcm9tIFwicmVhY3RcIjtcbnZhciBkZWZhdWx0Um9vbVByb3BzID0ge1xuICBjb25uZWN0OiB0cnVlLFxuICBhdWRpbzogZmFsc2UsXG4gIHZpZGVvOiBmYWxzZVxufTtcbmZ1bmN0aW9uIHVzZUxpdmVLaXRSb29tKHByb3BzKSB7XG4gIGNvbnN0IF9hID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHRSb29tUHJvcHMpLCBwcm9wcyksIHtcbiAgICB0b2tlbixcbiAgICBzZXJ2ZXJVcmwsXG4gICAgb3B0aW9ucyxcbiAgICByb29tOiBwYXNzZWRSb29tLFxuICAgIGNvbm5lY3RPcHRpb25zLFxuICAgIGNvbm5lY3QsXG4gICAgYXVkaW8sXG4gICAgdmlkZW8sXG4gICAgc2NyZWVuLFxuICAgIG9uQ29ubmVjdGVkLFxuICAgIG9uRGlzY29ubmVjdGVkLFxuICAgIG9uRXJyb3IsXG4gICAgb25NZWRpYURldmljZUZhaWx1cmUsXG4gICAgb25FbmNyeXB0aW9uRXJyb3IsXG4gICAgc2ltdWxhdGVQYXJ0aWNpcGFudHNcbiAgfSA9IF9hLCByZXN0ID0gX19vYmpSZXN0KF9hLCBbXG4gICAgXCJ0b2tlblwiLFxuICAgIFwic2VydmVyVXJsXCIsXG4gICAgXCJvcHRpb25zXCIsXG4gICAgXCJyb29tXCIsXG4gICAgXCJjb25uZWN0T3B0aW9uc1wiLFxuICAgIFwiY29ubmVjdFwiLFxuICAgIFwiYXVkaW9cIixcbiAgICBcInZpZGVvXCIsXG4gICAgXCJzY3JlZW5cIixcbiAgICBcIm9uQ29ubmVjdGVkXCIsXG4gICAgXCJvbkRpc2Nvbm5lY3RlZFwiLFxuICAgIFwib25FcnJvclwiLFxuICAgIFwib25NZWRpYURldmljZUZhaWx1cmVcIixcbiAgICBcIm9uRW5jcnlwdGlvbkVycm9yXCIsXG4gICAgXCJzaW11bGF0ZVBhcnRpY2lwYW50c1wiXG4gIF0pO1xuICBpZiAob3B0aW9ucyAmJiBwYXNzZWRSb29tKSB7XG4gICAgbG9nLndhcm4oXG4gICAgICBcIndoZW4gdXNpbmcgYSBtYW51YWxseSBjcmVhdGVkIHJvb20sIHRoZSBvcHRpb25zIG9iamVjdCB3aWxsIGJlIGlnbm9yZWQuIHNldCB0aGUgZGVzaXJlZCBvcHRpb25zIGRpcmVjdGx5IHdoZW4gY3JlYXRpbmcgdGhlIHJvb20gaW5zdGVhZC5cIlxuICAgICk7XG4gIH1cbiAgY29uc3QgW3Jvb20sIHNldFJvb21dID0gUmVhY3QxOS51c2VTdGF0ZSgpO1xuICBSZWFjdDE5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Um9vbShwYXNzZWRSb29tICE9IG51bGwgPyBwYXNzZWRSb29tIDogbmV3IFJvb20ob3B0aW9ucykpO1xuICB9LCBbcGFzc2VkUm9vbV0pO1xuICBjb25zdCBodG1sUHJvcHMgPSBSZWFjdDE5LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lIH0gPSBzZXR1cExpdmVLaXRSb29tKCk7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMocmVzdCwgeyBjbGFzc05hbWUgfSk7XG4gIH0sIFtyZXN0XSk7XG4gIFJlYWN0MTkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJvb20pXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgb25TaWduYWxDb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBsb2NhbFAgPSByb29tLmxvY2FsUGFydGljaXBhbnQ7XG4gICAgICBsb2cuZGVidWcoXCJ0cnlpbmcgdG8gcHVibGlzaCBsb2NhbCB0cmFja3NcIik7XG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGxvY2FsUC5zZXRNaWNyb3Bob25lRW5hYmxlZCghIWF1ZGlvLCB0eXBlb2YgYXVkaW8gIT09IFwiYm9vbGVhblwiID8gYXVkaW8gOiB2b2lkIDApLFxuICAgICAgICBsb2NhbFAuc2V0Q2FtZXJhRW5hYmxlZCghIXZpZGVvLCB0eXBlb2YgdmlkZW8gIT09IFwiYm9vbGVhblwiID8gdmlkZW8gOiB2b2lkIDApLFxuICAgICAgICBsb2NhbFAuc2V0U2NyZWVuU2hhcmVFbmFibGVkKCEhc2NyZWVuLCB0eXBlb2Ygc2NyZWVuICE9PSBcImJvb2xlYW5cIiA/IHNjcmVlbiA6IHZvaWQgMClcbiAgICAgIF0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGxvZy53YXJuKGUpO1xuICAgICAgICBvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVNZWRpYURldmljZUVycm9yID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IG1lZGlhRGV2aWNlRmFpbHVyZSA9IE1lZGlhRGV2aWNlRmFpbHVyZS5nZXRGYWlsdXJlKGUpO1xuICAgICAgb25NZWRpYURldmljZUZhaWx1cmUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uTWVkaWFEZXZpY2VGYWlsdXJlKG1lZGlhRGV2aWNlRmFpbHVyZSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVFbmNyeXB0aW9uRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgb25FbmNyeXB0aW9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRW5jcnlwdGlvbkVycm9yKGUpO1xuICAgIH07XG4gICAgcm9vbS5vbihSb29tRXZlbnQuU2lnbmFsQ29ubmVjdGVkLCBvblNpZ25hbENvbm5lY3RlZCkub24oUm9vbUV2ZW50Lk1lZGlhRGV2aWNlc0Vycm9yLCBoYW5kbGVNZWRpYURldmljZUVycm9yKS5vbihSb29tRXZlbnQuRW5jcnlwdGlvbkVycm9yLCBoYW5kbGVFbmNyeXB0aW9uRXJyb3IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByb29tLm9mZihSb29tRXZlbnQuU2lnbmFsQ29ubmVjdGVkLCBvblNpZ25hbENvbm5lY3RlZCkub2ZmKFJvb21FdmVudC5NZWRpYURldmljZXNFcnJvciwgaGFuZGxlTWVkaWFEZXZpY2VFcnJvcikub2ZmKFJvb21FdmVudC5FbmNyeXB0aW9uRXJyb3IsIGhhbmRsZUVuY3J5cHRpb25FcnJvcik7XG4gICAgfTtcbiAgfSwgW3Jvb20sIGF1ZGlvLCB2aWRlbywgc2NyZWVuLCBvbkVycm9yLCBvbkVuY3J5cHRpb25FcnJvciwgb25NZWRpYURldmljZUZhaWx1cmVdKTtcbiAgUmVhY3QxOS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcm9vbSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoc2ltdWxhdGVQYXJ0aWNpcGFudHMpIHtcbiAgICAgIHJvb20uc2ltdWxhdGVQYXJ0aWNpcGFudHMoe1xuICAgICAgICBwYXJ0aWNpcGFudHM6IHtcbiAgICAgICAgICBjb3VudDogc2ltdWxhdGVQYXJ0aWNpcGFudHNcbiAgICAgICAgfSxcbiAgICAgICAgcHVibGlzaDoge1xuICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgIHVzZVJlYWxUcmFja3M6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIGxvZy5kZWJ1ZyhcIm5vIHRva2VuIHlldFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzZXJ2ZXJVcmwpIHtcbiAgICAgIGxvZy53YXJuKFwibm8gbGl2ZWtpdCB1cmwgcHJvdmlkZWRcIik7XG4gICAgICBvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yKEVycm9yKFwibm8gbGl2ZWtpdCB1cmwgcHJvdmlkZWRcIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29ubmVjdCkge1xuICAgICAgbG9nLmRlYnVnKFwiY29ubmVjdGluZ1wiKTtcbiAgICAgIHJvb20uY29ubmVjdChzZXJ2ZXJVcmwsIHRva2VuLCBjb25uZWN0T3B0aW9ucykuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgbG9nLndhcm4oZSk7XG4gICAgICAgIG9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nLmRlYnVnKFwiZGlzY29ubmVjdGluZyBiZWNhdXNlIGNvbm5lY3QgaXMgZmFsc2VcIik7XG4gICAgICByb29tLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0sIFtcbiAgICBjb25uZWN0LFxuICAgIHRva2VuLFxuICAgIEpTT04uc3RyaW5naWZ5KGNvbm5lY3RPcHRpb25zKSxcbiAgICByb29tLFxuICAgIG9uRXJyb3IsXG4gICAgc2VydmVyVXJsLFxuICAgIHNpbXVsYXRlUGFydGljaXBhbnRzXG4gIF0pO1xuICBSZWFjdDE5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyb29tKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdGF0ZUNoYW5nZUxpc3RlbmVyID0gKHN0YXRlKSA9PiB7XG4gICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlMi5EaXNjb25uZWN0ZWQ6XG4gICAgICAgICAgaWYgKG9uRGlzY29ubmVjdGVkKVxuICAgICAgICAgICAgb25EaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUyLkNvbm5lY3RlZDpcbiAgICAgICAgICBpZiAob25Db25uZWN0ZWQpXG4gICAgICAgICAgICBvbkNvbm5lY3RlZCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG4gICAgcm9vbS5vbihSb29tRXZlbnQuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCwgY29ubmVjdGlvblN0YXRlQ2hhbmdlTGlzdGVuZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByb29tLm9mZihSb29tRXZlbnQuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCwgY29ubmVjdGlvblN0YXRlQ2hhbmdlTGlzdGVuZXIpO1xuICAgIH07XG4gIH0sIFt0b2tlbiwgb25Db25uZWN0ZWQsIG9uRGlzY29ubmVjdGVkLCByb29tXSk7XG4gIFJlYWN0MTkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJvb20pXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvZy5pbmZvKFwiZGlzY29ubmVjdGluZyBvbiBvbm1vdW50XCIpO1xuICAgICAgcm9vbS5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW3Jvb21dKTtcbiAgcmV0dXJuIHsgcm9vbSwgaHRtbFByb3BzIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VMb2NhbFBhcnRpY2lwYW50LnRzXG5pbXBvcnQgeyBvYnNlcnZlUGFydGljaXBhbnRNZWRpYSB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MjAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VMb2NhbFBhcnRpY2lwYW50KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByb29tID0gdXNlRW5zdXJlUm9vbShvcHRpb25zLnJvb20pO1xuICBjb25zdCBbbG9jYWxQYXJ0aWNpcGFudCwgc2V0TG9jYWxQYXJ0aWNpcGFudF0gPSBSZWFjdDIwLnVzZVN0YXRlKHJvb20ubG9jYWxQYXJ0aWNpcGFudCk7XG4gIGNvbnN0IFtpc01pY3JvcGhvbmVFbmFibGVkLCBzZXRJc01pY3JvcGhvbmVFbmFibGVkXSA9IFJlYWN0MjAudXNlU3RhdGUoXG4gICAgbG9jYWxQYXJ0aWNpcGFudC5pc01pY3JvcGhvbmVFbmFibGVkXG4gICk7XG4gIGNvbnN0IFtpc0NhbWVyYUVuYWJsZWQsIHNldElzQ2FtZXJhRW5hYmxlZF0gPSBSZWFjdDIwLnVzZVN0YXRlKFxuICAgIGxvY2FsUGFydGljaXBhbnQuaXNNaWNyb3Bob25lRW5hYmxlZFxuICApO1xuICBjb25zdCBbbGFzdE1pY3JvcGhvbmVFcnJvciwgc2V0TGFzdE1pY3JvcGhvbmVFcnJvcl0gPSBSZWFjdDIwLnVzZVN0YXRlKFxuICAgIGxvY2FsUGFydGljaXBhbnQubGFzdE1pY3JvcGhvbmVFcnJvclxuICApO1xuICBjb25zdCBbbGFzdENhbWVyYUVycm9yLCBzZXRMYXN0Q2FtZXJhRXJyb3JdID0gUmVhY3QyMC51c2VTdGF0ZShsb2NhbFBhcnRpY2lwYW50Lmxhc3RDYW1lcmFFcnJvcik7XG4gIGNvbnN0IFtpc1NjcmVlblNoYXJlRW5hYmxlZCwgc2V0SXNTY3JlZW5TaGFyZUVuYWJsZWRdID0gUmVhY3QyMC51c2VTdGF0ZShcbiAgICBsb2NhbFBhcnRpY2lwYW50LmlzTWljcm9waG9uZUVuYWJsZWRcbiAgKTtcbiAgY29uc3QgW21pY3JvcGhvbmVUcmFjaywgc2V0TWljcm9waG9uZVRyYWNrXSA9IFJlYWN0MjAudXNlU3RhdGUoXG4gICAgdm9pZCAwXG4gICk7XG4gIGNvbnN0IFtjYW1lcmFUcmFjaywgc2V0Q2FtZXJhVHJhY2tdID0gUmVhY3QyMC51c2VTdGF0ZSh2b2lkIDApO1xuICBjb25zdCBoYW5kbGVVcGRhdGUgPSAobWVkaWEpID0+IHtcbiAgICBzZXRJc0NhbWVyYUVuYWJsZWQobWVkaWEuaXNDYW1lcmFFbmFibGVkKTtcbiAgICBzZXRJc01pY3JvcGhvbmVFbmFibGVkKG1lZGlhLmlzTWljcm9waG9uZUVuYWJsZWQpO1xuICAgIHNldElzU2NyZWVuU2hhcmVFbmFibGVkKG1lZGlhLmlzU2NyZWVuU2hhcmVFbmFibGVkKTtcbiAgICBzZXRDYW1lcmFUcmFjayhtZWRpYS5jYW1lcmFUcmFjayk7XG4gICAgc2V0TWljcm9waG9uZVRyYWNrKG1lZGlhLm1pY3JvcGhvbmVUcmFjayk7XG4gICAgc2V0TGFzdE1pY3JvcGhvbmVFcnJvcihtZWRpYS5wYXJ0aWNpcGFudC5sYXN0TWljcm9waG9uZUVycm9yKTtcbiAgICBzZXRMYXN0Q2FtZXJhRXJyb3IobWVkaWEucGFydGljaXBhbnQubGFzdENhbWVyYUVycm9yKTtcbiAgICBzZXRMb2NhbFBhcnRpY2lwYW50KG1lZGlhLnBhcnRpY2lwYW50KTtcbiAgfTtcbiAgUmVhY3QyMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gb2JzZXJ2ZVBhcnRpY2lwYW50TWVkaWEocm9vbS5sb2NhbFBhcnRpY2lwYW50KS5zdWJzY3JpYmUoaGFuZGxlVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXIudW5zdWJzY3JpYmUoKTtcbiAgfSwgW3Jvb21dKTtcbiAgcmV0dXJuIHtcbiAgICBpc01pY3JvcGhvbmVFbmFibGVkLFxuICAgIGlzU2NyZWVuU2hhcmVFbmFibGVkLFxuICAgIGlzQ2FtZXJhRW5hYmxlZCxcbiAgICBtaWNyb3Bob25lVHJhY2ssXG4gICAgY2FtZXJhVHJhY2ssXG4gICAgbGFzdE1pY3JvcGhvbmVFcnJvcixcbiAgICBsYXN0Q2FtZXJhRXJyb3IsXG4gICAgbG9jYWxQYXJ0aWNpcGFudFxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlTG9jYWxQYXJ0aWNpcGFudFBlcm1pc3Npb25zLnRzXG5pbXBvcnQgeyBwYXJ0aWNpcGFudFBlcm1pc3Npb25PYnNlcnZlciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MjEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VMb2NhbFBhcnRpY2lwYW50UGVybWlzc2lvbnMoKSB7XG4gIGNvbnN0IHJvb20gPSB1c2VSb29tQ29udGV4dCgpO1xuICBjb25zdCBwZXJtaXNzaW9uT2JzZXJ2ZXIgPSBSZWFjdDIxLnVzZU1lbW8oXG4gICAgKCkgPT4gcGFydGljaXBhbnRQZXJtaXNzaW9uT2JzZXJ2ZXIocm9vbS5sb2NhbFBhcnRpY2lwYW50KSxcbiAgICBbcm9vbV1cbiAgKTtcbiAgY29uc3QgcGVybWlzc2lvbnMgPSB1c2VPYnNlcnZhYmxlU3RhdGUocGVybWlzc2lvbk9ic2VydmVyLCByb29tLmxvY2FsUGFydGljaXBhbnQucGVybWlzc2lvbnMpO1xuICByZXR1cm4gcGVybWlzc2lvbnM7XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZWRpYURldmljZVNlbGVjdC50c1xuaW1wb3J0IHsgY3JlYXRlTWVkaWFEZXZpY2VPYnNlcnZlciwgc2V0dXBEZXZpY2VTZWxlY3RvciwgbG9nIGFzIGxvZzIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDIyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlTWVkaWFEZXZpY2VTZWxlY3Qoe1xuICBraW5kLFxuICByb29tLFxuICB0cmFjayxcbiAgcmVxdWVzdFBlcm1pc3Npb25zLFxuICBvbkVycm9yXG59KSB7XG4gIGNvbnN0IHJvb21Db250ZXh0ID0gdXNlTWF5YmVSb29tQ29udGV4dCgpO1xuICBjb25zdCBkZXZpY2VPYnNlcnZlciA9IFJlYWN0MjIudXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVNZWRpYURldmljZU9ic2VydmVyKGtpbmQsIG9uRXJyb3IsIHJlcXVlc3RQZXJtaXNzaW9ucyksXG4gICAgW2tpbmQsIHJlcXVlc3RQZXJtaXNzaW9ucywgb25FcnJvcl1cbiAgKTtcbiAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVTdGF0ZShkZXZpY2VPYnNlcnZlciwgW10pO1xuICBjb25zdCBbY3VycmVudERldmljZUlkLCBzZXRDdXJyZW50RGV2aWNlSWRdID0gUmVhY3QyMi51c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgeyBjbGFzc05hbWUsIGFjdGl2ZURldmljZU9ic2VydmFibGUsIHNldEFjdGl2ZU1lZGlhRGV2aWNlIH0gPSBSZWFjdDIyLnVzZU1lbW8oXG4gICAgKCkgPT4gc2V0dXBEZXZpY2VTZWxlY3RvcihraW5kLCByb29tICE9IG51bGwgPyByb29tIDogcm9vbUNvbnRleHQsIHRyYWNrKSxcbiAgICBba2luZCwgcm9vbSwgcm9vbUNvbnRleHQsIHRyYWNrXVxuICApO1xuICBSZWFjdDIyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSBhY3RpdmVEZXZpY2VPYnNlcnZhYmxlLnN1YnNjcmliZSgoZGV2aWNlSWQpID0+IHtcbiAgICAgIGxvZzIuaW5mbyhcInNldEN1cnJlbnREZXZpY2VJZFwiLCBkZXZpY2VJZCk7XG4gICAgICBpZiAoZGV2aWNlSWQpXG4gICAgICAgIHNldEN1cnJlbnREZXZpY2VJZChkZXZpY2VJZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxpc3RlbmVyID09IG51bGwgPyB2b2lkIDAgOiBsaXN0ZW5lci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFthY3RpdmVEZXZpY2VPYnNlcnZhYmxlXSk7XG4gIHJldHVybiB7IGRldmljZXMsIGNsYXNzTmFtZSwgYWN0aXZlRGV2aWNlSWQ6IGN1cnJlbnREZXZpY2VJZCwgc2V0QWN0aXZlTWVkaWFEZXZpY2UgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU1lZGlhRGV2aWNlcy50c1xuaW1wb3J0ICogYXMgUmVhY3QyMyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZU1lZGlhRGV2aWNlT2JzZXJ2ZXIgYXMgY3JlYXRlTWVkaWFEZXZpY2VPYnNlcnZlcjIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5mdW5jdGlvbiB1c2VNZWRpYURldmljZXMoeyBraW5kIH0pIHtcbiAgY29uc3QgZGV2aWNlT2JzZXJ2ZXIgPSBSZWFjdDIzLnVzZU1lbW8oKCkgPT4gY3JlYXRlTWVkaWFEZXZpY2VPYnNlcnZlcjIoa2luZCksIFtraW5kXSk7XG4gIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlU3RhdGUoZGV2aWNlT2JzZXJ2ZXIsIFtdKTtcbiAgcmV0dXJuIGRldmljZXM7XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZWRpYVRyYWNrQnlTb3VyY2VPck5hbWUudHNcbmltcG9ydCB7IGlzVHJhY2tSZWZlcmVuY2UgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgeyBzZXR1cE1lZGlhVHJhY2ssIGxvZyBhcyBsb2c0LCBpc0xvY2FsLCBnZXRUcmFja0J5SWRlbnRpZmllciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MjUgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91dGlscy50c1xuaW1wb3J0ICogYXMgUmVhY3QyNCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGxvZyBhcyBsb2czIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuZnVuY3Rpb24gaXNQcm9wKHByb3ApIHtcbiAgcmV0dXJuIHByb3AgIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMyKC4uLnByb3BzKSB7XG4gIHJldHVybiBtZXJnZVByb3BzKC4uLnByb3BzLmZpbHRlcihpc1Byb3ApKTtcbn1cbmZ1bmN0aW9uIGNsb25lU2luZ2xlQ2hpbGQoY2hpbGRyZW4sIHByb3BzLCBrZXkpIHtcbiAgcmV0dXJuIFJlYWN0MjQuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcbiAgICBpZiAoUmVhY3QyNC5pc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgUmVhY3QyNC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSkge1xuICAgICAgcmV0dXJuIFJlYWN0MjQuY2xvbmVFbGVtZW50KGNoaWxkLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsga2V5IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHdhcm5BYm91dE1pc3NpbmdTdHlsZXMoZWwpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB0dXJiby9uby11bmRlY2xhcmVkLWVudi12YXJzXG4gICAgKCgoX2EgPSBwcm9jZXNzID09IG51bGwgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLk5PREVfRU5WKSA9PT0gXCJkZXZcIiB8fCAoKF9iID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBfYi5OT0RFX0VOVikgPT09IFwiZGV2ZWxvcG1lbnRcIikgJiYgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIlxuICApIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlbCAhPSBudWxsID8gZWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxrLXJvb20tY29udGFpbmVyXCIpO1xuICAgIGlmICh0YXJnZXQgJiYgIWdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1say1oYXMtaW1wb3J0ZWQtc3R5bGVzXCIpKSB7XG4gICAgICBsb2czLndhcm4oXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgbm90IHVzaW5nIHRoZSBgQGxpdmVraXQvY29tcG9uZW50cy1zdHlsZXMgcGFja2FnZWAuIFRvIHJlbmRlciB0aGUgVUkgd2l0aCB0aGUgZGVmYXVsdCBzdHlsaW5nLCBwbGVhc2UgaW1wb3J0IGl0IGluIHlvdXIgbGF5b3V0IG9yIHBhZ2UuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZWRpYVRyYWNrQnlTb3VyY2VPck5hbWUudHNcbmZ1bmN0aW9uIHVzZU1lZGlhVHJhY2tCeVNvdXJjZU9yTmFtZShvYnNlcnZlck9wdGlvbnMsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IFtwdWJsaWNhdGlvbiwgc2V0UHVibGljYXRpb25dID0gUmVhY3QyNS51c2VTdGF0ZShnZXRUcmFja0J5SWRlbnRpZmllcihvYnNlcnZlck9wdGlvbnMpKTtcbiAgY29uc3QgW2lzTXV0ZWQsIHNldE11dGVkXSA9IFJlYWN0MjUudXNlU3RhdGUocHVibGljYXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHB1YmxpY2F0aW9uLmlzTXV0ZWQpO1xuICBjb25zdCBbaXNTdWJzY3JpYmVkLCBzZXRTdWJzY3JpYmVkXSA9IFJlYWN0MjUudXNlU3RhdGUocHVibGljYXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHB1YmxpY2F0aW9uLmlzU3Vic2NyaWJlZCk7XG4gIGNvbnN0IFt0cmFjaywgc2V0VHJhY2tdID0gUmVhY3QyNS51c2VTdGF0ZShwdWJsaWNhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogcHVibGljYXRpb24udHJhY2spO1xuICBjb25zdCBbb3JpZW50YXRpb24sIHNldE9yaWVudGF0aW9uXSA9IFJlYWN0MjUudXNlU3RhdGUoXCJsYW5kc2NhcGVcIik7XG4gIGNvbnN0IHByZXZpb3VzRWxlbWVudCA9IFJlYWN0MjUudXNlUmVmKCk7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCB0cmFja09ic2VydmVyIH0gPSBSZWFjdDI1LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBzZXR1cE1lZGlhVHJhY2sob2JzZXJ2ZXJPcHRpb25zKTtcbiAgfSwgW1xuICAgIChfYSA9IG9ic2VydmVyT3B0aW9ucy5wYXJ0aWNpcGFudC5zaWQpICE9IG51bGwgPyBfYSA6IG9ic2VydmVyT3B0aW9ucy5wYXJ0aWNpcGFudC5pZGVudGl0eSxcbiAgICBvYnNlcnZlck9wdGlvbnMuc291cmNlLFxuICAgIGlzVHJhY2tSZWZlcmVuY2Uob2JzZXJ2ZXJPcHRpb25zKSAmJiBvYnNlcnZlck9wdGlvbnMucHVibGljYXRpb24udHJhY2tTaWRcbiAgXSk7XG4gIFJlYWN0MjUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0cmFja09ic2VydmVyLnN1YnNjcmliZSgocHVibGljYXRpb24yKSA9PiB7XG4gICAgICBsb2c0LmRlYnVnKFwidXBkYXRlIHRyYWNrXCIsIHB1YmxpY2F0aW9uMik7XG4gICAgICBzZXRQdWJsaWNhdGlvbihwdWJsaWNhdGlvbjIpO1xuICAgICAgc2V0TXV0ZWQocHVibGljYXRpb24yID09IG51bGwgPyB2b2lkIDAgOiBwdWJsaWNhdGlvbjIuaXNNdXRlZCk7XG4gICAgICBzZXRTdWJzY3JpYmVkKHB1YmxpY2F0aW9uMiA9PSBudWxsID8gdm9pZCAwIDogcHVibGljYXRpb24yLmlzU3Vic2NyaWJlZCk7XG4gICAgICBzZXRUcmFjayhwdWJsaWNhdGlvbjIgPT0gbnVsbCA/IHZvaWQgMCA6IHB1YmxpY2F0aW9uMi50cmFjayk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbiA9PSBudWxsID8gdm9pZCAwIDogc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFt0cmFja09ic2VydmVyXSk7XG4gIFJlYWN0MjUudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgX2EyLCBfYjtcbiAgICBpZiAodHJhY2spIHtcbiAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQuY3VycmVudCkge1xuICAgICAgICB0cmFjay5kZXRhY2gocHJldmlvdXNFbGVtZW50LmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKCgoX2EyID0gb3B0aW9ucy5lbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmN1cnJlbnQpICYmICEoaXNMb2NhbChvYnNlcnZlck9wdGlvbnMucGFydGljaXBhbnQpICYmICh0cmFjayA9PSBudWxsID8gdm9pZCAwIDogdHJhY2sua2luZCkgPT09IFwiYXVkaW9cIikpIHtcbiAgICAgICAgdHJhY2suYXR0YWNoKG9wdGlvbnMuZWxlbWVudC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJldmlvdXNFbGVtZW50LmN1cnJlbnQgPSAoX2IgPSBvcHRpb25zLmVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jdXJyZW50O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocHJldmlvdXNFbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgICAgdHJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrLmRldGFjaChwcmV2aW91c0VsZW1lbnQuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3RyYWNrLCBvcHRpb25zLmVsZW1lbnRdKTtcbiAgUmVhY3QyNS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBfYTIsIF9iO1xuICAgIGlmICh0eXBlb2YgKChfYTIgPSBwdWJsaWNhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogcHVibGljYXRpb24uZGltZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi53aWR0aCkgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mICgoX2IgPSBwdWJsaWNhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogcHVibGljYXRpb24uZGltZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmhlaWdodCkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IG9yaWVudGF0aW9uXyA9IHB1YmxpY2F0aW9uLmRpbWVuc2lvbnMud2lkdGggPiBwdWJsaWNhdGlvbi5kaW1lbnNpb25zLmhlaWdodCA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCI7XG4gICAgICBzZXRPcmllbnRhdGlvbihvcmllbnRhdGlvbl8pO1xuICAgIH1cbiAgfSwgW3B1YmxpY2F0aW9uXSk7XG4gIHJldHVybiB7XG4gICAgcHVibGljYXRpb24sXG4gICAgaXNNdXRlZCxcbiAgICBpc1N1YnNjcmliZWQsXG4gICAgdHJhY2ssXG4gICAgZWxlbWVudFByb3BzOiBtZXJnZVByb3BzMihvcHRpb25zLnByb3BzLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBcImRhdGEtbGstbG9jYWwtcGFydGljaXBhbnRcIjogb2JzZXJ2ZXJPcHRpb25zLnBhcnRpY2lwYW50LmlzTG9jYWwsXG4gICAgICBcImRhdGEtbGstc291cmNlXCI6IHB1YmxpY2F0aW9uID09IG51bGwgPyB2b2lkIDAgOiBwdWJsaWNhdGlvbi5zb3VyY2VcbiAgICB9LCAocHVibGljYXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHB1YmxpY2F0aW9uLmtpbmQpID09PSBcInZpZGVvXCIgJiYgeyBcImRhdGEtbGstb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24gfSkpXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZWRpYVRyYWNrLnRzXG5mdW5jdGlvbiB1c2VNZWRpYVRyYWNrKHNvdXJjZSwgcGFydGljaXBhbnQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQocGFydGljaXBhbnQpO1xuICByZXR1cm4gdXNlTWVkaWFUcmFja0J5U291cmNlT3JOYW1lKHsgc291cmNlLCBwYXJ0aWNpcGFudDogcCB9LCBvcHRpb25zKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU1lZGlhVHJhY2tCeU5hbWUudHNcbmZ1bmN0aW9uIHVzZU1lZGlhVHJhY2tCeU5hbWUobmFtZSwgcGFydGljaXBhbnQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQocGFydGljaXBhbnQpO1xuICByZXR1cm4gdXNlTWVkaWFUcmFja0J5U291cmNlT3JOYW1lKHsgbmFtZSwgcGFydGljaXBhbnQ6IHAgfSwgb3B0aW9ucyk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VQYWdpbmF0aW9uLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDI3IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlVmlzdWFsU3RhYmxlVXBkYXRlLnRzXG5pbXBvcnQgeyBsb2cgYXMgbG9nNSwgc29ydFRyYWNrUmVmZXJlbmNlcywgdXBkYXRlUGFnZXMgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDI2IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlVmlzdWFsU3RhYmxlVXBkYXRlKHRyYWNrUmVmZXJlbmNlcywgbWF4SXRlbXNPblBhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBsYXN0VHJhY2tSZWZzID0gUmVhY3QyNi51c2VSZWYoW10pO1xuICBjb25zdCBsYXN0TWF4SXRlbXNPblBhZ2UgPSBSZWFjdDI2LnVzZVJlZigtMSk7XG4gIGNvbnN0IGxheW91dENoYW5nZWQgPSBtYXhJdGVtc09uUGFnZSAhPT0gbGFzdE1heEl0ZW1zT25QYWdlLmN1cnJlbnQ7XG4gIGNvbnN0IHNvcnRlZFRyYWNrUmVmcyA9IHR5cGVvZiBvcHRpb25zLmN1c3RvbVNvcnRGdW5jdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gb3B0aW9ucy5jdXN0b21Tb3J0RnVuY3Rpb24odHJhY2tSZWZlcmVuY2VzKSA6IHNvcnRUcmFja1JlZmVyZW5jZXModHJhY2tSZWZlcmVuY2VzKTtcbiAgbGV0IHVwZGF0ZWRUcmFja1JlZnMgPSBbLi4uc29ydGVkVHJhY2tSZWZzXTtcbiAgaWYgKGxheW91dENoYW5nZWQgPT09IGZhbHNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHVwZGF0ZWRUcmFja1JlZnMgPSB1cGRhdGVQYWdlcyhsYXN0VHJhY2tSZWZzLmN1cnJlbnQsIHNvcnRlZFRyYWNrUmVmcywgbWF4SXRlbXNPblBhZ2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2c1LmVycm9yKFwiRXJyb3Igd2hpbGUgcnVubmluZyB1cGRhdGVQYWdlcygpOiBcIiwgZXJyb3IpO1xuICAgIH1cbiAgfVxuICBpZiAobGF5b3V0Q2hhbmdlZCkge1xuICAgIGxhc3RUcmFja1JlZnMuY3VycmVudCA9IHNvcnRlZFRyYWNrUmVmcztcbiAgfSBlbHNlIHtcbiAgICBsYXN0VHJhY2tSZWZzLmN1cnJlbnQgPSB1cGRhdGVkVHJhY2tSZWZzO1xuICB9XG4gIGxhc3RNYXhJdGVtc09uUGFnZS5jdXJyZW50ID0gbWF4SXRlbXNPblBhZ2U7XG4gIHJldHVybiB1cGRhdGVkVHJhY2tSZWZzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUGFnaW5hdGlvbi50c1xuZnVuY3Rpb24gdXNlUGFnaW5hdGlvbihpdGVtUGVyUGFnZSwgdHJhY2tSZWZlcmVuY2VzKSB7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gUmVhY3QyNy51c2VTdGF0ZSgxKTtcbiAgY29uc3QgdG90YWxQYWdlQ291bnQgPSBNYXRoLm1heChNYXRoLmNlaWwodHJhY2tSZWZlcmVuY2VzLmxlbmd0aCAvIGl0ZW1QZXJQYWdlKSwgMSk7XG4gIGlmIChjdXJyZW50UGFnZSA+IHRvdGFsUGFnZUNvdW50KSB7XG4gICAgc2V0Q3VycmVudFBhZ2UodG90YWxQYWdlQ291bnQpO1xuICB9XG4gIGNvbnN0IGxhc3RJdGVtSW5kZXggPSBjdXJyZW50UGFnZSAqIGl0ZW1QZXJQYWdlO1xuICBjb25zdCBmaXJzdEl0ZW1JbmRleCA9IGxhc3RJdGVtSW5kZXggLSBpdGVtUGVyUGFnZTtcbiAgY29uc3QgY2hhbmdlUGFnZSA9IChkaXJlY3Rpb24pID0+IHtcbiAgICBzZXRDdXJyZW50UGFnZSgoc3RhdGUpID0+IHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwibmV4dFwiKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gdG90YWxQYWdlQ291bnQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUgLSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBnb1RvUGFnZSA9IChudW0pID0+IHtcbiAgICBpZiAobnVtID4gdG90YWxQYWdlQ291bnQpIHtcbiAgICAgIHNldEN1cnJlbnRQYWdlKHRvdGFsUGFnZUNvdW50KTtcbiAgICB9IGVsc2UgaWYgKG51bSA8IDEpIHtcbiAgICAgIHNldEN1cnJlbnRQYWdlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50UGFnZShudW0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlZFRyYWNrUmVmZXJlbmNlcyA9IHVzZVZpc3VhbFN0YWJsZVVwZGF0ZSh0cmFja1JlZmVyZW5jZXMsIGl0ZW1QZXJQYWdlKTtcbiAgY29uc3QgdHJhY2tzT25QYWdlID0gdXBkYXRlZFRyYWNrUmVmZXJlbmNlcy5zbGljZShmaXJzdEl0ZW1JbmRleCwgbGFzdEl0ZW1JbmRleCk7XG4gIHJldHVybiB7XG4gICAgdG90YWxQYWdlQ291bnQsXG4gICAgbmV4dFBhZ2U6ICgpID0+IGNoYW5nZVBhZ2UoXCJuZXh0XCIpLFxuICAgIHByZXZQYWdlOiAoKSA9PiBjaGFuZ2VQYWdlKFwicHJldmlvdXNcIiksXG4gICAgc2V0UGFnZTogZ29Ub1BhZ2UsXG4gICAgZmlyc3RJdGVtSW5kZXgsXG4gICAgbGFzdEl0ZW1JbmRleCxcbiAgICB0cmFja3M6IHRyYWNrc09uUGFnZSxcbiAgICBjdXJyZW50UGFnZVxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUGFydGljaXBhbnRJbmZvLnRzXG5pbXBvcnQgeyBwYXJ0aWNpcGFudEluZm9PYnNlcnZlciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MjggZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VQYXJ0aWNpcGFudEluZm8ocHJvcHMgPSB7fSkge1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQocHJvcHMucGFydGljaXBhbnQpO1xuICBjb25zdCBpbmZvT2JzZXJ2ZXIgPSBSZWFjdDI4LnVzZU1lbW8oKCkgPT4gcGFydGljaXBhbnRJbmZvT2JzZXJ2ZXIocCksIFtwXSk7XG4gIGNvbnN0IHsgaWRlbnRpdHksIG5hbWUsIG1ldGFkYXRhIH0gPSB1c2VPYnNlcnZhYmxlU3RhdGUoaW5mb09ic2VydmVyLCB7XG4gICAgbmFtZTogcC5uYW1lLFxuICAgIGlkZW50aXR5OiBwLmlkZW50aXR5LFxuICAgIG1ldGFkYXRhOiBwLm1ldGFkYXRhXG4gIH0pO1xuICByZXR1cm4geyBpZGVudGl0eSwgbmFtZSwgbWV0YWRhdGEgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVBhcnRpY2lwYW50UGVybWlzc2lvbnMudHNcbmltcG9ydCAqIGFzIFJlYWN0MjkgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBwYXJ0aWNpcGFudFBlcm1pc3Npb25PYnNlcnZlciBhcyBwYXJ0aWNpcGFudFBlcm1pc3Npb25PYnNlcnZlcjIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5mdW5jdGlvbiB1c2VQYXJ0aWNpcGFudFBlcm1pc3Npb25zKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBwID0gdXNlRW5zdXJlUGFydGljaXBhbnQob3B0aW9ucy5wYXJ0aWNpcGFudCk7XG4gIGNvbnN0IHBlcm1pc3Npb25PYnNlcnZlciA9IFJlYWN0MjkudXNlTWVtbygoKSA9PiBwYXJ0aWNpcGFudFBlcm1pc3Npb25PYnNlcnZlcjIocCksIFtwXSk7XG4gIGNvbnN0IHBlcm1pc3Npb25zID0gdXNlT2JzZXJ2YWJsZVN0YXRlKHBlcm1pc3Npb25PYnNlcnZlciwgcC5wZXJtaXNzaW9ucyk7XG4gIHJldHVybiBwZXJtaXNzaW9ucztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVBhcnRpY2lwYW50VGlsZS50c1xuaW1wb3J0IHsgc2V0dXBQYXJ0aWNpcGFudFRpbGUgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgeyBUcmFjayB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3QzMCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVBhcnRpY2lwYW50VGlsZSh7XG4gIHRyYWNrUmVmLFxuICBwYXJ0aWNpcGFudCxcbiAgc291cmNlLFxuICBwdWJsaWNhdGlvbixcbiAgb25QYXJ0aWNpcGFudENsaWNrLFxuICBkaXNhYmxlU3BlYWtpbmdJbmRpY2F0b3IsXG4gIGh0bWxQcm9wc1xufSkge1xuICBjb25zdCBtYXliZVRyYWNrUmVmID0gdXNlTWF5YmVUcmFja1JlZkNvbnRleHQoKTtcbiAgY29uc3QgcCA9IHVzZUVuc3VyZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50KTtcbiAgY29uc3QgdHJhY2tSZWZlcmVuY2UgPSBSZWFjdDMwLnVzZU1lbW8oKCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgIGNvbnN0IF9zb3VyY2UgPSAoX2IgPSAoX2EgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYuc291cmNlKSAhPSBudWxsID8gX2EgOiBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnNvdXJjZSkgIT0gbnVsbCA/IF9iIDogc291cmNlO1xuICAgIGlmIChfc291cmNlID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJNaXNzaW5nIHRyYWNrIGBzb3VyY2VgLCBwcm92aWRlZCBpdCB2aWEgYHRyYWNrUmVmYCwgYHNvdXJjZWAgcHJvcGVydHkgb3IgdmlhIGBUcmFja1JlZkNvbnRleHRgLlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcGFydGljaXBhbnQ6IChfZCA9IChfYyA9IHRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiB0cmFja1JlZi5wYXJ0aWNpcGFudCkgIT0gbnVsbCA/IF9jIDogbWF5YmVUcmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogbWF5YmVUcmFja1JlZi5wYXJ0aWNpcGFudCkgIT0gbnVsbCA/IF9kIDogcCxcbiAgICAgIHB1YmxpY2F0aW9uOiAoX2YgPSAoX2UgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfZSA6IG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfZiA6IHB1YmxpY2F0aW9uLFxuICAgICAgc291cmNlOiBfc291cmNlXG4gICAgfTtcbiAgfSwgW1xuICAgIHRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiB0cmFja1JlZi5wYXJ0aWNpcGFudCxcbiAgICB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYuc291cmNlLFxuICAgIHRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiB0cmFja1JlZi5wdWJsaWNhdGlvbixcbiAgICBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnBhcnRpY2lwYW50LFxuICAgIG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYuc291cmNlLFxuICAgIG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucHVibGljYXRpb24sXG4gICAgcCxcbiAgICBzb3VyY2UsXG4gICAgcHVibGljYXRpb25cbiAgXSk7XG4gIGNvbnN0IG1lcmdlZFByb3BzID0gUmVhY3QzMC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSB9ID0gc2V0dXBQYXJ0aWNpcGFudFRpbGUoKTtcbiAgICByZXR1cm4gbWVyZ2VQcm9wcyhodG1sUHJvcHMsIHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2EgPSBodG1sUHJvcHMub25DbGljaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoaHRtbFByb3BzLCBldmVudCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25QYXJ0aWNpcGFudENsaWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zdCB0cmFjayA9IChfYiA9IHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uKSAhPSBudWxsID8gX2IgOiB0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudC5nZXRUcmFjayh0cmFja1JlZmVyZW5jZS5zb3VyY2UpO1xuICAgICAgICAgIG9uUGFydGljaXBhbnRDbGljayh7IHBhcnRpY2lwYW50OiB0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudCwgdHJhY2sgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW1xuICAgIGh0bWxQcm9wcyxcbiAgICBvblBhcnRpY2lwYW50Q2xpY2ssXG4gICAgdHJhY2tSZWZlcmVuY2UucHVibGljYXRpb24sXG4gICAgdHJhY2tSZWZlcmVuY2Uuc291cmNlLFxuICAgIHRyYWNrUmVmZXJlbmNlLnBhcnRpY2lwYW50XG4gIF0pO1xuICBjb25zdCBpc1ZpZGVvTXV0ZWQgPSB1c2VJc011dGVkKFRyYWNrLlNvdXJjZS5DYW1lcmEsIHsgcGFydGljaXBhbnQ6IHRyYWNrUmVmZXJlbmNlLnBhcnRpY2lwYW50IH0pO1xuICBjb25zdCBpc0F1ZGlvTXV0ZWQgPSB1c2VJc011dGVkKFRyYWNrLlNvdXJjZS5NaWNyb3Bob25lLCB7XG4gICAgcGFydGljaXBhbnQ6IHRyYWNrUmVmZXJlbmNlLnBhcnRpY2lwYW50XG4gIH0pO1xuICBjb25zdCBpc1NwZWFraW5nID0gdXNlSXNTcGVha2luZyh0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudCk7XG4gIGNvbnN0IGZhY2luZ01vZGUgPSB1c2VGYWNpbmdNb2RlKHRyYWNrUmVmZXJlbmNlKTtcbiAgcmV0dXJuIHtcbiAgICBlbGVtZW50UHJvcHM6IF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIFwiZGF0YS1say1hdWRpby1tdXRlZFwiOiBpc0F1ZGlvTXV0ZWQsXG4gICAgICBcImRhdGEtbGstdmlkZW8tbXV0ZWRcIjogaXNWaWRlb011dGVkLFxuICAgICAgXCJkYXRhLWxrLXNwZWFraW5nXCI6IGRpc2FibGVTcGVha2luZ0luZGljYXRvciA9PT0gdHJ1ZSA/IGZhbHNlIDogaXNTcGVha2luZyxcbiAgICAgIFwiZGF0YS1say1sb2NhbC1wYXJ0aWNpcGFudFwiOiB0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudC5pc0xvY2FsLFxuICAgICAgXCJkYXRhLWxrLXNvdXJjZVwiOiB0cmFja1JlZmVyZW5jZS5zb3VyY2UsXG4gICAgICBcImRhdGEtbGstZmFjaW5nLW1vZGVcIjogZmFjaW5nTW9kZVxuICAgIH0sIG1lcmdlZFByb3BzKVxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUmVtb3RlUGFydGljaXBhbnRzLnRzXG5pbXBvcnQgeyBjb25uZWN0ZWRQYXJ0aWNpcGFudHNPYnNlcnZlciB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MzEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VSZW1vdGVQYXJ0aWNpcGFudHMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHJvb20gPSB1c2VFbnN1cmVSb29tKG9wdGlvbnMucm9vbSk7XG4gIGNvbnN0IFtwYXJ0aWNpcGFudHMsIHNldFBhcnRpY2lwYW50c10gPSBSZWFjdDMxLnVzZVN0YXRlKFtdKTtcbiAgUmVhY3QzMS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gY29ubmVjdGVkUGFydGljaXBhbnRzT2JzZXJ2ZXIocm9vbSwge1xuICAgICAgYWRkaXRpb25hbFJvb21FdmVudHM6IG9wdGlvbnMudXBkYXRlT25seU9uXG4gICAgfSkuc3Vic2NyaWJlKHNldFBhcnRpY2lwYW50cyk7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVyLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtyb29tLCBKU09OLnN0cmluZ2lmeShvcHRpb25zLnVwZGF0ZU9ubHlPbildKTtcbiAgcmV0dXJuIHBhcnRpY2lwYW50cztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVBhcnRpY2lwYW50cy50c1xuZnVuY3Rpb24gdXNlUGFydGljaXBhbnRzKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMob3B0aW9ucyk7XG4gIGNvbnN0IHsgbG9jYWxQYXJ0aWNpcGFudCB9ID0gdXNlTG9jYWxQYXJ0aWNpcGFudChvcHRpb25zKTtcbiAgcmV0dXJuIFtsb2NhbFBhcnRpY2lwYW50LCAuLi5yZW1vdGVQYXJ0aWNpcGFudHNdO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUGlubmVkVHJhY2tzLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDMyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlUGlubmVkVHJhY2tzKGxheW91dENvbnRleHQpIHtcbiAgbGF5b3V0Q29udGV4dCA9IHVzZUVuc3VyZUxheW91dENvbnRleHQobGF5b3V0Q29udGV4dCk7XG4gIHJldHVybiBSZWFjdDMyLnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICgobGF5b3V0Q29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogbGF5b3V0Q29udGV4dC5waW4uc3RhdGUpICE9PSB2b2lkIDAgJiYgbGF5b3V0Q29udGV4dC5waW4uc3RhdGUubGVuZ3RoID49IDEpIHtcbiAgICAgIHJldHVybiBsYXlvdXRDb250ZXh0LnBpbi5zdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9LCBbbGF5b3V0Q29udGV4dC5waW4uc3RhdGVdKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVJlbW90ZVBhcnRpY2lwYW50LnRzXG5pbXBvcnQgeyBjb25uZWN0ZWRQYXJ0aWNpcGFudE9ic2VydmVyIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QzMyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVJlbW90ZVBhcnRpY2lwYW50KGlkZW50aXR5LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgcm9vbSA9IHVzZVJvb21Db250ZXh0KCk7XG4gIGNvbnN0IFt1cGRhdGVPbmx5T25dID0gUmVhY3QzMy51c2VTdGF0ZShvcHRpb25zLnVwZGF0ZU9ubHlPbik7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBSZWFjdDMzLnVzZU1lbW8oXG4gICAgKCkgPT4gY29ubmVjdGVkUGFydGljaXBhbnRPYnNlcnZlcihyb29tLCBpZGVudGl0eSwgeyBhZGRpdGlvbmFsRXZlbnRzOiB1cGRhdGVPbmx5T24gfSksXG4gICAgW3Jvb20sIGlkZW50aXR5LCB1cGRhdGVPbmx5T25dXG4gICk7XG4gIGNvbnN0IHBhcnRpY2lwYW50ID0gdXNlT2JzZXJ2YWJsZVN0YXRlKFxuICAgIG9ic2VydmFibGUsXG4gICAgcm9vbS5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkoaWRlbnRpdHkpXG4gICk7XG4gIHJldHVybiBwYXJ0aWNpcGFudDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVJvb21JbmZvLnRzXG5pbXBvcnQgeyByb29tSW5mb09ic2VydmVyIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QzNCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVJvb21JbmZvKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByb29tID0gdXNlRW5zdXJlUm9vbShvcHRpb25zLnJvb20pO1xuICBjb25zdCBpbmZvT2JzZXJ2ZXIgPSBSZWFjdDM0LnVzZU1lbW8oKCkgPT4gcm9vbUluZm9PYnNlcnZlcihyb29tKSwgW3Jvb21dKTtcbiAgY29uc3QgeyBuYW1lLCBtZXRhZGF0YSB9ID0gdXNlT2JzZXJ2YWJsZVN0YXRlKGluZm9PYnNlcnZlciwge1xuICAgIG5hbWU6IHJvb20ubmFtZSxcbiAgICBtZXRhZGF0YTogcm9vbS5tZXRhZGF0YVxuICB9KTtcbiAgcmV0dXJuIHsgbmFtZSwgbWV0YWRhdGEgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNvcnRlZFBhcnRpY2lwYW50cy50c1xuaW1wb3J0IHsgc29ydFBhcnRpY2lwYW50cyB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MzYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VTcGVha2luZ1BhcnRpY2lwYW50cy50c1xuaW1wb3J0IHsgYWN0aXZlU3BlYWtlck9ic2VydmVyIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QzNSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVNwZWFraW5nUGFydGljaXBhbnRzKCkge1xuICBjb25zdCByb29tID0gdXNlUm9vbUNvbnRleHQoKTtcbiAgY29uc3Qgc3BlYWtlck9ic2VydmVyID0gUmVhY3QzNS51c2VNZW1vKCgpID0+IGFjdGl2ZVNwZWFrZXJPYnNlcnZlcihyb29tKSwgW3Jvb21dKTtcbiAgY29uc3QgYWN0aXZlU3BlYWtlcnMgPSB1c2VPYnNlcnZhYmxlU3RhdGUoc3BlYWtlck9ic2VydmVyLCByb29tLmFjdGl2ZVNwZWFrZXJzKTtcbiAgcmV0dXJuIGFjdGl2ZVNwZWFrZXJzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU29ydGVkUGFydGljaXBhbnRzLnRzXG5mdW5jdGlvbiB1c2VTb3J0ZWRQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzKSB7XG4gIGNvbnN0IFtzb3J0ZWRQYXJ0aWNpcGFudHMsIHNldFNvcnRlZFBhcnRpY2lwYW50c10gPSBSZWFjdDM2LnVzZVN0YXRlKFxuICAgIHNvcnRQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzKVxuICApO1xuICBjb25zdCBhY3RpdmVTcGVha2VycyA9IHVzZVNwZWFraW5nUGFydGljaXBhbnRzKCk7XG4gIFJlYWN0MzYudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTb3J0ZWRQYXJ0aWNpcGFudHMoc29ydFBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMpKTtcbiAgfSwgW2FjdGl2ZVNwZWFrZXJzLCBwYXJ0aWNpcGFudHNdKTtcbiAgcmV0dXJuIHNvcnRlZFBhcnRpY2lwYW50cztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVN0YXJ0QXVkaW8udHNcbmltcG9ydCB7IHNldHVwU3RhcnRBdWRpbyB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MzcgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VTdGFydEF1ZGlvKHsgcm9vbSwgcHJvcHMgfSkge1xuICBjb25zdCByb29tRW5zdXJlZCA9IHVzZUVuc3VyZVJvb20ocm9vbSk7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlMiwgaGFuZGxlU3RhcnRBdWRpb1BsYXliYWNrIH0gPSBSZWFjdDM3LnVzZU1lbW8oXG4gICAgKCkgPT4gc2V0dXBTdGFydEF1ZGlvKCksXG4gICAgW11cbiAgKTtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IFJlYWN0MzcudXNlTWVtbyhcbiAgICAoKSA9PiByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlMihyb29tRW5zdXJlZCksXG4gICAgW3Jvb21FbnN1cmVkLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlMl1cbiAgKTtcbiAgY29uc3QgeyBjYW5QbGF5QXVkaW8gfSA9IHVzZU9ic2VydmFibGVTdGF0ZShvYnNlcnZhYmxlLCB7XG4gICAgY2FuUGxheUF1ZGlvOiByb29tRW5zdXJlZC5jYW5QbGF5YmFja0F1ZGlvXG4gIH0pO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IFJlYWN0MzcudXNlTWVtbyhcbiAgICAoKSA9PiBtZXJnZVByb3BzKHByb3BzLCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGhhbmRsZVN0YXJ0QXVkaW9QbGF5YmFjayhyb29tRW5zdXJlZCk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHsgZGlzcGxheTogY2FuUGxheUF1ZGlvID8gXCJub25lXCIgOiBcImJsb2NrXCIgfVxuICAgIH0pLFxuICAgIFtwcm9wcywgY2xhc3NOYW1lLCBjYW5QbGF5QXVkaW8sIGhhbmRsZVN0YXJ0QXVkaW9QbGF5YmFjaywgcm9vbUVuc3VyZWRdXG4gICk7XG4gIHJldHVybiB7IG1lcmdlZFByb3BzLCBjYW5QbGF5QXVkaW8gfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVN0YXJ0VmlkZW8udHNcbmltcG9ydCB7IHNldHVwU3RhcnRWaWRlbyB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0MzggZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VTdGFydFZpZGVvKHsgcm9vbSwgcHJvcHMgfSkge1xuICBjb25zdCByb29tRW5zdXJlZCA9IHVzZUVuc3VyZVJvb20ocm9vbSk7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCByb29tVmlkZW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlLCBoYW5kbGVTdGFydFZpZGVvUGxheWJhY2sgfSA9IFJlYWN0MzgudXNlTWVtbyhcbiAgICAoKSA9PiBzZXR1cFN0YXJ0VmlkZW8oKSxcbiAgICBbXVxuICApO1xuICBjb25zdCBvYnNlcnZhYmxlID0gUmVhY3QzOC51c2VNZW1vKFxuICAgICgpID0+IHJvb21WaWRlb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGUocm9vbUVuc3VyZWQpLFxuICAgIFtyb29tRW5zdXJlZCwgcm9vbVZpZGVvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZV1cbiAgKTtcbiAgY29uc3QgeyBjYW5QbGF5VmlkZW8gfSA9IHVzZU9ic2VydmFibGVTdGF0ZShvYnNlcnZhYmxlLCB7XG4gICAgY2FuUGxheVZpZGVvOiByb29tRW5zdXJlZC5jYW5QbGF5YmFja1ZpZGVvXG4gIH0pO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IFJlYWN0MzgudXNlTWVtbyhcbiAgICAoKSA9PiBtZXJnZVByb3BzKHByb3BzLCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGhhbmRsZVN0YXJ0VmlkZW9QbGF5YmFjayhyb29tRW5zdXJlZCk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHsgZGlzcGxheTogY2FuUGxheVZpZGVvID8gXCJub25lXCIgOiBcImJsb2NrXCIgfVxuICAgIH0pLFxuICAgIFtwcm9wcywgY2xhc3NOYW1lLCBjYW5QbGF5VmlkZW8sIGhhbmRsZVN0YXJ0VmlkZW9QbGF5YmFjaywgcm9vbUVuc3VyZWRdXG4gICk7XG4gIHJldHVybiB7IG1lcmdlZFByb3BzLCBjYW5QbGF5VmlkZW8gfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVN3aXBlLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDM5IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlU3dpcGUoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgdG91Y2hTdGFydCA9IFJlYWN0MzkudXNlUmVmKG51bGwpO1xuICBjb25zdCB0b3VjaEVuZCA9IFJlYWN0MzkudXNlUmVmKG51bGwpO1xuICBjb25zdCBtaW5Td2lwZURpc3RhbmNlID0gKF9hID0gb3B0aW9ucy5taW5Td2lwZURpc3RhbmNlKSAhPSBudWxsID8gX2EgOiA1MDtcbiAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgdG91Y2hFbmQuY3VycmVudCA9IG51bGw7XG4gICAgdG91Y2hTdGFydC5jdXJyZW50ID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICB9O1xuICBjb25zdCBvblRvdWNoTW92ZSA9IChldmVudCkgPT4ge1xuICAgIHRvdWNoRW5kLmN1cnJlbnQgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gIH07XG4gIGNvbnN0IG9uVG91Y2hFbmQgPSBSZWFjdDM5LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXRvdWNoU3RhcnQuY3VycmVudCB8fCAhdG91Y2hFbmQuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRvdWNoU3RhcnQuY3VycmVudCAtIHRvdWNoRW5kLmN1cnJlbnQ7XG4gICAgY29uc3QgaXNMZWZ0U3dpcGUgPSBkaXN0YW5jZSA+IG1pblN3aXBlRGlzdGFuY2U7XG4gICAgY29uc3QgaXNSaWdodFN3aXBlID0gZGlzdGFuY2UgPCAtbWluU3dpcGVEaXN0YW5jZTtcbiAgICBpZiAoaXNMZWZ0U3dpcGUgJiYgb3B0aW9ucy5vbkxlZnRTd2lwZSlcbiAgICAgIG9wdGlvbnMub25MZWZ0U3dpcGUoKTtcbiAgICBpZiAoaXNSaWdodFN3aXBlICYmIG9wdGlvbnMub25SaWdodFN3aXBlKVxuICAgICAgb3B0aW9ucy5vblJpZ2h0U3dpcGUoKTtcbiAgfSwgW21pblN3aXBlRGlzdGFuY2UsIG9wdGlvbnNdKTtcbiAgUmVhY3QzOS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRDb3B5ID0gZWxlbWVudC5jdXJyZW50O1xuICAgIGlmIChlbGVtZW50Q29weSkge1xuICAgICAgZWxlbWVudENvcHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25Ub3VjaFN0YXJ0LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICBlbGVtZW50Q29weS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICBlbGVtZW50Q29weS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgb25Ub3VjaEVuZCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnRDb3B5KSB7XG4gICAgICAgIGVsZW1lbnRDb3B5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG9uVG91Y2hTdGFydCk7XG4gICAgICAgIGVsZW1lbnRDb3B5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgb25Ub3VjaE1vdmUpO1xuICAgICAgICBlbGVtZW50Q29weS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgb25Ub3VjaEVuZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2VsZW1lbnQsIG9uVG91Y2hFbmRdKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNoYXRUb2dnbGUudHNcbmltcG9ydCB7IHNldHVwQ2hhdFRvZ2dsZSB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0NDAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDaGF0VG9nZ2xlKHsgcHJvcHMgfSkge1xuICBjb25zdCB7IGRpc3BhdGNoLCBzdGF0ZSB9ID0gdXNlTGF5b3V0Q29udGV4dCgpLndpZGdldDtcbiAgY29uc3QgeyBjbGFzc05hbWUgfSA9IFJlYWN0NDAudXNlTWVtbygoKSA9PiBzZXR1cENoYXRUb2dnbGUoKSwgW10pO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IFJlYWN0NDAudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMocHJvcHMsIHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKGRpc3BhdGNoKVxuICAgICAgICAgIGRpc3BhdGNoKHsgbXNnOiBcInRvZ2dsZV9jaGF0XCIgfSk7XG4gICAgICB9LFxuICAgICAgXCJhcmlhLXByZXNzZWRcIjogKHN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZS5zaG93Q2hhdCkgPyBcInRydWVcIiA6IFwiZmFsc2VcIixcbiAgICAgIFwiZGF0YS1say11bnJlYWQtbXNnc1wiOiBzdGF0ZSA/IHN0YXRlLnVucmVhZE1lc3NhZ2VzIDwgMTAgPyBzdGF0ZS51bnJlYWRNZXNzYWdlcy50b0ZpeGVkKDApIDogXCI5K1wiIDogXCIwXCJcbiAgICB9KTtcbiAgfSwgW3Byb3BzLCBjbGFzc05hbWUsIGRpc3BhdGNoLCBzdGF0ZV0pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wcyB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlVG9rZW4udHNcbmltcG9ydCB7IGxvZyBhcyBsb2c2IH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q0MSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVRva2VuKHRva2VuRW5kcG9pbnQsIHJvb21OYW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgW3Rva2VuLCBzZXRUb2tlbl0gPSBSZWFjdDQxLnVzZVN0YXRlKHZvaWQgMCk7XG4gIFJlYWN0NDEudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRva2VuRW5kcG9pbnQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJ0b2tlbiBlbmRwb2ludCBuZWVkcyB0byBiZSBkZWZpbmVkXCIpO1xuICAgIH1cbiAgICBpZiAoKChfYSA9IG9wdGlvbnMudXNlckluZm8pID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZGVudGl0eSkgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbkZldGNoZXIgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBsb2c2LmRlYnVnKFwiZmV0Y2hpbmcgdG9rZW5cIik7XG4gICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdGlvbnMudXNlckluZm8pLCB7IHJvb21OYW1lIH0pKTtcbiAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKGAke3Rva2VuRW5kcG9pbnR9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBsb2c2LmVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgZmV0Y2ggdG9rZW4uIFNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfTogJHtyZXMuc3RhdHVzVGV4dH1gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYWNjZXNzVG9rZW4gfSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgICBzZXRUb2tlbihhY2Nlc3NUb2tlbik7XG4gICAgfSk7XG4gICAgdG9rZW5GZXRjaGVyKCk7XG4gIH0sIFt0b2tlbkVuZHBvaW50LCByb29tTmFtZSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcbiAgcmV0dXJuIHRva2VuO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlVHJhY2tNdXRlZEluZGljYXRvci50c1xuaW1wb3J0IHtcbiAgc2V0dXBUcmFja011dGVkSW5kaWNhdG9yLFxuICBnZXRUcmFja1JlZmVyZW5jZUlkIGFzIGdldFRyYWNrUmVmZXJlbmNlSWQyXG59IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0NDIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VUcmFja011dGVkSW5kaWNhdG9yKHRyYWNrUmVmT3JTb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGxldCByZWYgPSB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xuICBjb25zdCBwID0gKF9iID0gKF9hID0gdXNlTWF5YmVQYXJ0aWNpcGFudENvbnRleHQoKSkgIT0gbnVsbCA/IF9hIDogb3B0aW9ucy5wYXJ0aWNpcGFudCkgIT0gbnVsbCA/IF9iIDogcmVmID09IG51bGwgPyB2b2lkIDAgOiByZWYucGFydGljaXBhbnQ7XG4gIGlmICh0eXBlb2YgdHJhY2tSZWZPclNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmICghcCkge1xuICAgICAgdGhyb3cgRXJyb3IoYFBhcnRpY2lwYW50IG1pc3NpbmcsIGVpdGhlciBwcm92aWRlIGl0IHZpYSBjb250ZXh0IG9yIHBhc3MgaXQgaW4gZGlyZWN0bHlgKTtcbiAgICB9XG4gICAgcmVmID0geyBwYXJ0aWNpcGFudDogcCwgc291cmNlOiB0cmFja1JlZk9yU291cmNlIH07XG4gIH0gZWxzZSBpZiAodHJhY2tSZWZPclNvdXJjZSkge1xuICAgIHJlZiA9IHRyYWNrUmVmT3JTb3VyY2U7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE5vIHRyYWNrIHJlZmVyZW5jZSBmb3VuZCwgZWl0aGVyIHByb3ZpZGUgaXQgdmlhIGNvbnRleHQgb3IgcGFzcyBpdCBpbiBkaXJlY3RseWApO1xuICB9XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCBtZWRpYU11dGVkT2JzZXJ2ZXIgfSA9IFJlYWN0NDIudXNlTWVtbyhcbiAgICAoKSA9PiBzZXR1cFRyYWNrTXV0ZWRJbmRpY2F0b3IocmVmKSxcbiAgICBbZ2V0VHJhY2tSZWZlcmVuY2VJZDIocmVmKV1cbiAgKTtcbiAgY29uc3QgaXNNdXRlZCA9IHVzZU9ic2VydmFibGVTdGF0ZShcbiAgICBtZWRpYU11dGVkT2JzZXJ2ZXIsXG4gICAgISEoKChfYyA9IHJlZi5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmlzTXV0ZWQpIHx8ICgoX2QgPSByZWYucGFydGljaXBhbnQuZ2V0VHJhY2socmVmLnNvdXJjZSkpID09IG51bGwgPyB2b2lkIDAgOiBfZC5pc011dGVkKSlcbiAgKTtcbiAgcmV0dXJuIHsgaXNNdXRlZCwgY2xhc3NOYW1lIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VUcmFja1RvZ2dsZS50c1xuaW1wb3J0IHsgc2V0dXBNZWRpYVRvZ2dsZSwgc2V0dXBNYW51YWxUb2dnbGUsIGxvZyBhcyBsb2c3IH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q0MyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVRyYWNrVG9nZ2xlKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgc291cmNlLFxuICAgIG9uQ2hhbmdlLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBjYXB0dXJlT3B0aW9uc1xuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInNvdXJjZVwiLFxuICAgIFwib25DaGFuZ2VcIixcbiAgICBcImluaXRpYWxTdGF0ZVwiLFxuICAgIFwiY2FwdHVyZU9wdGlvbnNcIlxuICBdKTtcbiAgdmFyIF9hMjtcbiAgY29uc3Qgcm9vbSA9IHVzZU1heWJlUm9vbUNvbnRleHQoKTtcbiAgY29uc3QgdHJhY2sgPSAoX2EyID0gcm9vbSA9PSBudWxsID8gdm9pZCAwIDogcm9vbS5sb2NhbFBhcnRpY2lwYW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmdldFRyYWNrKHNvdXJjZSk7XG4gIGNvbnN0IHVzZXJJbnRlcmFjdGlvblJlZiA9IFJlYWN0NDMudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgeyB0b2dnbGUsIGNsYXNzTmFtZSwgcGVuZGluZ09ic2VydmVyLCBlbmFibGVkT2JzZXJ2ZXIgfSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiByb29tID8gc2V0dXBNZWRpYVRvZ2dsZShzb3VyY2UsIHJvb20sIGNhcHR1cmVPcHRpb25zKSA6IHNldHVwTWFudWFsVG9nZ2xlKCksXG4gICAgW3Jvb20sIHNvdXJjZSwgSlNPTi5zdHJpbmdpZnkoY2FwdHVyZU9wdGlvbnMpXVxuICApO1xuICBjb25zdCBwZW5kaW5nID0gdXNlT2JzZXJ2YWJsZVN0YXRlKHBlbmRpbmdPYnNlcnZlciwgZmFsc2UpO1xuICBjb25zdCBlbmFibGVkID0gdXNlT2JzZXJ2YWJsZVN0YXRlKGVuYWJsZWRPYnNlcnZlciwgaW5pdGlhbFN0YXRlICE9IG51bGwgPyBpbml0aWFsU3RhdGUgOiAhISh0cmFjayA9PSBudWxsID8gdm9pZCAwIDogdHJhY2suaXNFbmFibGVkKSk7XG4gIFJlYWN0NDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkNoYW5nZSA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2UoZW5hYmxlZCwgdXNlckludGVyYWN0aW9uUmVmLmN1cnJlbnQpO1xuICAgIHVzZXJJbnRlcmFjdGlvblJlZi5jdXJyZW50ID0gZmFsc2U7XG4gIH0sIFtlbmFibGVkLCBvbkNoYW5nZV0pO1xuICBSZWFjdDQzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTdGF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBsb2c3LmRlYnVnKFwiZm9yY2luZyBpbml0aWFsIHRvZ2dsZSBzdGF0ZVwiLCBzb3VyY2UsIGluaXRpYWxTdGF0ZSk7XG4gICAgICB0b2dnbGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgbmV3UHJvcHMgPSBSZWFjdDQzLnVzZU1lbW8oKCkgPT4gbWVyZ2VQcm9wcyhyZXN0LCB7IGNsYXNzTmFtZSB9KSwgW3Jlc3QsIGNsYXNzTmFtZV0pO1xuICBjb25zdCBjbGlja0hhbmRsZXIgPSBSZWFjdDQzLnVzZUNhbGxiYWNrKFxuICAgIChldnQpID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICB1c2VySW50ZXJhY3Rpb25SZWYuY3VycmVudCA9IHRydWU7XG4gICAgICB0b2dnbGUoKS5maW5hbGx5KCgpID0+IHVzZXJJbnRlcmFjdGlvblJlZi5jdXJyZW50ID0gZmFsc2UpO1xuICAgICAgKF9hMyA9IHJlc3Qub25DbGljaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5jYWxsKHJlc3QsIGV2dCk7XG4gICAgfSxcbiAgICBbcmVzdCwgdG9nZ2xlXVxuICApO1xuICByZXR1cm4ge1xuICAgIHRvZ2dsZSxcbiAgICBlbmFibGVkLFxuICAgIHBlbmRpbmcsXG4gICAgdHJhY2ssXG4gICAgYnV0dG9uUHJvcHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG5ld1Byb3BzKSwge1xuICAgICAgXCJhcmlhLXByZXNzZWRcIjogZW5hYmxlZCxcbiAgICAgIFwiZGF0YS1say1zb3VyY2VcIjogc291cmNlLFxuICAgICAgXCJkYXRhLWxrLWVuYWJsZWRcIjogZW5hYmxlZCxcbiAgICAgIGRpc2FibGVkOiBwZW5kaW5nLFxuICAgICAgb25DbGljazogY2xpY2tIYW5kbGVyXG4gICAgfSlcbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVRyYWNrcy50c1xuaW1wb3J0IHtcbiAgaXNTb3VyY2VzV2l0aE9wdGlvbnMsXG4gIGlzU291cmNlV2l0T3B0aW9ucyxcbiAgbG9nIGFzIGxvZzgsXG4gIHRyYWNrUmVmZXJlbmNlc09ic2VydmFibGVcbn0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0IHsgVHJhY2sgYXMgVHJhY2syIH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdDQ0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlVHJhY2tzKHNvdXJjZXMgPSBbXG4gIFRyYWNrMi5Tb3VyY2UuQ2FtZXJhLFxuICBUcmFjazIuU291cmNlLk1pY3JvcGhvbmUsXG4gIFRyYWNrMi5Tb3VyY2UuU2NyZWVuU2hhcmUsXG4gIFRyYWNrMi5Tb3VyY2UuU2NyZWVuU2hhcmVBdWRpbyxcbiAgVHJhY2syLlNvdXJjZS5Vbmtub3duXG5dLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgcm9vbSA9IHVzZUVuc3VyZVJvb20ob3B0aW9ucy5yb29tKTtcbiAgY29uc3QgW3RyYWNrUmVmZXJlbmNlcywgc2V0VHJhY2tSZWZlcmVuY2VzXSA9IFJlYWN0NDQudXNlU3RhdGUoW10pO1xuICBjb25zdCBbcGFydGljaXBhbnRzLCBzZXRQYXJ0aWNpcGFudHNdID0gUmVhY3Q0NC51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IHNvdXJjZXNfID0gUmVhY3Q0NC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gc291cmNlcy5tYXAoKHMpID0+IGlzU291cmNlV2l0T3B0aW9ucyhzKSA/IHMuc291cmNlIDogcyk7XG4gIH0sIFtKU09OLnN0cmluZ2lmeShzb3VyY2VzKV0pO1xuICBSZWFjdDQ0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdHJhY2tSZWZlcmVuY2VzT2JzZXJ2YWJsZShyb29tLCBzb3VyY2VzXywge1xuICAgICAgYWRkaXRpb25hbFJvb21FdmVudHM6IG9wdGlvbnMudXBkYXRlT25seU9uLFxuICAgICAgb25seVN1YnNjcmliZWQ6IG9wdGlvbnMub25seVN1YnNjcmliZWRcbiAgICB9KS5zdWJzY3JpYmUoKHsgdHJhY2tSZWZlcmVuY2VzOiB0cmFja1JlZmVyZW5jZXMyLCBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50czIgfSkgPT4ge1xuICAgICAgbG9nOC5kZWJ1ZyhcInNldHRpbmcgdHJhY2sgYnVuZGxlc1wiLCB0cmFja1JlZmVyZW5jZXMyLCBwYXJ0aWNpcGFudHMyKTtcbiAgICAgIHNldFRyYWNrUmVmZXJlbmNlcyh0cmFja1JlZmVyZW5jZXMyKTtcbiAgICAgIHNldFBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHMyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtyb29tLCBKU09OLnN0cmluZ2lmeShvcHRpb25zLnVwZGF0ZU9ubHlPbiksIEpTT04uc3RyaW5naWZ5KHNvdXJjZXMpXSk7XG4gIGNvbnN0IG1heWJlVHJhY2tSZWZlcmVuY2VzID0gUmVhY3Q0NC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoaXNTb3VyY2VzV2l0aE9wdGlvbnMoc291cmNlcykpIHtcbiAgICAgIGNvbnN0IHJlcXVpcmVQbGFjZWhvbGRlciA9IHJlcXVpcmVkUGxhY2Vob2xkZXJzKHNvdXJjZXMsIHBhcnRpY2lwYW50cyk7XG4gICAgICBjb25zdCB0cmFja1JlZmVyZW5jZXNXaXRoUGxhY2Vob2xkZXJzID0gQXJyYXkuZnJvbSh0cmFja1JlZmVyZW5jZXMpO1xuICAgICAgcGFydGljaXBhbnRzLmZvckVhY2goKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHJlcXVpcmVQbGFjZWhvbGRlci5oYXMocGFydGljaXBhbnQuaWRlbnRpdHkpKSB7XG4gICAgICAgICAgY29uc3Qgc291cmNlc1RvQWRkUGxhY2Vob2xkZXIgPSAoX2EgPSByZXF1aXJlUGxhY2Vob2xkZXIuZ2V0KHBhcnRpY2lwYW50LmlkZW50aXR5KSkgIT0gbnVsbCA/IF9hIDogW107XG4gICAgICAgICAgc291cmNlc1RvQWRkUGxhY2Vob2xkZXIuZm9yRWFjaCgocGxhY2Vob2xkZXJTb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGlmICh0cmFja1JlZmVyZW5jZXMuZmluZChcbiAgICAgICAgICAgICAgKHsgcGFydGljaXBhbnQ6IHAsIHB1YmxpY2F0aW9uIH0pID0+IHBhcnRpY2lwYW50LmlkZW50aXR5ID09PSBwLmlkZW50aXR5ICYmIHB1YmxpY2F0aW9uLnNvdXJjZSA9PT0gcGxhY2Vob2xkZXJTb3VyY2VcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nOC5kZWJ1ZyhcbiAgICAgICAgICAgICAgYEFkZCAke3BsYWNlaG9sZGVyU291cmNlfSBwbGFjZWhvbGRlciBmb3IgcGFydGljaXBhbnQgJHtwYXJ0aWNpcGFudC5pZGVudGl0eX0uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0ge1xuICAgICAgICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgICAgICAgc291cmNlOiBwbGFjZWhvbGRlclNvdXJjZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYWNrUmVmZXJlbmNlc1dpdGhQbGFjZWhvbGRlcnMucHVzaChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRyYWNrUmVmZXJlbmNlc1dpdGhQbGFjZWhvbGRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cmFja1JlZmVyZW5jZXM7XG4gICAgfVxuICB9LCBbdHJhY2tSZWZlcmVuY2VzLCBwYXJ0aWNpcGFudHMsIHNvdXJjZXNdKTtcbiAgcmV0dXJuIG1heWJlVHJhY2tSZWZlcmVuY2VzO1xufVxuZnVuY3Rpb24gZGlmZmVyZW5jZShzZXRBLCBzZXRCKSB7XG4gIGNvbnN0IF9kaWZmZXJlbmNlID0gbmV3IFNldChzZXRBKTtcbiAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICBfZGlmZmVyZW5jZS5kZWxldGUoZWxlbSk7XG4gIH1cbiAgcmV0dXJuIF9kaWZmZXJlbmNlO1xufVxuZnVuY3Rpb24gcmVxdWlyZWRQbGFjZWhvbGRlcnMoc291cmNlcywgcGFydGljaXBhbnRzKSB7XG4gIGNvbnN0IHBsYWNlaG9sZGVyTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgaWYgKGlzU291cmNlc1dpdGhPcHRpb25zKHNvdXJjZXMpKSB7XG4gICAgY29uc3Qgc291cmNlc1RoYXROZWVkUGxhY2Vob2xkZXIgPSBzb3VyY2VzLmZpbHRlcigoc291cmNlV2l0aE9wdGlvbikgPT4gc291cmNlV2l0aE9wdGlvbi53aXRoUGxhY2Vob2xkZXIpLm1hcCgoc291cmNlV2l0aE9wdGlvbikgPT4gc291cmNlV2l0aE9wdGlvbi5zb3VyY2UpO1xuICAgIHBhcnRpY2lwYW50cy5mb3JFYWNoKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgY29uc3Qgc291cmNlc09mU3Vic2NyaWJlZFRyYWNrcyA9IHBhcnRpY2lwYW50LmdldFRyYWNrcygpLm1hcCgocHViKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHB1Yi50cmFjaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNvdXJjZTtcbiAgICAgIH0pLmZpbHRlcigodHJhY2tTb3VyY2UpID0+IHRyYWNrU291cmNlICE9PSB2b2lkIDApO1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXJOZWVkZWRGb3JUaGlzUGFydGljaXBhbnQgPSBBcnJheS5mcm9tKFxuICAgICAgICBkaWZmZXJlbmNlKG5ldyBTZXQoc291cmNlc1RoYXROZWVkUGxhY2Vob2xkZXIpLCBuZXcgU2V0KHNvdXJjZXNPZlN1YnNjcmliZWRUcmFja3MpKVxuICAgICAgKTtcbiAgICAgIGlmIChwbGFjZWhvbGRlck5lZWRlZEZvclRoaXNQYXJ0aWNpcGFudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBsYWNlaG9sZGVyTWFwLnNldChwYXJ0aWNpcGFudC5pZGVudGl0eSwgcGxhY2Vob2xkZXJOZWVkZWRGb3JUaGlzUGFydGljaXBhbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwbGFjZWhvbGRlck1hcDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVRyYWNrLnRzXG5mdW5jdGlvbiB1c2VUcmFjayh0cmFja1JlZiwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiB1c2VNZWRpYVRyYWNrQnlTb3VyY2VPck5hbWUodHJhY2tSZWYsIG9wdGlvbnMpO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlVHJhY2tCeU5hbWUudHNcbmZ1bmN0aW9uIHVzZVRyYWNrQnlOYW1lKHRyYWNrUmVmLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgcmVmID0gdXNlRW5zdXJlVHJhY2tSZWYodHJhY2tSZWYpO1xuICByZXR1cm4gdXNlTWVkaWFUcmFja0J5U291cmNlT3JOYW1lKHJlZiwgb3B0aW9ucyk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VDaGF0LnRzXG5pbXBvcnQgeyBzZXR1cENoYXQgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDQ1IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ2hhdChvcHRpb25zKSB7XG4gIGNvbnN0IHJvb20gPSB1c2VSb29tQ29udGV4dCgpO1xuICBjb25zdCBbc2V0dXAsIHNldFNldHVwXSA9IFJlYWN0NDUudXNlU3RhdGUoKTtcbiAgY29uc3QgaXNTZW5kaW5nID0gdXNlT2JzZXJ2YWJsZVN0YXRlKHNldHVwID09IG51bGwgPyB2b2lkIDAgOiBzZXR1cC5pc1NlbmRpbmdPYnNlcnZhYmxlLCBmYWxzZSk7XG4gIGNvbnN0IGNoYXRNZXNzYWdlcyA9IHVzZU9ic2VydmFibGVTdGF0ZShzZXR1cCA9PSBudWxsID8gdm9pZCAwIDogc2V0dXAubWVzc2FnZU9ic2VydmFibGUsIFtdKTtcbiAgUmVhY3Q0NS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNldHVwQ2hhdFJldHVybiA9IHNldHVwQ2hhdChyb29tLCBvcHRpb25zKTtcbiAgICBzZXRTZXR1cChzZXR1cENoYXRSZXR1cm4pO1xuICB9LCBbcm9vbSwgb3B0aW9uc10pO1xuICByZXR1cm4geyBzZW5kOiBzZXR1cCA9PSBudWxsID8gdm9pZCAwIDogc2V0dXAuc2VuZCwgdXBkYXRlOiBzZXR1cCA9PSBudWxsID8gdm9pZCAwIDogc2V0dXAudXBkYXRlLCBjaGF0TWVzc2FnZXMsIGlzU2VuZGluZyB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUGVyc2lzdGVudFVzZXJDaG9pY2VzLnRzXG5pbXBvcnQgeyBsb2FkVXNlckNob2ljZXMsIHNhdmVVc2VyQ2hvaWNlcyB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0NDYgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VQZXJzaXN0ZW50VXNlckNob2ljZXMob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgW3VzZXJDaG9pY2VzLCBzZXRTZXR0aW5nc10gPSBSZWFjdDQ2LnVzZVN0YXRlKFxuICAgIGxvYWRVc2VyQ2hvaWNlcyhvcHRpb25zLmRlZmF1bHRzLCAoX2EgPSBvcHRpb25zLnByZXZlbnRMb2FkKSAhPSBudWxsID8gX2EgOiBmYWxzZSlcbiAgKTtcbiAgY29uc3Qgc2F2ZUF1ZGlvSW5wdXRFbmFibGVkID0gUmVhY3Q0Ni51c2VDYWxsYmFjaygoaXNFbmFibGVkKSA9PiB7XG4gICAgc2V0U2V0dGluZ3MoKHByZXYpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXYpLCB7IGF1ZGlvRW5hYmxlZDogaXNFbmFibGVkIH0pKTtcbiAgfSwgW10pO1xuICBjb25zdCBzYXZlVmlkZW9JbnB1dEVuYWJsZWQgPSBSZWFjdDQ2LnVzZUNhbGxiYWNrKChpc0VuYWJsZWQpID0+IHtcbiAgICBzZXRTZXR0aW5ncygocHJldikgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldiksIHsgdmlkZW9FbmFibGVkOiBpc0VuYWJsZWQgfSkpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNhdmVBdWRpb0lucHV0RGV2aWNlSWQgPSBSZWFjdDQ2LnVzZUNhbGxiYWNrKChkZXZpY2VJZCkgPT4ge1xuICAgIHNldFNldHRpbmdzKChwcmV2KSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2KSwgeyBhdWRpb0RldmljZUlkOiBkZXZpY2VJZCB9KSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZCA9IFJlYWN0NDYudXNlQ2FsbGJhY2soKGRldmljZUlkKSA9PiB7XG4gICAgc2V0U2V0dGluZ3MoKHByZXYpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXYpLCB7IHZpZGVvRGV2aWNlSWQ6IGRldmljZUlkIH0pKTtcbiAgfSwgW10pO1xuICBjb25zdCBzYXZlVXNlcm5hbWUgPSBSZWFjdDQ2LnVzZUNhbGxiYWNrKCh1c2VybmFtZSkgPT4ge1xuICAgIHNldFNldHRpbmdzKChwcmV2KSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2KSwgeyB1c2VybmFtZSB9KSk7XG4gIH0sIFtdKTtcbiAgUmVhY3Q0Ni51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgc2F2ZVVzZXJDaG9pY2VzKHVzZXJDaG9pY2VzLCAoX2EyID0gb3B0aW9ucy5wcmV2ZW50U2F2ZSkgIT0gbnVsbCA/IF9hMiA6IGZhbHNlKTtcbiAgfSwgW3VzZXJDaG9pY2VzLCBvcHRpb25zLnByZXZlbnRTYXZlXSk7XG4gIHJldHVybiB7XG4gICAgdXNlckNob2ljZXMsXG4gICAgc2F2ZUF1ZGlvSW5wdXRFbmFibGVkLFxuICAgIHNhdmVWaWRlb0lucHV0RW5hYmxlZCxcbiAgICBzYXZlQXVkaW9JbnB1dERldmljZUlkLFxuICAgIHNhdmVWaWRlb0lucHV0RGV2aWNlSWQsXG4gICAgc2F2ZVVzZXJuYW1lXG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VJc0VuY3J5cHRlZC50c1xuaW1wb3J0ICogYXMgUmVhY3Q0NyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExvY2FsUGFydGljaXBhbnQgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IGVuY3J5cHRpb25TdGF0dXNPYnNlcnZhYmxlIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuZnVuY3Rpb24gdXNlSXNFbmNyeXB0ZWQocGFydGljaXBhbnQpIHtcbiAgY29uc3QgcCA9IHVzZUVuc3VyZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50KTtcbiAgY29uc3Qgcm9vbSA9IHVzZUVuc3VyZVJvb20oKTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBSZWFjdDQ3LnVzZU1lbW8oKCkgPT4gZW5jcnlwdGlvblN0YXR1c09ic2VydmFibGUocm9vbSwgcCksIFtyb29tLCBwXSk7XG4gIGNvbnN0IGlzRW5jcnlwdGVkID0gdXNlT2JzZXJ2YWJsZVN0YXRlKFxuICAgIG9ic2VydmVyLFxuICAgIHAgaW5zdGFuY2VvZiBMb2NhbFBhcnRpY2lwYW50ID8gcC5pc0UyRUVFbmFibGVkIDogcC5pc0VuY3J5cHRlZFxuICApO1xuICByZXR1cm4gaXNFbmNyeXB0ZWQ7XG59XG5cbi8vIHNyYy9ob29rcy91c2VUcmFja1ZvbHVtZS50c1xuaW1wb3J0ICogYXMgUmVhY3Q0OCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRyYWNrIGFzIFRyYWNrMywgY3JlYXRlQXVkaW9BbmFseXNlciB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IHtcbiAgaXNUcmFja1JlZmVyZW5jZSBhcyBpc1RyYWNrUmVmZXJlbmNlMlxufSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG52YXIgdXNlVHJhY2tWb2x1bWUgPSAodHJhY2tPclRyYWNrUmVmZXJlbmNlLCBvcHRpb25zID0geyBmZnRTaXplOiAzMiwgc21vb3RoaW5nVGltZUNvbnN0YW50OiAwIH0pID0+IHtcbiAgY29uc3QgdHJhY2sgPSBpc1RyYWNrUmVmZXJlbmNlMih0cmFja09yVHJhY2tSZWZlcmVuY2UpID8gdHJhY2tPclRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uLnRyYWNrIDogdHJhY2tPclRyYWNrUmVmZXJlbmNlO1xuICBjb25zdCBbdm9sdW1lLCBzZXRWb2x1bWVdID0gUmVhY3Q0OC51c2VTdGF0ZSgwKTtcbiAgUmVhY3Q0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdHJhY2sgfHwgIXRyYWNrLm1lZGlhU3RyZWFtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgY2xlYW51cCwgYW5hbHlzZXIgfSA9IGNyZWF0ZUF1ZGlvQW5hbHlzZXIodHJhY2ssIG9wdGlvbnMpO1xuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50O1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlckxlbmd0aCk7XG4gICAgY29uc3QgdXBkYXRlVm9sdW1lID0gKCkgPT4ge1xuICAgICAgYW5hbHlzZXIuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoZGF0YUFycmF5KTtcbiAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGRhdGFBcnJheVtpXTtcbiAgICAgICAgc3VtICs9IGEgKiBhO1xuICAgICAgfVxuICAgICAgc2V0Vm9sdW1lKE1hdGguc3FydChzdW0gLyBkYXRhQXJyYXkubGVuZ3RoKSAvIDI1NSk7XG4gICAgfTtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVZvbHVtZSwgMWUzIC8gMzApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9O1xuICB9LCBbdHJhY2ssIHRyYWNrID09IG51bGwgPyB2b2lkIDAgOiB0cmFjay5tZWRpYVN0cmVhbSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcbiAgcmV0dXJuIHZvbHVtZTtcbn07XG52YXIgbm9ybWFsaXplRnJlcXVlbmNpZXMgPSAoZnJlcXVlbmNpZXMpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplRGIgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBtaW5EYiA9IC0xMDA7XG4gICAgY29uc3QgbWF4RGIgPSAtMTA7XG4gICAgbGV0IGRiID0gMSAtIE1hdGgubWF4KG1pbkRiLCBNYXRoLm1pbihtYXhEYiwgdmFsdWUpKSAqIC0xIC8gMTAwO1xuICAgIGRiID0gTWF0aC5zcXJ0KGRiKTtcbiAgICByZXR1cm4gZGI7XG4gIH07XG4gIHJldHVybiBmcmVxdWVuY2llcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSAtSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplRGIodmFsdWUpO1xuICB9KTtcbn07XG52YXIgbXVsdGliYW5kRGVmYXVsdHMgPSB7XG4gIGJhbmRzOiA1LFxuICBsb1Bhc3M6IDEwMCxcbiAgaGlQYXNzOiA2MDAsXG4gIHVwZGF0ZUludGVydmFsOiAxMCxcbiAgYW5hbHlzZXJPcHRpb25zOiB7IGZmdFNpemU6IDIwNDggfVxufTtcbnZhciB1c2VNdWx0aWJhbmRUcmFja1ZvbHVtZSA9ICh0cmFja09yVHJhY2tSZWZlcmVuY2UsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRyYWNrID0gdHJhY2tPclRyYWNrUmVmZXJlbmNlIGluc3RhbmNlb2YgVHJhY2szID8gdHJhY2tPclRyYWNrUmVmZXJlbmNlIDogKF9hID0gdHJhY2tPclRyYWNrUmVmZXJlbmNlID09IG51bGwgPyB2b2lkIDAgOiB0cmFja09yVHJhY2tSZWZlcmVuY2UucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmFjaztcbiAgY29uc3QgW2ZyZXF1ZW5jeUJhbmRzLCBzZXRGcmVxdWVuY3lCYW5kc10gPSBSZWFjdDQ4LnVzZVN0YXRlKFtdKTtcbiAgY29uc3Qgb3B0cyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBtdWx0aWJhbmREZWZhdWx0cyksIG9wdGlvbnMpO1xuICBSZWFjdDQ4LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0cmFjayB8fCAhKHRyYWNrID09IG51bGwgPyB2b2lkIDAgOiB0cmFjay5tZWRpYVN0cmVhbSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBhbmFseXNlciwgY2xlYW51cCB9ID0gY3JlYXRlQXVkaW9BbmFseXNlcih0cmFjaywgb3B0cy5hbmFseXNlck9wdGlvbnMpO1xuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50O1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICBjb25zdCB1cGRhdGVWb2x1bWUgPSAoKSA9PiB7XG4gICAgICBhbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZGF0YUFycmF5KTtcbiAgICAgIGxldCBmcmVxdWVuY2llcyA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YUFycmF5Lmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmcmVxdWVuY2llc1tpXSA9IGRhdGFBcnJheVtpXTtcbiAgICAgIH1cbiAgICAgIGZyZXF1ZW5jaWVzID0gZnJlcXVlbmNpZXMuc2xpY2Uob3B0aW9ucy5sb1Bhc3MsIG9wdGlvbnMuaGlQYXNzKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcmVxdWVuY2llcyA9IG5vcm1hbGl6ZUZyZXF1ZW5jaWVzKGZyZXF1ZW5jaWVzKTtcbiAgICAgIGNvbnN0IGNodW5rU2l6ZSA9IE1hdGguY2VpbChub3JtYWxpemVkRnJlcXVlbmNpZXMubGVuZ3RoIC8gb3B0cy5iYW5kcyk7XG4gICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0cy5iYW5kczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN1bW1lZFZvbHVtZXMgPSBub3JtYWxpemVkRnJlcXVlbmNpZXMuc2xpY2UoaSAqIGNodW5rU2l6ZSwgKGkgKyAxKSAqIGNodW5rU2l6ZSkucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjICs9IHZhbCwgMCk7XG4gICAgICAgIGNodW5rcy5wdXNoKHN1bW1lZFZvbHVtZXMgLyBjaHVua1NpemUpO1xuICAgICAgfVxuICAgICAgc2V0RnJlcXVlbmN5QmFuZHMoY2h1bmtzKTtcbiAgICB9O1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlVm9sdW1lLCBvcHRzLnVwZGF0ZUludGVydmFsKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfTtcbiAgfSwgW3RyYWNrLCB0cmFjayA9PSBudWxsID8gdm9pZCAwIDogdHJhY2subWVkaWFTdHJlYW0sIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gIHJldHVybiBmcmVxdWVuY3lCYW5kcztcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbnRyb2xzL0NsZWFyUGluQnV0dG9uLnRzeFxuZnVuY3Rpb24gQ2xlYXJQaW5CdXR0b24ocHJvcHMpIHtcbiAgY29uc3QgeyBidXR0b25Qcm9wcyB9ID0gdXNlQ2xlYXJQaW5CdXR0b24ocHJvcHMpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgYnV0dG9uUHJvcHMpLCBwcm9wcy5jaGlsZHJlbik7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL0Nvbm5lY3Rpb25TdGF0ZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBDb25uZWN0aW9uU3RhdGUzKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7IHJvb20gfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wicm9vbVwiXSk7XG4gIGNvbnN0IGNvbm5lY3Rpb25TdGF0ZSA9IHVzZUNvbm5lY3Rpb25TdGF0ZShyb29tKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgY29ubmVjdGlvblN0YXRlKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvY29udHJvbHMvQ2hhdFRvZ2dsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBDaGF0VG9nZ2xlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVyZ2VkUHJvcHMgfSA9IHVzZUNoYXRUb2dnbGUoeyBwcm9wcyB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgX19zcHJlYWRWYWx1ZXMoe30sIG1lcmdlZFByb3BzKSwgcHJvcHMuY2hpbGRyZW4pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jb250cm9scy9EaXNjb25uZWN0QnV0dG9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1MiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIERpc2Nvbm5lY3RCdXR0b24ocHJvcHMpIHtcbiAgY29uc3QgeyBidXR0b25Qcm9wcyB9ID0gdXNlRGlzY29ubmVjdEJ1dHRvbihwcm9wcyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBidXR0b25Qcm9wcyksIHByb3BzLmNoaWxkcmVuKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvY29udHJvbHMvRm9jdXNUb2dnbGUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDcyIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL0NhbWVyYURpc2FibGVkSWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTMgZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnQ2FtZXJhRGlzYWJsZWRJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xLjM1NC42NDZhLjUuNSAwIDEgMC0uNzA4LjcwOGwxNCAxNGEuNS41IDAgMCAwIC43MDgtLjcwOEwxMSAxMC4yOTNWNC41QTEuNSAxLjUgMCAwIDAgOS41IDNIMy43MDd6TTAgNC41YTEuNSAxLjUgMCAwIDEgLjk0My0xLjM5M2w5LjUzMiA5LjUzM2MtLjI2Mi4yMjQtLjYwMy4zNi0uOTc1LjM2aC04QTEuNSAxLjUgMCAwIDEgMCAxMS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwibTE1LjIgMy42LTIuOCAyLjFhMSAxIDAgMCAwLS40Ljh2M2ExIDEgMCAwIDAgLjQuOGwyLjggMi4xYS41LjUgMCAwIDAgLjgtLjRWNGEuNS41IDAgMCAwLS44LS40elwiIH0pKTtcbnZhciBDYW1lcmFEaXNhYmxlZEljb25fZGVmYXVsdCA9IFN2Z0NhbWVyYURpc2FibGVkSWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9DYW1lcmFJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1NCBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdDYW1lcmFJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDQuNUExLjUgMS41IDAgMCAxIDEuNSAzaDhBMS41IDEuNSAwIDAgMSAxMSA0LjV2N0ExLjUgMS41IDAgMCAxIDkuNSAxM2gtOEExLjUgMS41IDAgMCAxIDAgMTEuNXpNMTUuMiAzLjZsLTIuOCAyLjFhMSAxIDAgMCAwLS40Ljh2M2ExIDEgMCAwIDAgLjQuOGwyLjggMi4xYS41LjUgMCAwIDAgLjgtLjRWNGEuNS41IDAgMCAwLS44LS40elwiIH0pKTtcbnZhciBDYW1lcmFJY29uX2RlZmF1bHQgPSBTdmdDYW1lcmFJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL0NoYXRDbG9zZUljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDU1IGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z0NoYXRDbG9zZUljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU1LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIGQ6IFwiTTQuOTkgMy45OWExIDEgMCAwIDAtLjY5NyAxLjcxN0wxMC41ODYgMTJsLTYuMjkzIDYuMjkzYTEgMSAwIDEgMCAxLjQxNCAxLjQxNEwxMiAxMy40MTRsNi4yOTMgNi4yOTNhMSAxIDAgMSAwIDEuNDE0LTEuNDE0TDEzLjQxNCAxMmw2LjI5My02LjI5M2ExIDEgMCAwIDAtLjcyNy0xLjcxNyAxIDEgMCAwIDAtLjY4Ny4zMDNMMTIgMTAuNTg2IDUuNzA3IDQuMjkzYTEgMSAwIDAgMC0uNzE3LS4zMDN6XCJcbiAgfVxuKSk7XG52YXIgQ2hhdENsb3NlSWNvbl9kZWZhdWx0ID0gU3ZnQ2hhdENsb3NlSWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9DaGF0SWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTYgZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnQ2hhdEljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU2LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTgsIGZpbGw6IFwibm9uZVwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTYuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0wIDIuNzVBMi43NSAyLjc1IDAgMCAxIDIuNzUgMGgxMC41QTIuNzUgMi43NSAwIDAgMSAxNiAyLjc1djEzLjU5NGEuNzUuNzUgMCAwIDEtMS4yMzQuNTcybC0zLjY5MS0zLjEyYTEuMjUgMS4yNSAwIDAgMC0uODA3LS4yOTZIMi43NUEyLjc1IDIuNzUgMCAwIDEgMCAxMC43NXYtOFpNMi43NSAxLjVjLS42OSAwLTEuMjUuNTYtMS4yNSAxLjI1djhjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNy41MThjLjY1IDAgMS4yNzkuMjMgMS43NzUuNjVsMi40NTcgMi4wNzdWMi43NWMwLS42OS0uNTYtMS4yNS0xLjI1LTEuMjVIMi43NVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTYuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0zIDQuNWEuNS41IDAgMCAxIC41LS41aDlhLjUuNSAwIDAgMSAwIDFoLTlhLjUuNSAwIDAgMS0uNS0uNVptMCAyYS41LjUgMCAwIDEgLjUtLjVoOWEuNS41IDAgMCAxIDAgMWgtOWEuNS41IDAgMCAxLS41LS41Wm0wIDJhLjUuNSAwIDAgMSAuNS0uNWg1YS41LjUgMCAwIDEgMCAxaC01YS41LjUgMCAwIDEtLjUtLjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpO1xudmFyIENoYXRJY29uX2RlZmF1bHQgPSBTdmdDaGF0SWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9DaGV2cm9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1NyBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdDaGV2cm9uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Ny5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU3LmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNS4yOTMgMi4yOTNhMSAxIDAgMCAxIDEuNDE0IDBsNC44MjMgNC44MjNhMS4yNSAxLjI1IDAgMCAxIDAgMS43NjhsLTQuODIzIDQuODIzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNEw5LjU4NiA4IDUuMjkzIDMuNzA3YTEgMSAwIDAgMSAwLTEuNDE0elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pKTtcbnZhciBDaGV2cm9uX2RlZmF1bHQgPSBTdmdDaGV2cm9uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL0ZvY3VzVG9nZ2xlSWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTggZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnRm9jdXNUb2dnbGVJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1OC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU4LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiAxLjUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTguY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMCAxLjc1aDQuMjVtMCAwVjZtMC00LjI1TDkgN002IDE0LjI1SDEuNzVtMCAwVjEwbTAgNC4yNUw3IDlcIiB9KSkpO1xudmFyIEZvY3VzVG9nZ2xlSWNvbl9kZWZhdWx0ID0gU3ZnRm9jdXNUb2dnbGVJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL0dlYXJJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1OSBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdHZWFySWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NTkuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1OS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIgMi43NUEyLjc1IDIuNzUgMCAwIDEgNC43NSAwaDYuNUEyLjc1IDIuNzUgMCAwIDEgMTQgMi43NXYxMC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di0uNWEuNzUuNzUgMCAwIDEgMS41IDB2LjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNi41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNWgtNi41Yy0uNjkgMC0xLjI1LjU2LTEuMjUgMS4yNXYuNWEuNzUuNzUgMCAwIDEtMS41IDB2LS41WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1OS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTguNzggNy40N2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0yLjI1IDIuMjVhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNmwuOTctLjk3SDEuNzVhLjc1Ljc1IDAgMCAxIDAtMS41aDQuNjlsLS45Ny0uOTdhLjc1Ljc1IDAgMCAxIDEuMDYtMS4wNmwyLjI1IDIuMjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpO1xudmFyIEdlYXJJY29uX2RlZmF1bHQgPSBTdmdHZWFySWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9MZWF2ZUljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDYwIGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z0xlYXZlSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NjAuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIgMi43NUEyLjc1IDIuNzUgMCAwIDEgNC43NSAwaDYuNUEyLjc1IDIuNzUgMCAwIDEgMTQgMi43NXYxMC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di0uNWEuNzUuNzUgMCAwIDEgMS41IDB2LjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNi41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNWgtNi41Yy0uNjkgMC0xLjI1LjU2LTEuMjUgMS4yNXYuNWEuNzUuNzUgMCAwIDEtMS41IDB2LS41WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTguNzggNy40N2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0yLjI1IDIuMjVhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNmwuOTctLjk3SDEuNzVhLjc1Ljc1IDAgMCAxIDAtMS41aDQuNjlsLS45Ny0uOTdhLjc1Ljc1IDAgMCAxIDEuMDYtMS4wNmwyLjI1IDIuMjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpO1xudmFyIExlYXZlSWNvbl9kZWZhdWx0ID0gU3ZnTGVhdmVJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL0xvY2tMb2NrZWRJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q2MSBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdMb2NrTG9ja2VkSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NjEuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2MS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQgNi4xMDRWNGE0IDQgMCAxIDEgOCAwdjIuMTA0YzEuMTU0LjMyNiAyIDEuMzg3IDIgMi42NDZ2NC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di00LjVjMC0xLjI1OS44NDYtMi4zMiAyLTIuNjQ2Wk01LjUgNGEyLjUgMi41IDAgMCAxIDUgMHYyaC01VjRaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpO1xudmFyIExvY2tMb2NrZWRJY29uX2RlZmF1bHQgPSBTdmdMb2NrTG9ja2VkSWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9NaWNEaXNhYmxlZEljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDYyIGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z01pY0Rpc2FibGVkSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NjIuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYyLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIuMjI3IDExLjUyYTUuNDc3IDUuNDc3IDAgMCAwIDEuMjQ2LTIuOTcuNS41IDAgMCAwLS45OTUtLjEgNC40NzggNC40NzggMCAwIDEtLjk2MiAyLjM1OWwtMS4wNy0xLjA3QzEwLjc5NCA5LjI0NyAxMSA4LjY0NyAxMSA4VjNhMyAzIDAgMCAwLTYgMHYxLjI5M0wxLjM1NC42NDZhLjUuNSAwIDEgMC0uNzA4LjcwOGwxNCAxNGEuNS41IDAgMCAwIC43MDgtLjcwOHpNOCAxMi41Yy42ODMgMCAxLjMzLS4xNTIgMS45MTEtLjQyNWwuNzQzLjc0M2MtLjY0OS4zNTktMS4zNzguNTktMi4xNTQuNjZWMTVoMmEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxIDAtMWgydi0xLjUyMmE1LjUwMiA1LjUwMiAwIDAgMS00Ljk3My00LjkyOS41LjUgMCAwIDEgLjk5NS0uMDk4QTQuNSA0LjUgMCAwIDAgOCAxMi41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Mi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTguNzQzIDEwLjkwNyA1IDcuMTY0VjhhMyAzIDAgMCAwIDMuNzQzIDIuOTA3elwiIH0pKTtcbnZhciBNaWNEaXNhYmxlZEljb25fZGVmYXVsdCA9IFN2Z01pY0Rpc2FibGVkSWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9NaWNJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q2MyBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdNaWNJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2My5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjMuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMi45NzUgOC4wMDJhLjUuNSAwIDAgMSAuNTQ3LjQ0OSA0LjUgNC41IDAgMCAwIDguOTU2IDAgLjUuNSAwIDEgMSAuOTk1LjA5OEE1LjUwMiA1LjUwMiAwIDAgMSA4LjUgMTMuNDc4VjE1aDJhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMSAwLTFoMnYtMS41MjJhNS41MDIgNS41MDIgMCAwIDEtNC45NzMtNC45MjkuNS41IDAgMCAxIC40NDgtLjU0N3pcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjMuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk01IDNhMyAzIDAgMSAxIDYgMHY1YTMgMyAwIDAgMS02IDB6XCIgfSkpO1xudmFyIE1pY0ljb25fZGVmYXVsdCA9IFN2Z01pY0ljb247XG5cbi8vIHNyYy9hc3NldHMvaWNvbnMvUXVhbGl0eUV4Y2VsbGVudEljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDY0IGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z1F1YWxpdHlFeGNlbGxlbnRJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2NC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSk7XG52YXIgUXVhbGl0eUV4Y2VsbGVudEljb25fZGVmYXVsdCA9IFN2Z1F1YWxpdHlFeGNlbGxlbnRJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL1F1YWxpdHlHb29kSWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NjUgZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnUXVhbGl0eUdvb2RJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2NS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2NS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY1LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2NS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIC41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY1LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIgLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSkpO1xudmFyIFF1YWxpdHlHb29kSWNvbl9kZWZhdWx0ID0gU3ZnUXVhbGl0eUdvb2RJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL1F1YWxpdHlQb29ySWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NjYgZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnUXVhbGl0eVBvb3JJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ni5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjYuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ni5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY2LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ni5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYgNi41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjYuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk02IDYuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ni5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIC41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSkpKTtcbnZhciBRdWFsaXR5UG9vckljb25fZGVmYXVsdCA9IFN2Z1F1YWxpdHlQb29ySWNvbjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy9RdWFsaXR5VW5rbm93bkljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDY3IGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z1F1YWxpdHlVbmtub3duSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NjcuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY3LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ny5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTRabTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTlabTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41Vi41WlwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2Ny5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTRabTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTlabTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41Vi41WlwiIH0pKSk7XG52YXIgUXVhbGl0eVVua25vd25JY29uX2RlZmF1bHQgPSBTdmdRdWFsaXR5VW5rbm93bkljb247XG5cbi8vIHNyYy9hc3NldHMvaWNvbnMvU2NyZWVuU2hhcmVJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q2OCBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdTY3JlZW5TaGFyZUljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY4LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMjAsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjguY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0wIDIuNzVBMi43NSAyLjc1IDAgMCAxIDIuNzUgMGgxNC41QTIuNzUgMi43NSAwIDAgMSAyMCAyLjc1djEwLjVBMi43NSAyLjc1IDAgMCAxIDE3LjI1IDE2SDIuNzVBMi43NSAyLjc1IDAgMCAxIDAgMTMuMjVWMi43NVpNMi43NSAxLjVjLS42OSAwLTEuMjUuNTYtMS4yNSAxLjI1djEwLjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoMTQuNWMuNjkgMCAxLjI1LS41NiAxLjI1LTEuMjVWMi43NWMwLS42OS0uNTYtMS4yNS0xLjI1LTEuMjVIMi43NVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjguY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk05LjQ3IDQuMjJhLjc1Ljc1IDAgMCAxIDEuMDYgMGwyLjI1IDIuMjVhLjc1Ljc1IDAgMCAxLTEuMDYgMS4wNmwtLjk3LS45N3Y0LjY5YS43NS43NSAwIDAgMS0xLjUgMFY2LjU2bC0uOTcuOTdhLjc1Ljc1IDAgMCAxLTEuMDYtMS4wNmwyLjI1LTIuMjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpO1xudmFyIFNjcmVlblNoYXJlSWNvbl9kZWZhdWx0ID0gU3ZnU2NyZWVuU2hhcmVJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL1NjcmVlblNoYXJlU3RvcEljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDY5IGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z1NjcmVlblNoYXJlU3RvcEljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY5LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMjAsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjkuY3JlYXRlRWxlbWVudChcImdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDY5LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNy4yOCA0LjIyYS43NS43NSAwIDAgMC0xLjA2IDEuMDZMOC45NCA4bC0yLjcyIDIuNzJhLjc1Ljc1IDAgMSAwIDEuMDYgMS4wNkwxMCA5LjA2bDIuNzIgMi43MmEuNzUuNzUgMCAxIDAgMS4wNi0xLjA2TDExLjA2IDhsMi43Mi0yLjcyYS43NS43NSAwIDAgMC0xLjA2LTEuMDZMMTAgNi45NHpcIiB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NjkuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMi43NSAwQTIuNzUgMi43NSAwIDAgMCAwIDIuNzV2MTAuNUEyLjc1IDIuNzUgMCAwIDAgMi43NSAxNmgxNC41QTIuNzUgMi43NSAwIDAgMCAyMCAxMy4yNVYyLjc1QTIuNzUgMi43NSAwIDAgMCAxNy4yNSAwek0xLjUgMi43NWMwLS42OS41Ni0xLjI1IDEuMjUtMS4yNWgxNC41Yy42OSAwIDEuMjUuNTYgMS4yNSAxLjI1djEwLjVjMCAuNjktLjU2IDEuMjUtMS4yNSAxLjI1SDIuNzVjLS42OSAwLTEuMjUtLjU2LTEuMjUtMS4yNXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSkpO1xudmFyIFNjcmVlblNoYXJlU3RvcEljb25fZGVmYXVsdCA9IFN2Z1NjcmVlblNoYXJlU3RvcEljb247XG5cbi8vIHNyYy9hc3NldHMvaWNvbnMvU3Bpbm5lckljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDcwIGZyb20gXCJyZWFjdFwiO1xudmFyIFN2Z1NwaW5uZXJJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcwLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNOCAwYS43NS43NSAwIDAgMSAuNzUuNzV2Mi41YS43NS43NSAwIDAgMS0xLjUgMFYuNzVBLjc1Ljc1IDAgMCAxIDggMFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NzAuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk04IDEyYS43NS43NSAwIDAgMSAuNzUuNzV2Mi41YS43NS43NSAwIDAgMS0xLjUgMHYtMi41QS43NS43NSAwIDAgMSA4IDEyWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjdcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NzAuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xMiAxLjA3MmEuNzUuNzUgMCAwIDEgLjI3NCAxLjAyNGwtMS4yNSAyLjE2NWEuNzUuNzUgMCAwIDEtMS4yOTktLjc1bDEuMjUtMi4xNjVBLjc1Ljc1IDAgMCAxIDEyIDEuMDcyWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTYgMTEuNDY0YS43NS43NSAwIDAgMSAuMjc0IDEuMDI1bC0xLjI1IDIuMTY1YS43NS43NSAwIDAgMS0xLjI5OS0uNzVsMS4yNS0yLjE2NUEuNzUuNzUgMCAwIDEgNiAxMS40NjRaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuNlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTE0LjkyOCA0YS43NS43NSAwIDAgMS0uMjc0IDEuMDI1bC0yLjE2NSAxLjI1YS43NS43NSAwIDEgMS0uNzUtMS4zbDIuMTY1LTEuMjVBLjc1Ljc1IDAgMCAxIDE0LjkyOCA0WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQuNTM2IDEwYS43NS43NSAwIDAgMS0uMjc1IDEuMDI0bC0yLjE2NSAxLjI1YS43NS43NSAwIDAgMS0uNzUtMS4yOThsMi4xNjUtMS4yNUEuNzUuNzUgMCAwIDEgNC41MzYgMTBaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuNVxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTE2IDhhLjc1Ljc1IDAgMCAxLS43NS43NWgtMi41YS43NS43NSAwIDAgMSAwLTEuNWgyLjVBLjc1Ljc1IDAgMCAxIDE2IDhaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcwLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNCA4YS43NS43NSAwIDAgMS0uNzUuNzVILjc1YS43NS43NSAwIDAgMSAwLTEuNWgyLjVBLjc1Ljc1IDAgMCAxIDQgOFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC40XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcwLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTQuOTI4IDEyYS43NS43NSAwIDAgMS0xLjAyNC4yNzRsLTIuMTY1LTEuMjVhLjc1Ljc1IDAgMCAxIC43NS0xLjI5OWwyLjE2NSAxLjI1QS43NS43NSAwIDAgMSAxNC45MjggMTJaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuOVxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQuNTM2IDZhLjc1Ljc1IDAgMCAxLTEuMDI1LjI3NWwtMi4xNjUtMS4yNWEuNzUuNzUgMCAxIDEgLjc1LTEuM2wyLjE2NSAxLjI1QS43NS43NSAwIDAgMSA0LjUzNiA2WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjNcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NzAuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xMiAxNC45MjhhLjc1Ljc1IDAgMCAxLTEuMDI0LS4yNzRsLTEuMjUtMi4xNjVhLjc1Ljc1IDAgMCAxIDEuMjk4LS43NWwxLjI1IDIuMTY1QS43NS43NSAwIDAgMSAxMiAxNC45MjhaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuOFxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MC5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTYgNC41MzZhLjc1Ljc1IDAgMCAxLTEuMDI0LS4yNzVsLTEuMjUtMi4xNjVhLjc1Ljc1IDAgMSAxIDEuMjk5LS43NWwxLjI1IDIuMTY1QS43NS43NSAwIDAgMSA2IDQuNTM2WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjJcbiAgfVxuKSk7XG52YXIgU3Bpbm5lckljb25fZGVmYXVsdCA9IFN2Z1NwaW5uZXJJY29uO1xuXG4vLyBzcmMvYXNzZXRzL2ljb25zL1VuZm9jdXNUb2dnbGVJY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3MSBmcm9tIFwicmVhY3RcIjtcbnZhciBTdmdVbmZvY3VzVG9nZ2xlSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NzEuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3MS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogMS41IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcxLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTMuMjUgN0g5bTAgMFYyLjc1TTkgN2w1LjI1LTUuMjVNMi43NSA5SDdtMCAwdjQuMjVNNyA5bC01LjI1IDUuMjVcIiB9KSkpO1xudmFyIFVuZm9jdXNUb2dnbGVJY29uX2RlZmF1bHQgPSBTdmdVbmZvY3VzVG9nZ2xlSWNvbjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29udHJvbHMvRm9jdXNUb2dnbGUudHN4XG5mdW5jdGlvbiBGb2N1c1RvZ2dsZShfYSkge1xuICB2YXIgX2IgPSBfYSwgeyB0cmFja1JlZiwgdHJhY2tTb3VyY2UsIHBhcnRpY2lwYW50IH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcInRyYWNrUmVmXCIsIFwidHJhY2tTb3VyY2VcIiwgXCJwYXJ0aWNpcGFudFwiXSk7XG4gIGNvbnN0IHRyYWNrUmVmRnJvbUNvbnRleHQgPSB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xuICBjb25zdCB7IG1lcmdlZFByb3BzLCBpbkZvY3VzIH0gPSB1c2VGb2N1c1RvZ2dsZSh7XG4gICAgdHJhY2tSZWY6IHRyYWNrUmVmICE9IG51bGwgPyB0cmFja1JlZiA6IHRyYWNrUmVmRnJvbUNvbnRleHQsXG4gICAgdHJhY2tTb3VyY2UsXG4gICAgcGFydGljaXBhbnQsXG4gICAgcHJvcHNcbiAgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3Mi5jcmVhdGVFbGVtZW50KExheW91dENvbnRleHQuQ29uc3VtZXIsIG51bGwsIChsYXlvdXRDb250ZXh0KSA9PiBsYXlvdXRDb250ZXh0ICE9PSB2b2lkIDAgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0NzIuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgbWVyZ2VkUHJvcHMpLCBwcm9wcy5jaGlsZHJlbiA/IHByb3BzLmNoaWxkcmVuIDogaW5Gb2N1cyA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcyLmNyZWF0ZUVsZW1lbnQoVW5mb2N1c1RvZ2dsZUljb25fZGVmYXVsdCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3Mi5jcmVhdGVFbGVtZW50KEZvY3VzVG9nZ2xlSWNvbl9kZWZhdWx0LCBudWxsKSkpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jb250cm9scy9NZWRpYURldmljZVNlbGVjdC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NzMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb29tRXZlbnQgYXMgUm9vbUV2ZW50MiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuZnVuY3Rpb24gTWVkaWFEZXZpY2VTZWxlY3QoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBraW5kLFxuICAgIGluaXRpYWxTZWxlY3Rpb24sXG4gICAgb25BY3RpdmVEZXZpY2VDaGFuZ2UsXG4gICAgb25EZXZpY2VMaXN0Q2hhbmdlLFxuICAgIG9uRGV2aWNlU2VsZWN0RXJyb3IsXG4gICAgZXhhY3RNYXRjaCxcbiAgICB0cmFjayxcbiAgICByZXF1ZXN0UGVybWlzc2lvbnMsXG4gICAgb25FcnJvclxuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJraW5kXCIsXG4gICAgXCJpbml0aWFsU2VsZWN0aW9uXCIsXG4gICAgXCJvbkFjdGl2ZURldmljZUNoYW5nZVwiLFxuICAgIFwib25EZXZpY2VMaXN0Q2hhbmdlXCIsXG4gICAgXCJvbkRldmljZVNlbGVjdEVycm9yXCIsXG4gICAgXCJleGFjdE1hdGNoXCIsXG4gICAgXCJ0cmFja1wiLFxuICAgIFwicmVxdWVzdFBlcm1pc3Npb25zXCIsXG4gICAgXCJvbkVycm9yXCJcbiAgXSk7XG4gIGNvbnN0IHJvb20gPSB1c2VNYXliZVJvb21Db250ZXh0KCk7XG4gIGNvbnN0IGhhbmRsZUVycm9yID0gUmVhY3Q3My51c2VDYWxsYmFjayhcbiAgICAoZSkgPT4ge1xuICAgICAgaWYgKHJvb20pIHtcbiAgICAgICAgcm9vbS5lbWl0KFJvb21FdmVudDIuTWVkaWFEZXZpY2VzRXJyb3IsIGUpO1xuICAgICAgfVxuICAgICAgb25FcnJvciA9PSBudWxsID8gdm9pZCAwIDogb25FcnJvcihlKTtcbiAgICB9LFxuICAgIFtyb29tLCBvbkVycm9yXVxuICApO1xuICBjb25zdCB7IGRldmljZXMsIGFjdGl2ZURldmljZUlkLCBzZXRBY3RpdmVNZWRpYURldmljZSwgY2xhc3NOYW1lIH0gPSB1c2VNZWRpYURldmljZVNlbGVjdCh7XG4gICAga2luZCxcbiAgICByb29tLFxuICAgIHRyYWNrLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyxcbiAgICBvbkVycm9yOiBoYW5kbGVFcnJvclxuICB9KTtcbiAgUmVhY3Q3My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsU2VsZWN0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgIHNldEFjdGl2ZU1lZGlhRGV2aWNlKGluaXRpYWxTZWxlY3Rpb24pO1xuICAgIH1cbiAgfSwgW3NldEFjdGl2ZU1lZGlhRGV2aWNlXSk7XG4gIFJlYWN0NzMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIG9uRGV2aWNlTGlzdENoYW5nZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBvbkRldmljZUxpc3RDaGFuZ2UoZGV2aWNlcyk7XG4gICAgfVxuICB9LCBbb25EZXZpY2VMaXN0Q2hhbmdlLCBkZXZpY2VzXSk7XG4gIFJlYWN0NzMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlRGV2aWNlSWQgJiYgYWN0aXZlRGV2aWNlSWQgIT09IFwiXCIpIHtcbiAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlID09IG51bGwgPyB2b2lkIDAgOiBvbkFjdGl2ZURldmljZUNoYW5nZShhY3RpdmVEZXZpY2VJZCk7XG4gICAgfVxuICB9LCBbYWN0aXZlRGV2aWNlSWRdKTtcbiAgY29uc3QgaGFuZGxlQWN0aXZlRGV2aWNlQ2hhbmdlID0gKGRldmljZUlkKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHlpZWxkIHNldEFjdGl2ZU1lZGlhRGV2aWNlKGRldmljZUlkLCB7IGV4YWN0OiBleGFjdE1hdGNoIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgb25EZXZpY2VTZWxlY3RFcnJvciA9PSBudWxsID8gdm9pZCAwIDogb25EZXZpY2VTZWxlY3RFcnJvcihlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBSZWFjdDczLnVzZU1lbW8oXG4gICAgKCkgPT4gbWVyZ2VQcm9wczIocHJvcHMsIHsgY2xhc3NOYW1lIH0sIHsgY2xhc3NOYW1lOiBcImxrLWxpc3RcIiB9KSxcbiAgICBbY2xhc3NOYW1lLCBwcm9wc11cbiAgKTtcbiAgZnVuY3Rpb24gaXNBY3RpdmUoZGV2aWNlSWQsIGFjdGl2ZURldmljZUlkMiwgaW5kZXgpIHtcbiAgICByZXR1cm4gZGV2aWNlSWQgPT09IGFjdGl2ZURldmljZUlkMiB8fCBpbmRleCA9PT0gMCAmJiBhY3RpdmVEZXZpY2VJZDIgPT09IFwiZGVmYXVsdFwiO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3My5jcmVhdGVFbGVtZW50KFwidWxcIiwgX19zcHJlYWRWYWx1ZXMoe30sIG1lcmdlZFByb3BzKSwgZGV2aWNlcy5tYXAoKGRldmljZSwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDczLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaVwiLFxuICAgIHtcbiAgICAgIGtleTogZGV2aWNlLmRldmljZUlkLFxuICAgICAgaWQ6IGRldmljZS5kZXZpY2VJZCxcbiAgICAgIFwiZGF0YS1say1hY3RpdmVcIjogaXNBY3RpdmUoZGV2aWNlLmRldmljZUlkLCBhY3RpdmVEZXZpY2VJZCwgaW5kZXgpLFxuICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGlzQWN0aXZlKGRldmljZS5kZXZpY2VJZCwgYWN0aXZlRGV2aWNlSWQsIGluZGV4KSxcbiAgICAgIHJvbGU6IFwib3B0aW9uXCJcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDczLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFjdGl2ZURldmljZUNoYW5nZShkZXZpY2UuZGV2aWNlSWQpIH0sIGRldmljZS5sYWJlbClcbiAgKSkpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jb250cm9scy9TdGFydEF1ZGlvLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3NCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN0YXJ0QXVkaW8oX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgbGFiZWwgPSBcIkFsbG93IEF1ZGlvXCIgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wibGFiZWxcIl0pO1xuICBjb25zdCByb29tID0gdXNlUm9vbUNvbnRleHQoKTtcbiAgY29uc3QgeyBtZXJnZWRQcm9wcyB9ID0gdXNlU3RhcnRBdWRpbyh7IHJvb20sIHByb3BzIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NzQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgbWVyZ2VkUHJvcHMpLCBsYWJlbCk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbnRyb2xzL1RyYWNrVG9nZ2xlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3NiBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2Fzc2V0cy9pY29ucy91dGlsLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3NSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENvbm5lY3Rpb25RdWFsaXR5IGFzIENvbm5lY3Rpb25RdWFsaXR5MiwgVHJhY2sgYXMgVHJhY2s0IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5mdW5jdGlvbiBnZXRTb3VyY2VJY29uKHNvdXJjZSwgZW5hYmxlZCkge1xuICBzd2l0Y2ggKHNvdXJjZSkge1xuICAgIGNhc2UgVHJhY2s0LlNvdXJjZS5NaWNyb3Bob25lOlxuICAgICAgcmV0dXJuIGVuYWJsZWQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q3NS5jcmVhdGVFbGVtZW50KE1pY0ljb25fZGVmYXVsdCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3NS5jcmVhdGVFbGVtZW50KE1pY0Rpc2FibGVkSWNvbl9kZWZhdWx0LCBudWxsKTtcbiAgICBjYXNlIFRyYWNrNC5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgcmV0dXJuIGVuYWJsZWQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q3NS5jcmVhdGVFbGVtZW50KENhbWVyYUljb25fZGVmYXVsdCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3NS5jcmVhdGVFbGVtZW50KENhbWVyYURpc2FibGVkSWNvbl9kZWZhdWx0LCBudWxsKTtcbiAgICBjYXNlIFRyYWNrNC5Tb3VyY2UuU2NyZWVuU2hhcmU6XG4gICAgICByZXR1cm4gZW5hYmxlZCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDc1LmNyZWF0ZUVsZW1lbnQoU2NyZWVuU2hhcmVTdG9wSWNvbl9kZWZhdWx0LCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDc1LmNyZWF0ZUVsZW1lbnQoU2NyZWVuU2hhcmVJY29uX2RlZmF1bHQsIG51bGwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb25uZWN0aW9uUXVhbGl0eUljb24ocXVhbGl0eSkge1xuICBzd2l0Y2ggKHF1YWxpdHkpIHtcbiAgICBjYXNlIENvbm5lY3Rpb25RdWFsaXR5Mi5FeGNlbGxlbnQ6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NzUuY3JlYXRlRWxlbWVudChRdWFsaXR5RXhjZWxsZW50SWNvbl9kZWZhdWx0LCBudWxsKTtcbiAgICBjYXNlIENvbm5lY3Rpb25RdWFsaXR5Mi5Hb29kOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDc1LmNyZWF0ZUVsZW1lbnQoUXVhbGl0eUdvb2RJY29uX2RlZmF1bHQsIG51bGwpO1xuICAgIGNhc2UgQ29ubmVjdGlvblF1YWxpdHkyLlBvb3I6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NzUuY3JlYXRlRWxlbWVudChRdWFsaXR5UG9vckljb25fZGVmYXVsdCwgbnVsbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3NS5jcmVhdGVFbGVtZW50KFF1YWxpdHlVbmtub3duSWNvbl9kZWZhdWx0LCBudWxsKTtcbiAgfVxufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jb250cm9scy9UcmFja1RvZ2dsZS50c3hcbmZ1bmN0aW9uIFRyYWNrVG9nZ2xlKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7IHNob3dJY29uIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcInNob3dJY29uXCJdKTtcbiAgY29uc3QgeyBidXR0b25Qcm9wcywgZW5hYmxlZCB9ID0gdXNlVHJhY2tUb2dnbGUocHJvcHMpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NzYuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgYnV0dG9uUHJvcHMpLCAoc2hvd0ljb24gIT0gbnVsbCA/IHNob3dJY29uIDogdHJ1ZSkgJiYgZ2V0U291cmNlSWNvbihwcm9wcy5zb3VyY2UsIGVuYWJsZWQpLCBwcm9wcy5jaGlsZHJlbik7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2xheW91dC9Gb2N1c0xheW91dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0ODQgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L1BhcnRpY2lwYW50VGlsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0ODMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUcmFjayBhcyBUcmFjazUgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCB7IGlzVHJhY2tSZWZlcmVuY2UgYXMgaXNUcmFja1JlZmVyZW5jZTMsIGlzVHJhY2tSZWZlcmVuY2VQaW5uZWQgYXMgaXNUcmFja1JlZmVyZW5jZVBpbm5lZDIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L0Nvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3NyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIENvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBjbGFzc05hbWUsIHF1YWxpdHkgfSA9IHVzZUNvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yKHByb3BzKTtcbiAgY29uc3QgZWxlbWVudFByb3BzID0gUmVhY3Q3Ny51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgbWVyZ2VQcm9wczIocHJvcHMsIHsgY2xhc3NOYW1lIH0pKSwgeyBcImRhdGEtbGstcXVhbGl0eVwiOiBxdWFsaXR5IH0pO1xuICB9LCBbcXVhbGl0eSwgcHJvcHMsIGNsYXNzTmFtZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NzcuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgZWxlbWVudFByb3BzKSwgKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IGdldENvbm5lY3Rpb25RdWFsaXR5SWNvbihxdWFsaXR5KSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L1BhcnRpY2lwYW50TmFtZS50c3hcbmltcG9ydCB7IHNldHVwUGFydGljaXBhbnROYW1lIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q3OCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFBhcnRpY2lwYW50TmFtZShfYSkge1xuICB2YXIgX2IgPSBfYSwgeyBwYXJ0aWNpcGFudCB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJwYXJ0aWNpcGFudFwiXSk7XG4gIGNvbnN0IHAgPSB1c2VFbnN1cmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCk7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCBpbmZvT2JzZXJ2ZXIgfSA9IFJlYWN0NzgudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHNldHVwUGFydGljaXBhbnROYW1lKHApO1xuICB9LCBbcF0pO1xuICBjb25zdCB7IGlkZW50aXR5LCBuYW1lIH0gPSB1c2VPYnNlcnZhYmxlU3RhdGUoaW5mb09ic2VydmVyLCB7XG4gICAgbmFtZTogcC5uYW1lLFxuICAgIGlkZW50aXR5OiBwLmlkZW50aXR5LFxuICAgIG1ldGFkYXRhOiBwLm1ldGFkYXRhXG4gIH0pO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IFJlYWN0NzgudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMyKHByb3BzLCB7IGNsYXNzTmFtZSwgXCJkYXRhLWxrLXBhcnRpY2lwYW50LW5hbWVcIjogbmFtZSB9KTtcbiAgfSwgW3Byb3BzLCBjbGFzc05hbWUsIG5hbWVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDc4LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBtZXJnZWRQcm9wcyksIG5hbWUgIT09IFwiXCIgPyBuYW1lIDogaWRlbnRpdHksIHByb3BzLmNoaWxkcmVuKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnQvVHJhY2tNdXRlZEluZGljYXRvci50c3hcbmltcG9ydCAqIGFzIFJlYWN0NzkgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBUcmFja011dGVkSW5kaWNhdG9yKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgc291cmNlLFxuICAgIHBhcnRpY2lwYW50LFxuICAgIHRyYWNrUmVmLFxuICAgIHNob3cgPSBcImFsd2F5c1wiXG4gIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInNvdXJjZVwiLFxuICAgIFwicGFydGljaXBhbnRcIixcbiAgICBcInRyYWNrUmVmXCIsXG4gICAgXCJzaG93XCJcbiAgXSk7XG4gIHZhciBfYTIsIF9iMjtcbiAgY29uc3QgeyBjbGFzc05hbWUsIGlzTXV0ZWQgfSA9IHVzZVRyYWNrTXV0ZWRJbmRpY2F0b3IodHJhY2tSZWYgIT0gbnVsbCA/IHRyYWNrUmVmIDogc291cmNlLCB7IHBhcnRpY2lwYW50IH0pO1xuICBjb25zdCBzaG93SW5kaWNhdG9yID0gc2hvdyA9PT0gXCJhbHdheXNcIiB8fCBzaG93ID09PSBcIm11dGVkXCIgJiYgaXNNdXRlZCB8fCBzaG93ID09PSBcInVubXV0ZWRcIiAmJiAhaXNNdXRlZDtcbiAgY29uc3QgaHRtbFByb3BzID0gUmVhY3Q3OS51c2VNZW1vKFxuICAgICgpID0+IG1lcmdlUHJvcHMyKHByb3BzLCB7XG4gICAgICBjbGFzc05hbWVcbiAgICB9KSxcbiAgICBbY2xhc3NOYW1lLCBwcm9wc11cbiAgKTtcbiAgaWYgKCFzaG93SW5kaWNhdG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDc5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaHRtbFByb3BzKSwgeyBcImRhdGEtbGstbXV0ZWRcIjogaXNNdXRlZCB9KSwgKF9iMiA9IHByb3BzLmNoaWxkcmVuKSAhPSBudWxsID8gX2IyIDogZ2V0U291cmNlSWNvbigoX2EyID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnNvdXJjZSkgIT0gbnVsbCA/IF9hMiA6IHNvdXJjZSwgIWlzTXV0ZWQpKTtcbn1cblxuLy8gc3JjL2Fzc2V0cy9pbWFnZXMvUGFydGljaXBhbnRQbGFjZWhvbGRlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0ODAgZnJvbSBcInJlYWN0XCI7XG52YXIgU3ZnUGFydGljaXBhbnRQbGFjZWhvbGRlciA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0ODAuY3JlYXRlRWxlbWVudChcbiAgXCJzdmdcIixcbiAgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHdpZHRoOiAzMjAsXG4gICAgaGVpZ2h0OiAzMjAsXG4gICAgdmlld0JveDogXCIwIDAgMzIwIDMyMFwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgcHJvcHMpLFxuICAvKiBAX19QVVJFX18gKi8gUmVhY3Q4MC5jcmVhdGVFbGVtZW50KFxuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTE2MCAxODBDMjA0LjE4MiAxODAgMjQwIDE0NC4xODMgMjQwIDEwMEMyNDAgNTUuODE3MiAyMDQuMTgyIDIwIDE2MCAyMEMxMTUuODE3IDIwIDc5Ljk5OTcgNTUuODE3MiA3OS45OTk3IDEwMEM3OS45OTk3IDE0NC4xODMgMTE1LjgxNyAxODAgMTYwIDE4MFpcIixcbiAgICAgIGZpbGw6IFwid2hpdGVcIixcbiAgICAgIGZpbGxPcGFjaXR5OiAwLjI1XG4gICAgfVxuICApLFxuICAvKiBAX19QVVJFX18gKi8gUmVhY3Q4MC5jcmVhdGVFbGVtZW50KFxuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTk3LjY1NDIgMTk0LjYxNEMxMDMuMjY3IDE5MS44MTggMTA5Ljg0MSAxOTIuNDgxIDExNS41MTkgMTk1LjE0MUMxMjkuMDI1IDIwMS40NjYgMTQ0LjEgMjA1IDE1OS45OTkgMjA1QzE3NS44OTkgMjA1IDE5MC45NzMgMjAxLjQ2NiAyMDQuNDggMTk1LjE0MUMyMTAuMTU4IDE5Mi40ODEgMjE2LjczMiAxOTEuODE4IDIyMi4zNDUgMTk0LjYxNEMyNjIuNzAzIDIxNC43MTkgMjkxLjk4NSAyNTMuNzM2IDI5OC41OTEgMzAwLjA2MkMzMDAuMTUgMzEwLjk5NyAyOTEuMDQ1IDMyMCAyODAgMzIwSDM5Ljk5OTdDMjguOTU0IDMyMCAxOS44NDk1IDMxMC45OTcgMjEuNDA4NyAzMDAuMDYyQzI4LjAxNCAyNTMuNzM2IDU3LjI5NjYgMjE0LjcyIDk3LjY1NDIgMTk0LjYxNFpcIixcbiAgICAgIGZpbGw6IFwid2hpdGVcIixcbiAgICAgIGZpbGxPcGFjaXR5OiAwLjI1XG4gICAgfVxuICApXG4pO1xudmFyIFBhcnRpY2lwYW50UGxhY2Vob2xkZXJfZGVmYXVsdCA9IFN2Z1BhcnRpY2lwYW50UGxhY2Vob2xkZXI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L1ZpZGVvVHJhY2sudHN4XG5pbXBvcnQge1xuICBSZW1vdGVUcmFja1B1YmxpY2F0aW9uXG59IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3Q4MSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIHVzZUhvb2tzIGZyb20gXCJ1c2Vob29rcy10c1wiO1xuZnVuY3Rpb24gVmlkZW9UcmFjayhfYSkge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIG9uVHJhY2tDbGljayxcbiAgICBvbkNsaWNrLFxuICAgIG9uU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZCxcbiAgICB0cmFja1JlZixcbiAgICBuYW1lLFxuICAgIHB1YmxpY2F0aW9uLFxuICAgIHNvdXJjZSxcbiAgICBwYXJ0aWNpcGFudDogcCxcbiAgICBtYW5hZ2VTdWJzY3JpcHRpb25cbiAgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwib25UcmFja0NsaWNrXCIsXG4gICAgXCJvbkNsaWNrXCIsXG4gICAgXCJvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcIixcbiAgICBcInRyYWNrUmVmXCIsXG4gICAgXCJuYW1lXCIsXG4gICAgXCJwdWJsaWNhdGlvblwiLFxuICAgIFwic291cmNlXCIsXG4gICAgXCJwYXJ0aWNpcGFudFwiLFxuICAgIFwibWFuYWdlU3Vic2NyaXB0aW9uXCJcbiAgXSk7XG4gIHZhciBfYTIsIF9iMiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qO1xuICBjb25zdCBtYXliZVRyYWNrUmVmID0gdXNlTWF5YmVUcmFja1JlZkNvbnRleHQoKTtcbiAgY29uc3QgX25hbWUgPSAoX2QgPSAoX2MgPSAoX2EyID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnRyYWNrTmFtZSkgIT0gbnVsbCA/IF9jIDogKF9iMiA9IG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYjIudHJhY2tOYW1lKSAhPSBudWxsID8gX2QgOiBuYW1lO1xuICBjb25zdCBfc291cmNlID0gKF9mID0gKF9lID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnNvdXJjZSkgIT0gbnVsbCA/IF9lIDogbWF5YmVUcmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogbWF5YmVUcmFja1JlZi5zb3VyY2UpICE9IG51bGwgPyBfZiA6IHNvdXJjZTtcbiAgY29uc3QgX3B1YmxpY2F0aW9uID0gKF9oID0gKF9nID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnB1YmxpY2F0aW9uKSAhPSBudWxsID8gX2cgOiBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnB1YmxpY2F0aW9uKSAhPSBudWxsID8gX2ggOiBwdWJsaWNhdGlvbjtcbiAgY29uc3QgX3BhcnRpY2lwYW50ID0gKF9qID0gKF9pID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnBhcnRpY2lwYW50KSAhPSBudWxsID8gX2kgOiBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnBhcnRpY2lwYW50KSAhPSBudWxsID8gX2ogOiBwO1xuICBpZiAoX3NvdXJjZSA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVmlkZW9UcmFjazogWW91IG11c3QgcHJvdmlkZSBhIHRyYWNrUmVmIG9yIHNvdXJjZSBwcm9wZXJ0eS5cIik7XG4gIH1cbiAgY29uc3QgcGFydGljaXBhbnQgPSB1c2VFbnN1cmVQYXJ0aWNpcGFudChfcGFydGljaXBhbnQpO1xuICBjb25zdCBtZWRpYUVsID0gUmVhY3Q4MS51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGludGVyc2VjdGlvbkVudHJ5ID0gdXNlSG9va3MudXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIobWVkaWFFbCwge30pO1xuICBjb25zdCBkZWJvdW5jZWRJbnRlcnNlY3Rpb25FbnRyeSA9IHVzZUhvb2tzLnVzZURlYm91bmNlKGludGVyc2VjdGlvbkVudHJ5LCAzZTMpO1xuICBSZWFjdDgxLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1hbmFnZVN1YnNjcmlwdGlvbiAmJiBfcHVibGljYXRpb24gaW5zdGFuY2VvZiBSZW1vdGVUcmFja1B1YmxpY2F0aW9uICYmIChkZWJvdW5jZWRJbnRlcnNlY3Rpb25FbnRyeSA9PSBudWxsID8gdm9pZCAwIDogZGVib3VuY2VkSW50ZXJzZWN0aW9uRW50cnkuaXNJbnRlcnNlY3RpbmcpID09PSBmYWxzZSAmJiAoaW50ZXJzZWN0aW9uRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVyc2VjdGlvbkVudHJ5LmlzSW50ZXJzZWN0aW5nKSA9PT0gZmFsc2UpIHtcbiAgICAgIF9wdWJsaWNhdGlvbi5zZXRTdWJzY3JpYmVkKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtkZWJvdW5jZWRJbnRlcnNlY3Rpb25FbnRyeSwgX3B1YmxpY2F0aW9uLCBtYW5hZ2VTdWJzY3JpcHRpb25dKTtcbiAgUmVhY3Q4MS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYW5hZ2VTdWJzY3JpcHRpb24gJiYgX3B1YmxpY2F0aW9uIGluc3RhbmNlb2YgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbiAmJiAoaW50ZXJzZWN0aW9uRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVyc2VjdGlvbkVudHJ5LmlzSW50ZXJzZWN0aW5nKSA9PT0gdHJ1ZSkge1xuICAgICAgX3B1YmxpY2F0aW9uLnNldFN1YnNjcmliZWQodHJ1ZSk7XG4gICAgfVxuICB9LCBbaW50ZXJzZWN0aW9uRW50cnksIF9wdWJsaWNhdGlvbiwgbWFuYWdlU3Vic2NyaXB0aW9uXSk7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50UHJvcHMsXG4gICAgcHVibGljYXRpb246IHB1YixcbiAgICBpc1N1YnNjcmliZWRcbiAgfSA9IHVzZU1lZGlhVHJhY2tCeVNvdXJjZU9yTmFtZShcbiAgICB7IHBhcnRpY2lwYW50LCBuYW1lOiBfbmFtZSwgc291cmNlOiBfc291cmNlLCBwdWJsaWNhdGlvbjogX3B1YmxpY2F0aW9uIH0sXG4gICAge1xuICAgICAgZWxlbWVudDogbWVkaWFFbCxcbiAgICAgIHByb3BzXG4gICAgfVxuICApO1xuICBSZWFjdDgxLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkID09IG51bGwgPyB2b2lkIDAgOiBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQoISFpc1N1YnNjcmliZWQpO1xuICB9LCBbaXNTdWJzY3JpYmVkLCBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRdKTtcbiAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGV2dCkgPT4ge1xuICAgIG9uQ2xpY2sgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2xpY2soZXZ0KTtcbiAgICBvblRyYWNrQ2xpY2sgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVHJhY2tDbGljayh7IHBhcnRpY2lwYW50LCB0cmFjazogcHViIH0pO1xuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0ODEuY3JlYXRlRWxlbWVudChcInZpZGVvXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoeyByZWY6IG1lZGlhRWwgfSwgZWxlbWVudFByb3BzKSwgeyBtdXRlZDogdHJ1ZSwgb25DbGljazogY2xpY2tIYW5kbGVyIH0pKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnQvQXVkaW9UcmFjay50c3hcbmltcG9ydCAqIGFzIFJlYWN0ODIgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBsb2cgYXMgbG9nOSB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCB7IFJlbW90ZUF1ZGlvVHJhY2ssIFJlbW90ZVRyYWNrUHVibGljYXRpb24gYXMgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbjIgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmZ1bmN0aW9uIEF1ZGlvVHJhY2soX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICB0cmFja1JlZixcbiAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQsXG4gICAgdm9sdW1lLFxuICAgIHNvdXJjZSxcbiAgICBuYW1lLFxuICAgIHB1YmxpY2F0aW9uLFxuICAgIHBhcnRpY2lwYW50OiBwXG4gIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInRyYWNrUmVmXCIsXG4gICAgXCJvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcIixcbiAgICBcInZvbHVtZVwiLFxuICAgIFwic291cmNlXCIsXG4gICAgXCJuYW1lXCIsXG4gICAgXCJwdWJsaWNhdGlvblwiLFxuICAgIFwicGFydGljaXBhbnRcIlxuICBdKTtcbiAgdmFyIF9hMiwgX2IyLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2o7XG4gIGNvbnN0IG1heWJlVHJhY2tSZWYgPSB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCgpO1xuICBjb25zdCBfbmFtZSA9IChfZCA9IChfYyA9IChfYTIgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYTIudHJhY2tOYW1lKSAhPSBudWxsID8gX2MgOiAoX2IyID0gbWF5YmVUcmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogbWF5YmVUcmFja1JlZi5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi50cmFja05hbWUpICE9IG51bGwgPyBfZCA6IG5hbWU7XG4gIGNvbnN0IF9zb3VyY2UgPSAoX2YgPSAoX2UgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYuc291cmNlKSAhPSBudWxsID8gX2UgOiBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnNvdXJjZSkgIT0gbnVsbCA/IF9mIDogc291cmNlO1xuICBjb25zdCBfcHVibGljYXRpb24gPSAoX2ggPSAoX2cgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfZyA6IG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfaCA6IHB1YmxpY2F0aW9uO1xuICBjb25zdCBfcGFydGljaXBhbnQgPSAoX2ogPSAoX2kgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucGFydGljaXBhbnQpICE9IG51bGwgPyBfaSA6IG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucGFydGljaXBhbnQpICE9IG51bGwgPyBfaiA6IHA7XG4gIGlmIChfc291cmNlID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgQXVkaW9UcmFjayBjb21wb25lbnQgZXhwZWN0cyBhIHRyYWNrUmVmIG9yIHNvdXJjZSBwcm9wZXJ0eS5cIik7XG4gIH1cbiAgY29uc3QgbWVkaWFFbCA9IFJlYWN0ODIudXNlUmVmKG51bGwpO1xuICBjb25zdCBwYXJ0aWNpcGFudCA9IHVzZUVuc3VyZVBhcnRpY2lwYW50KF9wYXJ0aWNpcGFudCk7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50UHJvcHMsXG4gICAgaXNTdWJzY3JpYmVkLFxuICAgIHRyYWNrLFxuICAgIHB1YmxpY2F0aW9uOiBwdWJcbiAgfSA9IHVzZU1lZGlhVHJhY2tCeVNvdXJjZU9yTmFtZShcbiAgICB7IHNvdXJjZTogX3NvdXJjZSwgbmFtZTogX25hbWUsIHBhcnRpY2lwYW50LCBwdWJsaWNhdGlvbjogX3B1YmxpY2F0aW9uIH0sXG4gICAge1xuICAgICAgZWxlbWVudDogbWVkaWFFbCxcbiAgICAgIHByb3BzXG4gICAgfVxuICApO1xuICBSZWFjdDgyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkID09IG51bGwgPyB2b2lkIDAgOiBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQoISFpc1N1YnNjcmliZWQpO1xuICB9LCBbaXNTdWJzY3JpYmVkLCBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRdKTtcbiAgUmVhY3Q4Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0cmFjayA9PT0gdm9pZCAwIHx8IHZvbHVtZSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0cmFjayBpbnN0YW5jZW9mIFJlbW90ZUF1ZGlvVHJhY2spIHtcbiAgICAgIHRyYWNrLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2c5Lndhcm4oXCJWb2x1bWUgY2FuIG9ubHkgYmUgc2V0IG9uIHJlbW90ZSBhdWRpbyB0cmFja3MuXCIpO1xuICAgIH1cbiAgfSwgW3ZvbHVtZSwgdHJhY2tdKTtcbiAgUmVhY3Q4Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwdWIgPT09IHZvaWQgMCB8fCBwcm9wcy5tdXRlZCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwdWIgaW5zdGFuY2VvZiBSZW1vdGVUcmFja1B1YmxpY2F0aW9uMikge1xuICAgICAgcHViLnNldEVuYWJsZWQoIXByb3BzLm11dGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nOS53YXJuKFwiQ2FuIG9ubHkgY2FsbCBzZXRFbmFibGVkIG9uIHJlbW90ZSB0cmFjayBwdWJsaWNhdGlvbnMuXCIpO1xuICAgIH1cbiAgfSwgW3Byb3BzLm11dGVkLCBwdWIsIHRyYWNrXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4Mi5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiwgX19zcHJlYWRWYWx1ZXMoeyByZWY6IG1lZGlhRWwgfSwgZWxlbWVudFByb3BzKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L1BhcnRpY2lwYW50VGlsZS50c3hcbmZ1bmN0aW9uIFBhcnRpY2lwYW50Q29udGV4dElmTmVlZGVkKHByb3BzKSB7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSAhIXVzZU1heWJlUGFydGljaXBhbnRDb250ZXh0KCk7XG4gIHJldHVybiBwcm9wcy5wYXJ0aWNpcGFudCAmJiAhaGFzQ29udGV4dCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9wcy5wYXJ0aWNpcGFudCB9LCBwcm9wcy5jaGlsZHJlbikgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFJlYWN0ODMuRnJhZ21lbnQsIG51bGwsIHByb3BzLmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIFRyYWNrUmVmQ29udGV4dElmTmVlZGVkKHByb3BzKSB7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSAhIXVzZU1heWJlVHJhY2tSZWZDb250ZXh0KCk7XG4gIHJldHVybiBwcm9wcy50cmFja1JlZiAmJiAhaGFzQ29udGV4dCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoVHJhY2tSZWZDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9wcy50cmFja1JlZiB9LCBwcm9wcy5jaGlsZHJlbikgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFJlYWN0ODMuRnJhZ21lbnQsIG51bGwsIHByb3BzLmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIFBhcnRpY2lwYW50VGlsZShfYSkge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIHRyYWNrUmVmLFxuICAgIHBhcnRpY2lwYW50LFxuICAgIGNoaWxkcmVuLFxuICAgIHNvdXJjZSA9IFRyYWNrNS5Tb3VyY2UuQ2FtZXJhLFxuICAgIG9uUGFydGljaXBhbnRDbGljayxcbiAgICBwdWJsaWNhdGlvbixcbiAgICBkaXNhYmxlU3BlYWtpbmdJbmRpY2F0b3JcbiAgfSA9IF9iLCBodG1sUHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInRyYWNrUmVmXCIsXG4gICAgXCJwYXJ0aWNpcGFudFwiLFxuICAgIFwiY2hpbGRyZW5cIixcbiAgICBcInNvdXJjZVwiLFxuICAgIFwib25QYXJ0aWNpcGFudENsaWNrXCIsXG4gICAgXCJwdWJsaWNhdGlvblwiLFxuICAgIFwiZGlzYWJsZVNwZWFraW5nSW5kaWNhdG9yXCJcbiAgXSk7XG4gIHZhciBfYTIsIF9iMjtcbiAgY29uc3QgbWF5YmVUcmFja1JlZiA9IHVzZU1heWJlVHJhY2tSZWZDb250ZXh0KCk7XG4gIGNvbnN0IHAgPSB1c2VFbnN1cmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCk7XG4gIGNvbnN0IHRyYWNrUmVmZXJlbmNlID0gUmVhY3Q4My51c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2EzLCBfYjMsIF9jLCBfZCwgX2UsIF9mO1xuICAgIHJldHVybiB7XG4gICAgICBwYXJ0aWNpcGFudDogKF9iMyA9IChfYTMgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucGFydGljaXBhbnQpICE9IG51bGwgPyBfYTMgOiBtYXliZVRyYWNrUmVmID09IG51bGwgPyB2b2lkIDAgOiBtYXliZVRyYWNrUmVmLnBhcnRpY2lwYW50KSAhPSBudWxsID8gX2IzIDogcCxcbiAgICAgIHNvdXJjZTogKF9kID0gKF9jID0gdHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUmVmLnNvdXJjZSkgIT0gbnVsbCA/IF9jIDogbWF5YmVUcmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogbWF5YmVUcmFja1JlZi5zb3VyY2UpICE9IG51bGwgPyBfZCA6IHNvdXJjZSxcbiAgICAgIHB1YmxpY2F0aW9uOiAoX2YgPSAoX2UgPSB0cmFja1JlZiA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfZSA6IG1heWJlVHJhY2tSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IG1heWJlVHJhY2tSZWYucHVibGljYXRpb24pICE9IG51bGwgPyBfZiA6IHB1YmxpY2F0aW9uXG4gICAgfTtcbiAgfSwgW21heWJlVHJhY2tSZWYsIHAsIHB1YmxpY2F0aW9uLCBzb3VyY2UsIHRyYWNrUmVmXSk7XG4gIGNvbnN0IHsgZWxlbWVudFByb3BzIH0gPSB1c2VQYXJ0aWNpcGFudFRpbGUoe1xuICAgIHBhcnRpY2lwYW50OiB0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudCxcbiAgICBodG1sUHJvcHMsXG4gICAgc291cmNlOiB0cmFja1JlZmVyZW5jZS5zb3VyY2UsXG4gICAgcHVibGljYXRpb246IHRyYWNrUmVmZXJlbmNlLnB1YmxpY2F0aW9uLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2tcbiAgfSk7XG4gIGNvbnN0IGlzRW5jcnlwdGVkID0gdXNlSXNFbmNyeXB0ZWQocCk7XG4gIGNvbnN0IGxheW91dENvbnRleHQgPSB1c2VNYXliZUxheW91dENvbnRleHQoKTtcbiAgY29uc3QgYXV0b01hbmFnZVN1YnNjcmlwdGlvbiA9IChfYTIgPSB1c2VGZWF0dXJlQ29udGV4dCgpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmF1dG9TdWJzY3JpcHRpb247XG4gIGNvbnN0IGhhbmRsZVN1YnNjcmliZSA9IFJlYWN0ODMudXNlQ2FsbGJhY2soXG4gICAgKHN1YnNjcmliZWQpID0+IHtcbiAgICAgIGlmICh0cmFja1JlZmVyZW5jZS5zb3VyY2UgJiYgIXN1YnNjcmliZWQgJiYgbGF5b3V0Q29udGV4dCAmJiBsYXlvdXRDb250ZXh0LnBpbi5kaXNwYXRjaCAmJiBpc1RyYWNrUmVmZXJlbmNlUGlubmVkMih0cmFja1JlZmVyZW5jZSwgbGF5b3V0Q29udGV4dC5waW4uc3RhdGUpKSB7XG4gICAgICAgIGxheW91dENvbnRleHQucGluLmRpc3BhdGNoKHsgbXNnOiBcImNsZWFyX3BpblwiIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3RyYWNrUmVmZXJlbmNlLCBsYXlvdXRDb250ZXh0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0ODMuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX3NwcmVhZFZhbHVlcyh7IHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSB9LCBlbGVtZW50UHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFRyYWNrUmVmQ29udGV4dElmTmVlZGVkLCB7IHRyYWNrUmVmOiB0cmFja1JlZmVyZW5jZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFBhcnRpY2lwYW50Q29udGV4dElmTmVlZGVkLCB7IHBhcnRpY2lwYW50OiB0cmFja1JlZmVyZW5jZS5wYXJ0aWNpcGFudCB9LCBjaGlsZHJlbiAhPSBudWxsID8gY2hpbGRyZW4gOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFJlYWN0ODMuRnJhZ21lbnQsIG51bGwsIGlzVHJhY2tSZWZlcmVuY2UzKHRyYWNrUmVmZXJlbmNlKSAmJiAoKChfYjIgPSB0cmFja1JlZmVyZW5jZS5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5raW5kKSA9PT0gXCJ2aWRlb1wiIHx8IHRyYWNrUmVmZXJlbmNlLnNvdXJjZSA9PT0gVHJhY2s1LlNvdXJjZS5DYW1lcmEgfHwgdHJhY2tSZWZlcmVuY2Uuc291cmNlID09PSBUcmFjazUuU291cmNlLlNjcmVlblNoYXJlKSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoXG4gICAgVmlkZW9UcmFjayxcbiAgICB7XG4gICAgICB0cmFja1JlZjogdHJhY2tSZWZlcmVuY2UsXG4gICAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IGhhbmRsZVN1YnNjcmliZSxcbiAgICAgIG1hbmFnZVN1YnNjcmlwdGlvbjogYXV0b01hbmFnZVN1YnNjcmlwdGlvblxuICAgIH1cbiAgKSA6IGlzVHJhY2tSZWZlcmVuY2UzKHRyYWNrUmVmZXJlbmNlKSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFxuICAgIEF1ZGlvVHJhY2ssXG4gICAge1xuICAgICAgdHJhY2tSZWY6IHRyYWNrUmVmZXJlbmNlLFxuICAgICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkOiBoYW5kbGVTdWJzY3JpYmVcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtcGxhY2Vob2xkZXJcIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFBhcnRpY2lwYW50UGxhY2Vob2xkZXJfZGVmYXVsdCwgbnVsbCkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSwgdHJhY2tSZWZlcmVuY2Uuc291cmNlID09PSBUcmFjazUuU291cmNlLkNhbWVyYSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoUmVhY3Q4My5GcmFnbWVudCwgbnVsbCwgaXNFbmNyeXB0ZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0ODMuY3JlYXRlRWxlbWVudChMb2NrTG9ja2VkSWNvbl9kZWZhdWx0LCB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiBcIjAuMjVyZW1cIiB9IH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFxuICAgIFRyYWNrTXV0ZWRJbmRpY2F0b3IsXG4gICAge1xuICAgICAgc291cmNlOiBUcmFjazUuU291cmNlLk1pY3JvcGhvbmUsXG4gICAgICBzaG93OiBcIm11dGVkXCJcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnROYW1lLCBudWxsKSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KFJlYWN0ODMuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoU2NyZWVuU2hhcmVJY29uX2RlZmF1bHQsIHsgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6IFwiMC4yNXJlbVwiIH0gfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDgzLmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnROYW1lLCBudWxsLCBcIidzIHNjcmVlblwiKSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4My5jcmVhdGVFbGVtZW50KENvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODMuY3JlYXRlRWxlbWVudChGb2N1c1RvZ2dsZSwgeyB0cmFja1JlZjogdHJhY2tSZWZlcmVuY2UgfSkpKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2xheW91dC9Gb2N1c0xheW91dC50c3hcbmZ1bmN0aW9uIEZvY3VzTGF5b3V0Q29udGFpbmVyKHByb3BzKSB7XG4gIGNvbnN0IGVsZW1lbnRQcm9wcyA9IG1lcmdlUHJvcHMyKHByb3BzLCB7IGNsYXNzTmFtZTogXCJsay1mb2N1cy1sYXlvdXRcIiB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe30sIGVsZW1lbnRQcm9wcyksIHByb3BzLmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIEZvY3VzTGF5b3V0KF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7IHRyYWNrUmVmLCB0cmFjayB9ID0gX2IsIGh0bWxQcm9wcyA9IF9fb2JqUmVzdChfYiwgW1widHJhY2tSZWZcIiwgXCJ0cmFja1wiXSk7XG4gIGNvbnN0IHRyYWNrUmVmZXJlbmNlID0gdHJhY2tSZWYgIT0gbnVsbCA/IHRyYWNrUmVmIDogdHJhY2s7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4NC5jcmVhdGVFbGVtZW50KFBhcnRpY2lwYW50VGlsZSwgX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHRyYWNrUmVmZXJlbmNlKSwgaHRtbFByb3BzKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2xheW91dC9HcmlkTGF5b3V0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q4OCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvVHJhY2tMb29wLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q4NSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldFRyYWNrUmVmZXJlbmNlSWQgYXMgZ2V0VHJhY2tSZWZlcmVuY2VJZDMgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5mdW5jdGlvbiBUcmFja0xvb3AoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgdHJhY2tzIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcInRyYWNrc1wiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4NS5jcmVhdGVFbGVtZW50KFJlYWN0ODUuRnJhZ21lbnQsIG51bGwsIHRyYWNrcy5tYXAoKHRyYWNrUmVmZXJlbmNlKSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg1LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBUcmFja1JlZkNvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cmFja1JlZmVyZW5jZSxcbiAgICAgICAga2V5OiBnZXRUcmFja1JlZmVyZW5jZUlkMyh0cmFja1JlZmVyZW5jZSlcbiAgICAgIH0sXG4gICAgICBjbG9uZVNpbmdsZUNoaWxkKHByb3BzLmNoaWxkcmVuKVxuICAgICk7XG4gIH0pKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvY29udHJvbHMvUGFnaW5hdGlvbkNvbnRyb2wudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDg2IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlSW50ZXJhY3RpbmdPYnNlcnZhYmxlIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuZnVuY3Rpb24gUGFnaW5hdGlvbkNvbnRyb2woe1xuICB0b3RhbFBhZ2VDb3VudCxcbiAgbmV4dFBhZ2UsXG4gIHByZXZQYWdlLFxuICBjdXJyZW50UGFnZSxcbiAgcGFnZXNDb250YWluZXI6IGNvbm5lY3RlZEVsZW1lbnRcbn0pIHtcbiAgY29uc3QgW2ludGVyYWN0aXZlLCBzZXRJbnRlcmFjdGl2ZV0gPSBSZWFjdDg2LnVzZVN0YXRlKGZhbHNlKTtcbiAgUmVhY3Q4Ni51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBzdWJzY3JpcHRpb247XG4gICAgaWYgKGNvbm5lY3RlZEVsZW1lbnQpIHtcbiAgICAgIHN1YnNjcmlwdGlvbiA9IGNyZWF0ZUludGVyYWN0aW5nT2JzZXJ2YWJsZShjb25uZWN0ZWRFbGVtZW50LmN1cnJlbnQsIDJlMykuc3Vic2NyaWJlKFxuICAgICAgICBzZXRJbnRlcmFjdGl2ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2Nvbm5lY3RlZEVsZW1lbnRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFnaW5hdGlvbi1jb250cm9sXCIsIFwiZGF0YS1say11c2VyLWludGVyYWN0aW9uXCI6IGludGVyYWN0aXZlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg2LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uXCIsIG9uQ2xpY2s6IHByZXZQYWdlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg2LmNyZWF0ZUVsZW1lbnQoQ2hldnJvbl9kZWZhdWx0LCBudWxsKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg2LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24tY291bnRcIiB9LCBgJHtjdXJyZW50UGFnZX0gb2YgJHt0b3RhbFBhZ2VDb3VudH1gKSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODYuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b25cIiwgb25DbGljazogbmV4dFBhZ2UgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODYuY3JlYXRlRWxlbWVudChDaGV2cm9uX2RlZmF1bHQsIG51bGwpKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbnRyb2xzL1BhZ2luYXRpb25JbmRpY2F0b3IudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDg3IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gUGFnaW5hdGlvbkluZGljYXRvcih7IHRvdGFsUGFnZUNvdW50LCBjdXJyZW50UGFnZSB9KSB7XG4gIGNvbnN0IGJ1YmJsZXMgPSBuZXcgQXJyYXkodG90YWxQYWdlQ291bnQpLmZpbGwoXCJcIikubWFwKChfLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCArIDEgPT09IGN1cnJlbnRQYWdlKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0ODcuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBcImRhdGEtbGstYWN0aXZlXCI6IHRydWUsIGtleTogaW5kZXggfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4Ny5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGtleTogaW5kZXggfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFnaW5hdGlvbi1pbmRpY2F0b3JcIiB9LCBidWJibGVzKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvbGF5b3V0L0dyaWRMYXlvdXQudHN4XG5mdW5jdGlvbiBHcmlkTGF5b3V0KF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7IHRyYWNrcyB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJ0cmFja3NcIl0pO1xuICBjb25zdCBncmlkRWwgPSBSZWFjdDg4LmNyZWF0ZVJlZigpO1xuICBjb25zdCBlbGVtZW50UHJvcHMgPSBSZWFjdDg4LnVzZU1lbW8oXG4gICAgKCkgPT4gbWVyZ2VQcm9wczIocHJvcHMsIHsgY2xhc3NOYW1lOiBcImxrLWdyaWQtbGF5b3V0XCIgfSksXG4gICAgW3Byb3BzXVxuICApO1xuICBjb25zdCB7IGxheW91dCB9ID0gdXNlR3JpZExheW91dChncmlkRWwsIHRyYWNrcy5sZW5ndGgpO1xuICBjb25zdCBwYWdpbmF0aW9uID0gdXNlUGFnaW5hdGlvbihsYXlvdXQubWF4VGlsZXMsIHRyYWNrcyk7XG4gIHVzZVN3aXBlKGdyaWRFbCwge1xuICAgIG9uTGVmdFN3aXBlOiBwYWdpbmF0aW9uLm5leHRQYWdlLFxuICAgIG9uUmlnaHRTd2lwZTogcGFnaW5hdGlvbi5wcmV2UGFnZVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDg4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoeyByZWY6IGdyaWRFbCwgXCJkYXRhLWxrLXBhZ2luYXRpb25cIjogcGFnaW5hdGlvbi50b3RhbFBhZ2VDb3VudCA+IDEgfSwgZWxlbWVudFByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODguY3JlYXRlRWxlbWVudChUcmFja0xvb3AsIHsgdHJhY2tzOiBwYWdpbmF0aW9uLnRyYWNrcyB9LCBwcm9wcy5jaGlsZHJlbiksIHRyYWNrcy5sZW5ndGggPiBsYXlvdXQubWF4VGlsZXMgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0ODguY3JlYXRlRWxlbWVudChSZWFjdDg4LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4OC5jcmVhdGVFbGVtZW50KFxuICAgIFBhZ2luYXRpb25JbmRpY2F0b3IsXG4gICAge1xuICAgICAgdG90YWxQYWdlQ291bnQ6IHBhZ2luYXRpb24udG90YWxQYWdlQ291bnQsXG4gICAgICBjdXJyZW50UGFnZTogcGFnaW5hdGlvbi5jdXJyZW50UGFnZVxuICAgIH1cbiAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODguY3JlYXRlRWxlbWVudChQYWdpbmF0aW9uQ29udHJvbCwgX19zcHJlYWRWYWx1ZXMoeyBwYWdlc0NvbnRhaW5lcjogZ3JpZEVsIH0sIHBhZ2luYXRpb24pKSkpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9sYXlvdXQvQ2Fyb3VzZWxMYXlvdXQudHN4XG5pbXBvcnQgeyBnZXRTY3JvbGxCYXJXaWR0aCB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCAqIGFzIFJlYWN0ODkgZnJvbSBcInJlYWN0XCI7XG52YXIgTUlOX0hFSUdIVCA9IDEzMDtcbnZhciBNSU5fV0lEVEggPSAxNDA7XG52YXIgTUlOX1ZJU0lCTEVfVElMRVMgPSAxO1xudmFyIEFTUEVDVF9SQVRJTyA9IDE2IC8gMTA7XG52YXIgQVNQRUNUX1JBVElPX0lOVkVSVCA9ICgxIC0gQVNQRUNUX1JBVElPKSAqIC0xO1xudmFyIENhcm91c2VsVmlldyA9IENhcm91c2VsTGF5b3V0O1xuZnVuY3Rpb24gQ2Fyb3VzZWxMYXlvdXQoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgdHJhY2tzLCBvcmllbnRhdGlvbiB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJ0cmFja3NcIiwgXCJvcmllbnRhdGlvblwiXSk7XG4gIGNvbnN0IGFzaWRlRWwgPSBSZWFjdDg5LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW3ByZXZUaWxlcywgc2V0UHJldlRpbGVzXSA9IFJlYWN0ODkudXNlU3RhdGUoMCk7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdXNlU2l6ZShhc2lkZUVsKTtcbiAgY29uc3QgY2Fyb3VzZWxPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uID8gb3JpZW50YXRpb24gOiBoZWlnaHQgPj0gd2lkdGggPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIjtcbiAgY29uc3QgdGlsZVNwYW4gPSBjYXJvdXNlbE9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBNYXRoLm1heCh3aWR0aCAqIEFTUEVDVF9SQVRJT19JTlZFUlQsIE1JTl9IRUlHSFQpIDogTWF0aC5tYXgoaGVpZ2h0ICogQVNQRUNUX1JBVElPLCBNSU5fV0lEVEgpO1xuICBjb25zdCBzY3JvbGxCYXJXaWR0aCA9IGdldFNjcm9sbEJhcldpZHRoKCk7XG4gIGNvbnN0IHRpbGVzVGhhdEZpdCA9IGNhcm91c2VsT3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IE1hdGgubWF4KChoZWlnaHQgLSBzY3JvbGxCYXJXaWR0aCkgLyB0aWxlU3BhbiwgTUlOX1ZJU0lCTEVfVElMRVMpIDogTWF0aC5tYXgoKHdpZHRoIC0gc2Nyb2xsQmFyV2lkdGgpIC8gdGlsZVNwYW4sIE1JTl9WSVNJQkxFX1RJTEVTKTtcbiAgbGV0IG1heFZpc2libGVUaWxlcyA9IE1hdGgucm91bmQodGlsZXNUaGF0Rml0KTtcbiAgaWYgKE1hdGguYWJzKHRpbGVzVGhhdEZpdCAtIHByZXZUaWxlcykgPCAwLjUpIHtcbiAgICBtYXhWaXNpYmxlVGlsZXMgPSBNYXRoLnJvdW5kKHByZXZUaWxlcyk7XG4gIH0gZWxzZSBpZiAocHJldlRpbGVzICE9PSB0aWxlc1RoYXRGaXQpIHtcbiAgICBzZXRQcmV2VGlsZXModGlsZXNUaGF0Rml0KTtcbiAgfVxuICBjb25zdCBzb3J0ZWRUaWxlcyA9IHVzZVZpc3VhbFN0YWJsZVVwZGF0ZSh0cmFja3MsIG1heFZpc2libGVUaWxlcyk7XG4gIFJlYWN0ODkudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXNpZGVFbC5jdXJyZW50KSB7XG4gICAgICBhc2lkZUVsLmN1cnJlbnQuZGF0YXNldC5sa09yaWVudGF0aW9uID0gY2Fyb3VzZWxPcmllbnRhdGlvbjtcbiAgICAgIGFzaWRlRWwuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstbWF4LXZpc2libGUtdGlsZXNcIiwgbWF4VmlzaWJsZVRpbGVzLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSwgW21heFZpc2libGVUaWxlcywgY2Fyb3VzZWxPcmllbnRhdGlvbl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0ODkuY3JlYXRlRWxlbWVudChcImFzaWRlXCIsIF9fc3ByZWFkVmFsdWVzKHsga2V5OiBjYXJvdXNlbE9yaWVudGF0aW9uLCBjbGFzc05hbWU6IFwibGstY2Fyb3VzZWxcIiwgcmVmOiBhc2lkZUVsIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0ODkuY3JlYXRlRWxlbWVudChUcmFja0xvb3AsIHsgdHJhY2tzOiBzb3J0ZWRUaWxlcyB9LCBwcm9wcy5jaGlsZHJlbikpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9sYXlvdXQvTGF5b3V0Q29udGV4dFByb3ZpZGVyLnRzeFxuaW1wb3J0IHsgbG9nIGFzIGxvZzEwIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q5MCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIExheW91dENvbnRleHRQcm92aWRlcih7XG4gIHZhbHVlLFxuICBvblBpbkNoYW5nZSxcbiAgb25XaWRnZXRDaGFuZ2UsXG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IGxheW91dENvbnRleHRWYWx1ZSA9IHVzZUVuc3VyZUNyZWF0ZUxheW91dENvbnRleHQodmFsdWUpO1xuICBSZWFjdDkwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9nMTAuZGVidWcoXCJQaW5TdGF0ZSBVcGRhdGVkXCIsIHsgc3RhdGU6IGxheW91dENvbnRleHRWYWx1ZS5waW4uc3RhdGUgfSk7XG4gICAgaWYgKG9uUGluQ2hhbmdlICYmIGxheW91dENvbnRleHRWYWx1ZS5waW4uc3RhdGUpXG4gICAgICBvblBpbkNoYW5nZShsYXlvdXRDb250ZXh0VmFsdWUucGluLnN0YXRlKTtcbiAgfSwgW2xheW91dENvbnRleHRWYWx1ZS5waW4uc3RhdGUsIG9uUGluQ2hhbmdlXSk7XG4gIFJlYWN0OTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2cxMC5kZWJ1ZyhcIldpZGdldCBVcGRhdGVkXCIsIHsgd2lkZ2V0U3RhdGU6IGxheW91dENvbnRleHRWYWx1ZS53aWRnZXQuc3RhdGUgfSk7XG4gICAgaWYgKG9uV2lkZ2V0Q2hhbmdlICYmIGxheW91dENvbnRleHRWYWx1ZS53aWRnZXQuc3RhdGUpIHtcbiAgICAgIG9uV2lkZ2V0Q2hhbmdlKGxheW91dENvbnRleHRWYWx1ZS53aWRnZXQuc3RhdGUpO1xuICAgIH1cbiAgfSwgW29uV2lkZ2V0Q2hhbmdlLCBsYXlvdXRDb250ZXh0VmFsdWUud2lkZ2V0LnN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5MC5jcmVhdGVFbGVtZW50KExheW91dENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGxheW91dENvbnRleHRWYWx1ZSB9LCBjaGlsZHJlbik7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL0xpdmVLaXRSb29tLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q5MSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIExpdmVLaXRSb29tKHByb3BzKSB7XG4gIGNvbnN0IHsgcm9vbSwgaHRtbFByb3BzIH0gPSB1c2VMaXZlS2l0Um9vbShwcm9wcyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5MS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBodG1sUHJvcHMpLCByb29tICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkxLmNyZWF0ZUVsZW1lbnQoUm9vbUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHJvb20gfSwgLyogQF9fUFVSRV9fICovIFJlYWN0OTEuY3JlYXRlRWxlbWVudChMS0ZlYXR1cmVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9wcy5mZWF0dXJlRmxhZ3MgfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50L0F1ZGlvVmlzdWFsaXplci50c3hcbmltcG9ydCB7IFRyYWNrIGFzIFRyYWNrNiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3Q5MiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIEF1ZGlvVmlzdWFsaXplcihfYSkge1xuICB2YXIgX2IgPSBfYSwgeyBwYXJ0aWNpcGFudCwgdHJhY2tSZWYgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wicGFydGljaXBhbnRcIiwgXCJ0cmFja1JlZlwiXSk7XG4gIHZhciBfYTIsIF9iMjtcbiAgY29uc3Qgc3ZnV2lkdGggPSAyMDA7XG4gIGNvbnN0IHN2Z0hlaWdodCA9IDkwO1xuICBjb25zdCBiYXJXaWR0aCA9IDY7XG4gIGNvbnN0IGJhclNwYWNpbmcgPSA0O1xuICBjb25zdCB2b2xNdWx0aXBsaWVyID0gNTA7XG4gIGNvbnN0IGJhckNvdW50ID0gNztcbiAgY29uc3QgcCA9IChfYTIgPSB1c2VNYXliZVBhcnRpY2lwYW50Q29udGV4dCgpKSAhPSBudWxsID8gX2EyIDogcGFydGljaXBhbnQ7XG4gIGxldCByZWYgPSAoX2IyID0gdXNlTWF5YmVUcmFja1JlZkNvbnRleHQoKSkgIT0gbnVsbCA/IF9iMiA6IHRyYWNrUmVmO1xuICBpZiAoIXJlZikge1xuICAgIGlmICghcCkge1xuICAgICAgdGhyb3cgRXJyb3IoYFBhcnRpY2lwYW50IG1pc3NpbmcsIHByb3ZpZGUgaXQgZGlyZWN0bHkgb3Igd2l0aGluIGEgY29udGV4dGApO1xuICAgIH1cbiAgICByZWYgPSB7IHBhcnRpY2lwYW50OiBwLCBzb3VyY2U6IFRyYWNrNi5Tb3VyY2UuTWljcm9waG9uZSB9O1xuICB9XG4gIGNvbnN0IHZvbHVtZXMgPSB1c2VNdWx0aWJhbmRUcmFja1ZvbHVtZShyZWYsIHsgYmFuZHM6IDcsIGxvUGFzczogMzAwIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OTIuY3JlYXRlRWxlbWVudChcbiAgICBcInN2Z1wiLFxuICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIHZpZXdCb3g6IGAwIDAgJHtzdmdXaWR0aH0gJHtzdmdIZWlnaHR9YFxuICAgIH0sIHByb3BzKSwge1xuICAgICAgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLXZpc3VhbGl6ZXJcIlxuICAgIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkyLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHsgeDogXCIwXCIsIHk6IFwiMFwiLCB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIgfSksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0OTIuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZ1wiLFxuICAgICAge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgkeyhzdmdXaWR0aCAtIGJhckNvdW50ICogKGJhcldpZHRoICsgYmFyU3BhY2luZykpIC8gMn1weCwgMClgXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2b2x1bWVzLm1hcCgodm9sLCBpZHgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwicmVjdFwiLFxuICAgICAgICB7XG4gICAgICAgICAga2V5OiBpZHgsXG4gICAgICAgICAgeDogaWR4ICogKGJhcldpZHRoICsgYmFyU3BhY2luZyksXG4gICAgICAgICAgeTogc3ZnSGVpZ2h0IC8gMiAtIHZvbCAqIHZvbE11bHRpcGxpZXIgLyAyLFxuICAgICAgICAgIHdpZHRoOiBiYXJXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZvbCAqIHZvbE11bHRpcGxpZXJcbiAgICAgICAgfVxuICAgICAgKSlcbiAgICApXG4gICk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1BhcnRpY2lwYW50TG9vcC50c3hcbmltcG9ydCAqIGFzIFJlYWN0OTMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBQYXJ0aWNpcGFudExvb3AoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgcGFydGljaXBhbnRzIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcInBhcnRpY2lwYW50c1wiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5My5jcmVhdGVFbGVtZW50KFJlYWN0OTMuRnJhZ21lbnQsIG51bGwsIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5My5jcmVhdGVFbGVtZW50KFBhcnRpY2lwYW50Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcGFydGljaXBhbnQsIGtleTogcGFydGljaXBhbnQuaWRlbnRpdHkgfSwgY2xvbmVTaW5nbGVDaGlsZChwcm9wcy5jaGlsZHJlbikpKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1Jvb21BdWRpb1JlbmRlcmVyLnRzeFxuaW1wb3J0IHsgZ2V0VHJhY2tSZWZlcmVuY2VJZCBhcyBnZXRUcmFja1JlZmVyZW5jZUlkNCwgaXNMb2NhbCBhcyBpc0xvY2FsMiB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmltcG9ydCB7IFRyYWNrIGFzIFRyYWNrNyB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3Q5NCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFJvb21BdWRpb1JlbmRlcmVyKHsgdm9sdW1lLCBtdXRlZCB9KSB7XG4gIGNvbnN0IHRyYWNrcyA9IHVzZVRyYWNrcyhcbiAgICBbVHJhY2s3LlNvdXJjZS5NaWNyb3Bob25lLCBUcmFjazcuU291cmNlLlNjcmVlblNoYXJlQXVkaW8sIFRyYWNrNy5Tb3VyY2UuVW5rbm93bl0sXG4gICAge1xuICAgICAgdXBkYXRlT25seU9uOiBbXSxcbiAgICAgIG9ubHlTdWJzY3JpYmVkOiBmYWxzZVxuICAgIH1cbiAgKS5maWx0ZXIoKHJlZikgPT4gIWlzTG9jYWwyKHJlZi5wYXJ0aWNpcGFudCkgJiYgcmVmLnB1YmxpY2F0aW9uLmtpbmQgPT09IFRyYWNrNy5LaW5kLkF1ZGlvKTtcbiAgUmVhY3Q5NC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzKSB7XG4gICAgICB0cmFjay5wdWJsaWNhdGlvbi5zZXRTdWJzY3JpYmVkKHRydWUpO1xuICAgIH1cbiAgfSwgW3RyYWNrc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OTQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfSwgdHJhY2tzLm1hcCgodHJhY2tSZWYpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQXVkaW9UcmFjayxcbiAgICB7XG4gICAgICBrZXk6IGdldFRyYWNrUmVmZXJlbmNlSWQ0KHRyYWNrUmVmKSxcbiAgICAgIHRyYWNrUmVmLFxuICAgICAgdm9sdW1lLFxuICAgICAgbXV0ZWRcbiAgICB9XG4gICkpKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvUm9vbU5hbWUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDk1IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gUm9vbU5hbWUoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjaGlsZHJlblBvc2l0aW9uID0gXCJiZWZvcmVcIixcbiAgICBjaGlsZHJlblxuICB9ID0gX2IsIGh0bWxBdHRyaWJ1dGVzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJjaGlsZHJlblBvc2l0aW9uXCIsXG4gICAgXCJjaGlsZHJlblwiXG4gIF0pO1xuICBjb25zdCB7IG5hbWUgfSA9IHVzZVJvb21JbmZvKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5NS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgaHRtbEF0dHJpYnV0ZXMpLCBjaGlsZHJlblBvc2l0aW9uID09PSBcImJlZm9yZVwiICYmIGNoaWxkcmVuLCBuYW1lLCBjaGlsZHJlblBvc2l0aW9uID09PSBcImFmdGVyXCIgJiYgY2hpbGRyZW4pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9Ub2FzdC50c3hcbmltcG9ydCAqIGFzIFJlYWN0OTYgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBUb2FzdChwcm9wcykge1xuICBjb25zdCBodG1sUHJvcHMgPSBSZWFjdDk2LnVzZU1lbW8oKCkgPT4gbWVyZ2VQcm9wczIocHJvcHMsIHsgY2xhc3NOYW1lOiBcImxrLXRvYXN0XCIgfSksIFtwcm9wc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OTYuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgaHRtbFByb3BzKSwgcHJvcHMuY2hpbGRyZW4pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudC9QYXJ0aWNpcGFudEF1ZGlvVGlsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0OTcgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUcmFjayBhcyBUcmFjazggfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmZ1bmN0aW9uIFBhcnRpY2lwYW50QXVkaW9UaWxlKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgcGFydGljaXBhbnQsXG4gICAgY2hpbGRyZW4sXG4gICAgc291cmNlLFxuICAgIHB1YmxpY2F0aW9uLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2tcbiAgfSA9IF9iLCBodG1sUHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInBhcnRpY2lwYW50XCIsXG4gICAgXCJjaGlsZHJlblwiLFxuICAgIFwic291cmNlXCIsXG4gICAgXCJwdWJsaWNhdGlvblwiLFxuICAgIFwiZGlzYWJsZVNwZWFraW5nSW5kaWNhdG9yXCIsXG4gICAgXCJvblBhcnRpY2lwYW50Q2xpY2tcIlxuICBdKTtcbiAgY29uc3QgcCA9IHVzZUVuc3VyZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50KTtcbiAgY29uc3QgeyBlbGVtZW50UHJvcHMgfSA9IHVzZVBhcnRpY2lwYW50VGlsZSh7XG4gICAgcGFydGljaXBhbnQ6IHAsXG4gICAgaHRtbFByb3BzLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcixcbiAgICBzb3VyY2U6IFRyYWNrOC5Tb3VyY2UuTWljcm9waG9uZSxcbiAgICBwdWJsaWNhdGlvbixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2tcbiAgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5Ny5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fc3ByZWFkVmFsdWVzKHsgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9IH0sIGVsZW1lbnRQcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk3LmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnRDb250ZXh0SWZOZWVkZWQsIHsgcGFydGljaXBhbnQ6IHAgfSwgY2hpbGRyZW4gIT0gbnVsbCA/IGNoaWxkcmVuIDogLyogQF9fUFVSRV9fICovIFJlYWN0OTcuY3JlYXRlRWxlbWVudChSZWFjdDk3LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5Ny5jcmVhdGVFbGVtZW50KEF1ZGlvVHJhY2ssIHsgc291cmNlOiBzb3VyY2UgIT0gbnVsbCA/IHNvdXJjZSA6IFRyYWNrOC5Tb3VyY2UuTWljcm9waG9uZSB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0OTcuY3JlYXRlRWxlbWVudChBdWRpb1Zpc3VhbGl6ZXIsIG51bGwpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5Ny5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0OTcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0OTcuY3JlYXRlRWxlbWVudChUcmFja011dGVkSW5kaWNhdG9yLCB7IHNvdXJjZTogVHJhY2s4LlNvdXJjZS5NaWNyb3Bob25lIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5Ny5jcmVhdGVFbGVtZW50KFBhcnRpY2lwYW50TmFtZSwgbnVsbCkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5Ny5jcmVhdGVFbGVtZW50KENvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSkpKSkpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9Db25uZWN0aW9uU3RhdGVUb2FzdC50c3hcbmltcG9ydCB7IENvbm5lY3Rpb25TdGF0ZSBhcyBDb25uZWN0aW9uU3RhdGU0IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdDk4IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gQ29ubmVjdGlvblN0YXRlVG9hc3QocHJvcHMpIHtcbiAgY29uc3QgW25vdGlmaWNhdGlvbiwgc2V0Tm90aWZpY2F0aW9uXSA9IFJlYWN0OTgudXNlU3RhdGUodm9pZCAwKTtcbiAgY29uc3Qgc3RhdGUgPSB1c2VDb25uZWN0aW9uU3RhdGUocHJvcHMucm9vbSk7XG4gIFJlYWN0OTgudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZTQuUmVjb25uZWN0aW5nOlxuICAgICAgICBzZXROb3RpZmljYXRpb24oXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIFJlYWN0OTguY3JlYXRlRWxlbWVudChSZWFjdDk4LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5OC5jcmVhdGVFbGVtZW50KFNwaW5uZXJJY29uX2RlZmF1bHQsIHsgY2xhc3NOYW1lOiBcImxrLXNwaW5uZXJcIiB9KSwgXCIgUmVjb25uZWN0aW5nXCIpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGU0LkNvbm5lY3Rpbmc6XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbihcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q5OC5jcmVhdGVFbGVtZW50KFJlYWN0OTguRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk4LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lckljb25fZGVmYXVsdCwgeyBjbGFzc05hbWU6IFwibGstc3Bpbm5lclwiIH0pLCBcIiBDb25uZWN0aW5nXCIpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGU0LkRpc2Nvbm5lY3RlZDpcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9uKC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk4LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5OC5GcmFnbWVudCwgbnVsbCwgXCJEaXNjb25uZWN0ZWRcIikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHNldE5vdGlmaWNhdGlvbih2b2lkIDApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIFtzdGF0ZV0pO1xuICByZXR1cm4gbm90aWZpY2F0aW9uID8gLyogQF9fUFVSRV9fICovIFJlYWN0OTguY3JlYXRlRWxlbWVudChUb2FzdCwgeyBjbGFzc05hbWU6IFwibGstdG9hc3QtY29ubmVjdGlvbi1zdGF0ZVwiIH0sIG5vdGlmaWNhdGlvbikgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5OC5jcmVhdGVFbGVtZW50KFJlYWN0OTguRnJhZ21lbnQsIG51bGwpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9DaGF0RW50cnkudHN4XG5pbXBvcnQgeyB0b2tlbml6ZSwgY3JlYXRlRGVmYXVsdEdyYW1tYXIgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5pbXBvcnQgKiBhcyBSZWFjdDk5IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gQ2hhdEVudHJ5KF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgZW50cnksXG4gICAgaGlkZU5hbWUgPSBmYWxzZSxcbiAgICBoaWRlVGltZXN0YW1wID0gZmFsc2UsXG4gICAgbWVzc2FnZUZvcm1hdHRlclxuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJlbnRyeVwiLFxuICAgIFwiaGlkZU5hbWVcIixcbiAgICBcImhpZGVUaW1lc3RhbXBcIixcbiAgICBcIm1lc3NhZ2VGb3JtYXR0ZXJcIlxuICBdKTtcbiAgdmFyIF9hMiwgX2IyLCBfYywgX2Q7XG4gIGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSBSZWFjdDk5LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBtZXNzYWdlRm9ybWF0dGVyID8gbWVzc2FnZUZvcm1hdHRlcihlbnRyeS5tZXNzYWdlKSA6IGVudHJ5Lm1lc3NhZ2U7XG4gIH0sIFtlbnRyeS5tZXNzYWdlLCBtZXNzYWdlRm9ybWF0dGVyXSk7XG4gIGNvbnN0IGhhc0JlZW5FZGl0ZWQgPSAhIWVudHJ5LmVkaXRUaW1lc3RhbXA7XG4gIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZShlbnRyeS50aW1lc3RhbXApO1xuICBjb25zdCBsb2NhbGUgPSBuYXZpZ2F0b3IgPyBuYXZpZ2F0b3IubGFuZ3VhZ2UgOiBcImVuLVVTXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlcIixcbiAgICBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBjbGFzc05hbWU6IFwibGstY2hhdC1lbnRyeVwiLFxuICAgICAgdGl0bGU6IHRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKGxvY2FsZSwgeyB0aW1lU3R5bGU6IFwiZnVsbFwiIH0pLFxuICAgICAgXCJkYXRhLWxrLW1lc3NhZ2Utb3JpZ2luXCI6ICgoX2EyID0gZW50cnkuZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5pc0xvY2FsKSA/IFwibG9jYWxcIiA6IFwicmVtb3RlXCJcbiAgICB9LCBwcm9wcyksXG4gICAgKCFoaWRlVGltZXN0YW1wIHx8ICFoaWRlTmFtZSB8fCBoYXNCZWVuRWRpdGVkKSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5OS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay1tZXRhLWRhdGFcIiB9LCAhaGlkZU5hbWUgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0OTkuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1uYW1lXCIgfSwgKF9kID0gKF9iMiA9IGVudHJ5LmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBfYjIubmFtZSkgIT0gbnVsbCA/IF9kIDogKF9jID0gZW50cnkuZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmlkZW50aXR5KSwgKCFoaWRlVGltZXN0YW1wIHx8IGhhc0JlZW5FZGl0ZWQpICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk5LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLXRpbWVzdGFtcFwiIH0sIGhhc0JlZW5FZGl0ZWQgJiYgXCJlZGl0ZWQgXCIsIHRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKGxvY2FsZSwgeyB0aW1lU3R5bGU6IFwic2hvcnRcIiB9KSkpLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDk5LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLW1lc3NhZ2UtYm9keVwiIH0sIGZvcm1hdHRlZE1lc3NhZ2UpXG4gICk7XG59XG5mdW5jdGlvbiBmb3JtYXRDaGF0TWVzc2FnZUxpbmtzKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIHRva2VuaXplKG1lc3NhZ2UsIGNyZWF0ZURlZmF1bHRHcmFtbWFyKCkpLm1hcCgodG9rLCBpKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0b2sgPT09IGBzdHJpbmdgKSB7XG4gICAgICByZXR1cm4gdG9rO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gdG9rLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgIGNvbnN0IGhyZWYgPSB0b2sudHlwZSA9PT0gYHVybGAgPyAvXmh0dHAocz8pOlxcL1xcLy8udGVzdChjb250ZW50KSA/IGNvbnRlbnQgOiBgaHR0cHM6Ly8ke2NvbnRlbnR9YCA6IGBtYWlsdG86JHtjb250ZW50fWA7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OTkuY3JlYXRlRWxlbWVudChcImFcIiwgeyBjbGFzc05hbWU6IFwibGstY2hhdC1saW5rXCIsIGtleTogaSwgaHJlZiwgdGFyZ2V0OiBcIl9ibGFua1wiLCByZWw6IFwibm9yZWZlcnJlclwiIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9wcmVmYWJzL0NoYXQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwMCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIENoYXQoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBtZXNzYWdlRm9ybWF0dGVyLFxuICAgIG1lc3NhZ2VEZWNvZGVyLFxuICAgIG1lc3NhZ2VFbmNvZGVyLFxuICAgIGNoYW5uZWxUb3BpY1xuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJtZXNzYWdlRm9ybWF0dGVyXCIsXG4gICAgXCJtZXNzYWdlRGVjb2RlclwiLFxuICAgIFwibWVzc2FnZUVuY29kZXJcIixcbiAgICBcImNoYW5uZWxUb3BpY1wiXG4gIF0pO1xuICBjb25zdCBpbnB1dFJlZiA9IFJlYWN0MTAwLnVzZVJlZihudWxsKTtcbiAgY29uc3QgdWxSZWYgPSBSZWFjdDEwMC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNoYXRPcHRpb25zID0gUmVhY3QxMDAudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHsgbWVzc2FnZURlY29kZXIsIG1lc3NhZ2VFbmNvZGVyLCBjaGFubmVsVG9waWMgfTtcbiAgfSwgW21lc3NhZ2VEZWNvZGVyLCBtZXNzYWdlRW5jb2RlciwgY2hhbm5lbFRvcGljXSk7XG4gIGNvbnN0IHsgc2VuZCwgY2hhdE1lc3NhZ2VzLCBpc1NlbmRpbmcgfSA9IHVzZUNoYXQoY2hhdE9wdGlvbnMpO1xuICBjb25zdCBsYXlvdXRDb250ZXh0ID0gdXNlTWF5YmVMYXlvdXRDb250ZXh0KCk7XG4gIGNvbnN0IGxhc3RSZWFkTXNnQXQgPSBSZWFjdDEwMC51c2VSZWYoMCk7XG4gIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIHJldHVybiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgJiYgaW5wdXRSZWYuY3VycmVudC52YWx1ZS50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgaWYgKHNlbmQpIHtcbiAgICAgICAgICB5aWVsZCBzZW5kKGlucHV0UmVmLmN1cnJlbnQudmFsdWUpO1xuICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFJlYWN0MTAwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBpZiAodWxSZWYpIHtcbiAgICAgIChfYTIgPSB1bFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNjcm9sbFRvKHsgdG9wOiB1bFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodCB9KTtcbiAgICB9XG4gIH0sIFt1bFJlZiwgY2hhdE1lc3NhZ2VzXSk7XG4gIFJlYWN0MTAwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYywgX2QsIF9lO1xuICAgIGlmICghbGF5b3V0Q29udGV4dCB8fCBjaGF0TWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgoKF9hMiA9IGxheW91dENvbnRleHQud2lkZ2V0LnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNob3dDaGF0KSAmJiBjaGF0TWVzc2FnZXMubGVuZ3RoID4gMCAmJiBsYXN0UmVhZE1zZ0F0LmN1cnJlbnQgIT09ICgoX2IyID0gY2hhdE1lc3NhZ2VzW2NoYXRNZXNzYWdlcy5sZW5ndGggLSAxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi50aW1lc3RhbXApKSB7XG4gICAgICBsYXN0UmVhZE1zZ0F0LmN1cnJlbnQgPSAoX2MgPSBjaGF0TWVzc2FnZXNbY2hhdE1lc3NhZ2VzLmxlbmd0aCAtIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2MudGltZXN0YW1wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1bnJlYWRNZXNzYWdlQ291bnQgPSBjaGF0TWVzc2FnZXMuZmlsdGVyKFxuICAgICAgKG1zZykgPT4gIWxhc3RSZWFkTXNnQXQuY3VycmVudCB8fCBtc2cudGltZXN0YW1wID4gbGFzdFJlYWRNc2dBdC5jdXJyZW50XG4gICAgKS5sZW5ndGg7XG4gICAgY29uc3QgeyB3aWRnZXQgfSA9IGxheW91dENvbnRleHQ7XG4gICAgaWYgKHVucmVhZE1lc3NhZ2VDb3VudCA+IDAgJiYgKChfZCA9IHdpZGdldC5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnVucmVhZE1lc3NhZ2VzKSAhPT0gdW5yZWFkTWVzc2FnZUNvdW50KSB7XG4gICAgICAoX2UgPSB3aWRnZXQuZGlzcGF0Y2gpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jYWxsKHdpZGdldCwgeyBtc2c6IFwidW5yZWFkX21zZ1wiLCBjb3VudDogdW5yZWFkTWVzc2FnZUNvdW50IH0pO1xuICAgIH1cbiAgfSwgW2NoYXRNZXNzYWdlcywgbGF5b3V0Q29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogbGF5b3V0Q29udGV4dC53aWRnZXRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgeyBjbGFzc05hbWU6IFwibGstY2hhdFwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1jaGF0LWhlYWRlclwiIH0sIFwiTWVzc2FnZXNcIiwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAwLmNyZWF0ZUVsZW1lbnQoQ2hhdFRvZ2dsZSwgeyBjbGFzc05hbWU6IFwibGstY2xvc2UtYnV0dG9uXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAwLmNyZWF0ZUVsZW1lbnQoQ2hhdENsb3NlSWNvbl9kZWZhdWx0LCBudWxsKSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDAuY3JlYXRlRWxlbWVudChcInVsXCIsIHsgY2xhc3NOYW1lOiBcImxrLWxpc3QgbGstY2hhdC1tZXNzYWdlc1wiLCByZWY6IHVsUmVmIH0sIHByb3BzLmNoaWxkcmVuID8gY2hhdE1lc3NhZ2VzLm1hcChcbiAgICAobXNnLCBpZHgpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gY2xvbmVTaW5nbGVDaGlsZChwcm9wcy5jaGlsZHJlbiwge1xuICAgICAgICBlbnRyeTogbXNnLFxuICAgICAgICBrZXk6IChfYTIgPSBtc2cuaWQpICE9IG51bGwgPyBfYTIgOiBpZHgsXG4gICAgICAgIG1lc3NhZ2VGb3JtYXR0ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgKSA6IGNoYXRNZXNzYWdlcy5tYXAoKG1zZywgaWR4LCBhbGxNc2cpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGNvbnN0IGhpZGVOYW1lID0gaWR4ID49IDEgJiYgYWxsTXNnW2lkeCAtIDFdLmZyb20gPT09IG1zZy5mcm9tO1xuICAgIGNvbnN0IGhpZGVUaW1lc3RhbXAgPSBpZHggPj0gMSAmJiBtc2cudGltZXN0YW1wIC0gYWxsTXNnW2lkeCAtIDFdLnRpbWVzdGFtcCA8IDZlNDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBDaGF0RW50cnksXG4gICAgICB7XG4gICAgICAgIGtleTogKF9hMiA9IG1zZy5pZCkgIT0gbnVsbCA/IF9hMiA6IGlkeCxcbiAgICAgICAgaGlkZU5hbWUsXG4gICAgICAgIGhpZGVUaW1lc3RhbXA6IGhpZGVOYW1lID09PSBmYWxzZSA/IGZhbHNlIDogaGlkZVRpbWVzdGFtcCxcbiAgICAgICAgZW50cnk6IG1zZyxcbiAgICAgICAgbWVzc2FnZUZvcm1hdHRlclxuICAgICAgfVxuICAgICk7XG4gIH0pKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAwLmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBcImxrLWNoYXQtZm9ybVwiLCBvblN1Ym1pdDogaGFuZGxlU3VibWl0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMC5jcmVhdGVFbGVtZW50KFxuICAgIFwiaW5wdXRcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstZm9ybS1jb250cm9sIGxrLWNoYXQtZm9ybS1pbnB1dFwiLFxuICAgICAgZGlzYWJsZWQ6IGlzU2VuZGluZyxcbiAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHBsYWNlaG9sZGVyOiBcIkVudGVyIGEgbWVzc2FnZS4uLlwiXG4gICAgfVxuICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDAuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHR5cGU6IFwic3VibWl0XCIsIGNsYXNzTmFtZTogXCJsay1idXR0b24gbGstY2hhdC1mb3JtLWJ1dHRvblwiLCBkaXNhYmxlZDogaXNTZW5kaW5nIH0sIFwiU2VuZFwiKSkpO1xufVxuXG4vLyBzcmMvcHJlZmFicy9QcmVKb2luLnRzeFxuaW1wb3J0IHtcbiAgY3JlYXRlTG9jYWxBdWRpb1RyYWNrLFxuICBjcmVhdGVMb2NhbFRyYWNrcyxcbiAgY3JlYXRlTG9jYWxWaWRlb1RyYWNrLFxuICBmYWNpbmdNb2RlRnJvbUxvY2FsVHJhY2sgYXMgZmFjaW5nTW9kZUZyb21Mb2NhbFRyYWNrMixcbiAgVHJhY2sgYXMgVHJhY2s5LFxuICBWaWRlb1ByZXNldHNcbn0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdDEwMyBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3ByZWZhYnMvTWVkaWFEZXZpY2VNZW51LnRzeFxuaW1wb3J0IHsgY29tcHV0ZU1lbnVQb3NpdGlvbiwgd2FzQ2xpY2tPdXRzaWRlIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QxMDEgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBsb2cgYXMgbG9nMTEgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5mdW5jdGlvbiBNZWRpYURldmljZU1lbnUoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBraW5kLFxuICAgIGluaXRpYWxTZWxlY3Rpb24sXG4gICAgb25BY3RpdmVEZXZpY2VDaGFuZ2UsXG4gICAgdHJhY2tzLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyA9IGZhbHNlXG4gIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImtpbmRcIixcbiAgICBcImluaXRpYWxTZWxlY3Rpb25cIixcbiAgICBcIm9uQWN0aXZlRGV2aWNlQ2hhbmdlXCIsXG4gICAgXCJ0cmFja3NcIixcbiAgICBcInJlcXVlc3RQZXJtaXNzaW9uc1wiXG4gIF0pO1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gUmVhY3QxMDEudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGV2aWNlcywgc2V0RGV2aWNlc10gPSBSZWFjdDEwMS51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFt1cGRhdGVSZXF1aXJlZCwgc2V0VXBkYXRlUmVxdWlyZWRdID0gUmVhY3QxMDEudXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IGhhbmRsZUFjdGl2ZURldmljZUNoYW5nZSA9IChraW5kMiwgZGV2aWNlSWQpID0+IHtcbiAgICBsb2cxMS5kZWJ1ZyhcImhhbmRsZSBkZXZpY2UgY2hhbmdlXCIpO1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgb25BY3RpdmVEZXZpY2VDaGFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQWN0aXZlRGV2aWNlQ2hhbmdlKGtpbmQyLCBkZXZpY2VJZCk7XG4gIH07XG4gIGNvbnN0IGJ1dHRvbiA9IFJlYWN0MTAxLnVzZVJlZihudWxsKTtcbiAgY29uc3QgdG9vbHRpcCA9IFJlYWN0MTAxLnVzZVJlZihudWxsKTtcbiAgUmVhY3QxMDEudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYnV0dG9uLmN1cnJlbnQgJiYgdG9vbHRpcC5jdXJyZW50ICYmIChkZXZpY2VzIHx8IHVwZGF0ZVJlcXVpcmVkKSkge1xuICAgICAgY29tcHV0ZU1lbnVQb3NpdGlvbihidXR0b24uY3VycmVudCwgdG9vbHRpcC5jdXJyZW50KS50aGVuKCh7IHgsIHkgfSkgPT4ge1xuICAgICAgICBpZiAodG9vbHRpcC5jdXJyZW50KSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sdGlwLmN1cnJlbnQuc3R5bGUsIHsgbGVmdDogYCR7eH1weGAsIHRvcDogYCR7eX1weGAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRVcGRhdGVSZXF1aXJlZChmYWxzZSk7XG4gIH0sIFtidXR0b24sIHRvb2x0aXAsIGRldmljZXMsIHVwZGF0ZVJlcXVpcmVkXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IFJlYWN0MTAxLnVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKCF0b29sdGlwLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYnV0dG9uLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzT3BlbiAmJiB3YXNDbGlja091dHNpZGUodG9vbHRpcC5jdXJyZW50LCBldmVudCkpIHtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtpc09wZW4sIHRvb2x0aXAsIGJ1dHRvbl1cbiAgKTtcbiAgUmVhY3QxMDEudXNlRWZmZWN0KCgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiBzZXRVcGRhdGVSZXF1aXJlZCh0cnVlKSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gc2V0VXBkYXRlUmVxdWlyZWQodHJ1ZSkpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVDbGlja091dHNpZGUsIHNldFVwZGF0ZVJlcXVpcmVkXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDEuY3JlYXRlRWxlbWVudChSZWFjdDEwMS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAxLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJidXR0b25cIixcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGNsYXNzTmFtZTogXCJsay1idXR0b24gbGstYnV0dG9uLW1lbnVcIixcbiAgICAgIFwiYXJpYS1wcmVzc2VkXCI6IGlzT3BlblxuICAgIH0sIHByb3BzKSwge1xuICAgICAgb25DbGljazogKCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pLFxuICAgICAgcmVmOiBidXR0b25cbiAgICB9KSxcbiAgICBwcm9wcy5jaGlsZHJlblxuICApLCAhcHJvcHMuZGlzYWJsZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTAxLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstZGV2aWNlLW1lbnVcIixcbiAgICAgIHJlZjogdG9vbHRpcCxcbiAgICAgIHN0eWxlOiB7IHZpc2liaWxpdHk6IGlzT3BlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIiB9XG4gICAgfSxcbiAgICBraW5kID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTAxLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBNZWRpYURldmljZVNlbGVjdCxcbiAgICAgIHtcbiAgICAgICAgaW5pdGlhbFNlbGVjdGlvbixcbiAgICAgICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IChkZXZpY2VJZCkgPT4gaGFuZGxlQWN0aXZlRGV2aWNlQ2hhbmdlKGtpbmQsIGRldmljZUlkKSxcbiAgICAgICAgb25EZXZpY2VMaXN0Q2hhbmdlOiBzZXREZXZpY2VzLFxuICAgICAgICBraW5kLFxuICAgICAgICB0cmFjazogdHJhY2tzID09IG51bGwgPyB2b2lkIDAgOiB0cmFja3Nba2luZF0sXG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uc1xuICAgICAgfVxuICAgICkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDEuY3JlYXRlRWxlbWVudChSZWFjdDEwMS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstZGV2aWNlLW1lbnUtaGVhZGluZ1wiIH0sIFwiQXVkaW8gaW5wdXRzXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDEuY3JlYXRlRWxlbWVudChcbiAgICAgIE1lZGlhRGV2aWNlU2VsZWN0LFxuICAgICAge1xuICAgICAgICBraW5kOiBcImF1ZGlvaW5wdXRcIixcbiAgICAgICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IChkZXZpY2VJZCkgPT4gaGFuZGxlQWN0aXZlRGV2aWNlQ2hhbmdlKFwiYXVkaW9pbnB1dFwiLCBkZXZpY2VJZCksXG4gICAgICAgIG9uRGV2aWNlTGlzdENoYW5nZTogc2V0RGV2aWNlcyxcbiAgICAgICAgdHJhY2s6IHRyYWNrcyA9PSBudWxsID8gdm9pZCAwIDogdHJhY2tzLmF1ZGlvaW5wdXQsXG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uc1xuICAgICAgfVxuICAgICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWRldmljZS1tZW51LWhlYWRpbmdcIiB9LCBcIlZpZGVvIGlucHV0c1wiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAxLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBNZWRpYURldmljZVNlbGVjdCxcbiAgICAgIHtcbiAgICAgICAga2luZDogXCJ2aWRlb2lucHV0XCIsXG4gICAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiAoZGV2aWNlSWQpID0+IGhhbmRsZUFjdGl2ZURldmljZUNoYW5nZShcInZpZGVvaW5wdXRcIiwgZGV2aWNlSWQpLFxuICAgICAgICBvbkRldmljZUxpc3RDaGFuZ2U6IHNldERldmljZXMsXG4gICAgICAgIHRyYWNrOiB0cmFja3MgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrcy52aWRlb2lucHV0LFxuICAgICAgICByZXF1ZXN0UGVybWlzc2lvbnNcbiAgICAgIH1cbiAgICApKVxuICApKTtcbn1cblxuLy8gc3JjL3ByZWZhYnMvUHJlSm9pbi50c3hcbmltcG9ydCB7IGxvZyBhcyBsb2cxMiB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcblxuLy8gc3JjL2hvb2tzL3VzZVdhcm5BYm91dE1pc3NpbmdTdHlsZXMudHNcbmltcG9ydCAqIGFzIFJlYWN0MTAyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlV2FybkFib3V0TWlzc2luZ1N0eWxlcygpIHtcbiAgUmVhY3QxMDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICB3YXJuQWJvdXRNaXNzaW5nU3R5bGVzKCk7XG4gIH0sIFtdKTtcbn1cblxuLy8gc3JjL3ByZWZhYnMvUHJlSm9pbi50c3hcbnZhciBERUZBVUxUX1VTRVJfQ0hPSUNFUyA9IHtcbiAgdXNlcm5hbWU6IFwiXCIsXG4gIHZpZGVvRW5hYmxlZDogdHJ1ZSxcbiAgYXVkaW9FbmFibGVkOiB0cnVlLFxuICB2aWRlb0RldmljZUlkOiBcImRlZmF1bHRcIixcbiAgYXVkaW9EZXZpY2VJZDogXCJkZWZhdWx0XCIsXG4gIGUyZWU6IGZhbHNlLFxuICBzaGFyZWRQYXNzcGhyYXNlOiBcIlwiXG59O1xuZnVuY3Rpb24gdXNlUHJldmlld1RyYWNrcyhvcHRpb25zLCBvbkVycm9yKSB7XG4gIGNvbnN0IFt0cmFja3MsIHNldFRyYWNrc10gPSBSZWFjdDEwMy51c2VTdGF0ZSgpO1xuICBSZWFjdDEwMy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCB0cmFja1Byb21pc2UgPSB2b2lkIDA7XG4gICAgbGV0IG5lZWRzQ2xlYW51cCA9IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLmF1ZGlvIHx8IG9wdGlvbnMudmlkZW8pIHtcbiAgICAgIHRyYWNrUHJvbWlzZSA9IGNyZWF0ZUxvY2FsVHJhY2tzKG9wdGlvbnMpO1xuICAgICAgdHJhY2tQcm9taXNlLnRoZW4oKHRyYWNrczIpID0+IHtcbiAgICAgICAgaWYgKG5lZWRzQ2xlYW51cCkge1xuICAgICAgICAgIHRyYWNrczIuZm9yRWFjaCgodHIpID0+IHRyLnN0b3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VHJhY2tzKHRyYWNrczIpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChvbkVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG5lZWRzQ2xlYW51cCA9IHRydWU7XG4gICAgICB0cmFja1Byb21pc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrUHJvbWlzZS50aGVuKFxuICAgICAgICAodHJhY2tzMikgPT4gdHJhY2tzMi5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcbiAgfSwgW0pTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gIHJldHVybiB0cmFja3M7XG59XG5mdW5jdGlvbiB1c2VQcmV2aWV3RGV2aWNlKGVuYWJsZWQsIGRldmljZUlkLCBraW5kKSB7XG4gIGNvbnN0IFtkZXZpY2VFcnJvciwgc2V0RGV2aWNlRXJyb3JdID0gUmVhY3QxMDMudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0NyZWF0aW5nVHJhY2ssIHNldElzQ3JlYXRpbmdUcmFja10gPSBSZWFjdDEwMy51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGRldmljZXMgPSB1c2VNZWRpYURldmljZXMoeyBraW5kIH0pO1xuICBjb25zdCBbc2VsZWN0ZWREZXZpY2UsIHNldFNlbGVjdGVkRGV2aWNlXSA9IFJlYWN0MTAzLnVzZVN0YXRlKFxuICAgIHZvaWQgMFxuICApO1xuICBjb25zdCBbbG9jYWxUcmFjaywgc2V0TG9jYWxUcmFja10gPSBSZWFjdDEwMy51c2VTdGF0ZSgpO1xuICBjb25zdCBbbG9jYWxEZXZpY2VJZCwgc2V0TG9jYWxEZXZpY2VJZF0gPSBSZWFjdDEwMy51c2VTdGF0ZShkZXZpY2VJZCk7XG4gIFJlYWN0MTAzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TG9jYWxEZXZpY2VJZChkZXZpY2VJZCk7XG4gIH0sIFtkZXZpY2VJZF0pO1xuICBjb25zdCBjcmVhdGVUcmFjayA9IChkZXZpY2VJZDIsIGtpbmQyKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYWNrID0ga2luZDIgPT09IFwidmlkZW9pbnB1dFwiID8geWllbGQgY3JlYXRlTG9jYWxWaWRlb1RyYWNrKHtcbiAgICAgICAgZGV2aWNlSWQ6IGRldmljZUlkMixcbiAgICAgICAgcmVzb2x1dGlvbjogVmlkZW9QcmVzZXRzLmg3MjAucmVzb2x1dGlvblxuICAgICAgfSkgOiB5aWVsZCBjcmVhdGVMb2NhbEF1ZGlvVHJhY2soeyBkZXZpY2VJZDogZGV2aWNlSWQyIH0pO1xuICAgICAgY29uc3QgbmV3RGV2aWNlSWQgPSB5aWVsZCB0cmFjay5nZXREZXZpY2VJZCgpO1xuICAgICAgaWYgKG5ld0RldmljZUlkICYmIGRldmljZUlkMiAhPT0gbmV3RGV2aWNlSWQpIHtcbiAgICAgICAgcHJldkRldmljZUlkLmN1cnJlbnQgPSBuZXdEZXZpY2VJZDtcbiAgICAgICAgc2V0TG9jYWxEZXZpY2VJZChuZXdEZXZpY2VJZCk7XG4gICAgICB9XG4gICAgICBzZXRMb2NhbFRyYWNrKHRyYWNrKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHNldERldmljZUVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHN3aXRjaERldmljZSA9ICh0cmFjaywgaWQpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB5aWVsZCB0cmFjay5zZXREZXZpY2VJZChpZCk7XG4gICAgcHJldkRldmljZUlkLmN1cnJlbnQgPSBpZDtcbiAgfSk7XG4gIGNvbnN0IHByZXZEZXZpY2VJZCA9IFJlYWN0MTAzLnVzZVJlZihsb2NhbERldmljZUlkKTtcbiAgUmVhY3QxMDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZW5hYmxlZCAmJiAhbG9jYWxUcmFjayAmJiAhZGV2aWNlRXJyb3IgJiYgIWlzQ3JlYXRpbmdUcmFjaykge1xuICAgICAgbG9nMTIuZGVidWcoXCJjcmVhdGluZyB0cmFja1wiLCBraW5kKTtcbiAgICAgIHNldElzQ3JlYXRpbmdUcmFjayh0cnVlKTtcbiAgICAgIGNyZWF0ZVRyYWNrKGxvY2FsRGV2aWNlSWQsIGtpbmQpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzZXRJc0NyZWF0aW5nVHJhY2soZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZW5hYmxlZCwgbG9jYWxUcmFjaywgZGV2aWNlRXJyb3IsIGlzQ3JlYXRpbmdUcmFja10pO1xuICBSZWFjdDEwMy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbG9jYWxUcmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgIGxvZzEyLmRlYnVnKGBtdXRpbmcgJHtraW5kfSB0cmFja2ApO1xuICAgICAgbG9jYWxUcmFjay5tdXRlKCkudGhlbigoKSA9PiBsb2cxMi5kZWJ1Zyhsb2NhbFRyYWNrLm1lZGlhU3RyZWFtVHJhY2spKTtcbiAgICB9IGVsc2UgaWYgKChzZWxlY3RlZERldmljZSA9PSBudWxsID8gdm9pZCAwIDogc2VsZWN0ZWREZXZpY2UuZGV2aWNlSWQpICYmIHByZXZEZXZpY2VJZC5jdXJyZW50ICE9PSAoc2VsZWN0ZWREZXZpY2UgPT0gbnVsbCA/IHZvaWQgMCA6IHNlbGVjdGVkRGV2aWNlLmRldmljZUlkKSkge1xuICAgICAgbG9nMTIuZGVidWcoYHN3aXRjaGluZyAke2tpbmR9IGRldmljZSBmcm9tYCwgcHJldkRldmljZUlkLmN1cnJlbnQsIHNlbGVjdGVkRGV2aWNlLmRldmljZUlkKTtcbiAgICAgIHN3aXRjaERldmljZShsb2NhbFRyYWNrLCBzZWxlY3RlZERldmljZS5kZXZpY2VJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZzEyLmRlYnVnKGB1bm11dGluZyBsb2NhbCAke2tpbmR9IHRyYWNrYCk7XG4gICAgICBsb2NhbFRyYWNrLnVubXV0ZSgpO1xuICAgIH1cbiAgfSwgW2xvY2FsVHJhY2ssIHNlbGVjdGVkRGV2aWNlLCBlbmFibGVkLCBraW5kXSk7XG4gIFJlYWN0MTAzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChsb2NhbFRyYWNrKSB7XG4gICAgICAgIGxvZzEyLmRlYnVnKGBzdG9wcGluZyBsb2NhbCAke2tpbmR9IHRyYWNrYCk7XG4gICAgICAgIGxvY2FsVHJhY2suc3RvcCgpO1xuICAgICAgICBsb2NhbFRyYWNrLm11dGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIFJlYWN0MTAzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWREZXZpY2UoZGV2aWNlcy5maW5kKChkZXYpID0+IGRldi5kZXZpY2VJZCA9PT0gbG9jYWxEZXZpY2VJZCkpO1xuICB9LCBbbG9jYWxEZXZpY2VJZCwgZGV2aWNlc10pO1xuICByZXR1cm4ge1xuICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgIGxvY2FsVHJhY2ssXG4gICAgZGV2aWNlRXJyb3JcbiAgfTtcbn1cbmZ1bmN0aW9uIFByZUpvaW4oX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBkZWZhdWx0cyA9IHt9LFxuICAgIG9uVmFsaWRhdGUsXG4gICAgb25TdWJtaXQsXG4gICAgb25FcnJvcixcbiAgICBkZWJ1ZyxcbiAgICBqb2luTGFiZWwgPSBcIkpvaW4gUm9vbVwiLFxuICAgIG1pY0xhYmVsID0gXCJNaWNyb3Bob25lXCIsXG4gICAgY2FtTGFiZWwgPSBcIkNhbWVyYVwiLFxuICAgIHVzZXJMYWJlbCA9IFwiVXNlcm5hbWVcIixcbiAgICBzaG93RTJFRU9wdGlvbnMgPSBmYWxzZSxcbiAgICBwZXJzaXN0VXNlckNob2ljZXMgPSB0cnVlXG4gIH0gPSBfYiwgaHRtbFByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJkZWZhdWx0c1wiLFxuICAgIFwib25WYWxpZGF0ZVwiLFxuICAgIFwib25TdWJtaXRcIixcbiAgICBcIm9uRXJyb3JcIixcbiAgICBcImRlYnVnXCIsXG4gICAgXCJqb2luTGFiZWxcIixcbiAgICBcIm1pY0xhYmVsXCIsXG4gICAgXCJjYW1MYWJlbFwiLFxuICAgIFwidXNlckxhYmVsXCIsXG4gICAgXCJzaG93RTJFRU9wdGlvbnNcIixcbiAgICBcInBlcnNpc3RVc2VyQ2hvaWNlc1wiXG4gIF0pO1xuICB2YXIgX2EyLCBfYjI7XG4gIGNvbnN0IFt1c2VyQ2hvaWNlcywgc2V0VXNlckNob2ljZXNdID0gUmVhY3QxMDMudXNlU3RhdGUoREVGQVVMVF9VU0VSX0NIT0lDRVMpO1xuICBjb25zdCBwYXJ0aWFsRGVmYXVsdHMgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGVmYXVsdHMuYXVkaW9EZXZpY2VJZCAhPT0gdm9pZCAwICYmIHsgYXVkaW9EZXZpY2VJZDogZGVmYXVsdHMuYXVkaW9EZXZpY2VJZCB9KSwgZGVmYXVsdHMudmlkZW9EZXZpY2VJZCAhPT0gdm9pZCAwICYmIHsgdmlkZW9EZXZpY2VJZDogZGVmYXVsdHMudmlkZW9EZXZpY2VJZCB9KSwgZGVmYXVsdHMuYXVkaW9FbmFibGVkICE9PSB2b2lkIDAgJiYgeyBhdWRpb0VuYWJsZWQ6IGRlZmF1bHRzLmF1ZGlvRW5hYmxlZCB9KSwgZGVmYXVsdHMudmlkZW9FbmFibGVkICE9PSB2b2lkIDAgJiYgeyB2aWRlb0VuYWJsZWQ6IGRlZmF1bHRzLnZpZGVvRW5hYmxlZCB9KSwgZGVmYXVsdHMudXNlcm5hbWUgIT09IHZvaWQgMCAmJiB7IHVzZXJuYW1lOiBkZWZhdWx0cy51c2VybmFtZSB9KTtcbiAgY29uc3Qge1xuICAgIHVzZXJDaG9pY2VzOiBpbml0aWFsVXNlckNob2ljZXMsXG4gICAgc2F2ZUF1ZGlvSW5wdXREZXZpY2VJZCxcbiAgICBzYXZlQXVkaW9JbnB1dEVuYWJsZWQsXG4gICAgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZCxcbiAgICBzYXZlVmlkZW9JbnB1dEVuYWJsZWQsXG4gICAgc2F2ZVVzZXJuYW1lXG4gIH0gPSB1c2VQZXJzaXN0ZW50VXNlckNob2ljZXMoe1xuICAgIGRlZmF1bHRzOiBwYXJ0aWFsRGVmYXVsdHMsXG4gICAgcHJldmVudFNhdmU6ICFwZXJzaXN0VXNlckNob2ljZXMsXG4gICAgcHJldmVudExvYWQ6ICFwZXJzaXN0VXNlckNob2ljZXNcbiAgfSk7XG4gIGNvbnN0IFthdWRpb0VuYWJsZWQsIHNldEF1ZGlvRW5hYmxlZF0gPSBSZWFjdDEwMy51c2VTdGF0ZShpbml0aWFsVXNlckNob2ljZXMuYXVkaW9FbmFibGVkKTtcbiAgY29uc3QgW3ZpZGVvRW5hYmxlZCwgc2V0VmlkZW9FbmFibGVkXSA9IFJlYWN0MTAzLnVzZVN0YXRlKGluaXRpYWxVc2VyQ2hvaWNlcy52aWRlb0VuYWJsZWQpO1xuICBjb25zdCBbYXVkaW9EZXZpY2VJZCwgc2V0QXVkaW9EZXZpY2VJZF0gPSBSZWFjdDEwMy51c2VTdGF0ZShcbiAgICBpbml0aWFsVXNlckNob2ljZXMuYXVkaW9EZXZpY2VJZFxuICApO1xuICBjb25zdCBbdmlkZW9EZXZpY2VJZCwgc2V0VmlkZW9EZXZpY2VJZF0gPSBSZWFjdDEwMy51c2VTdGF0ZShcbiAgICBpbml0aWFsVXNlckNob2ljZXMudmlkZW9EZXZpY2VJZFxuICApO1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IFJlYWN0MTAzLnVzZVN0YXRlKGluaXRpYWxVc2VyQ2hvaWNlcy51c2VybmFtZSk7XG4gIGNvbnN0IFtlMmVlLCBzZXRFMmVlXSA9IFJlYWN0MTAzLnVzZVN0YXRlKChfYTIgPSBkZWZhdWx0cy5lMmVlKSAhPSBudWxsID8gX2EyIDogREVGQVVMVF9VU0VSX0NIT0lDRVMuZTJlZSk7XG4gIGNvbnN0IFtzaGFyZWRQYXNzcGhyYXNlLCBzZXRTaGFyZWRQYXNzcGhyYXNlXSA9IFJlYWN0MTAzLnVzZVN0YXRlKFxuICAgIChfYjIgPSBkZWZhdWx0cy5zaGFyZWRQYXNzcGhyYXNlKSAhPSBudWxsID8gX2IyIDogREVGQVVMVF9VU0VSX0NIT0lDRVMuc2hhcmVkUGFzc3BocmFzZVxuICApO1xuICBSZWFjdDEwMy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNhdmVBdWRpb0lucHV0RW5hYmxlZChhdWRpb0VuYWJsZWQpO1xuICB9LCBbYXVkaW9FbmFibGVkLCBzYXZlQXVkaW9JbnB1dEVuYWJsZWRdKTtcbiAgUmVhY3QxMDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzYXZlVmlkZW9JbnB1dEVuYWJsZWQodmlkZW9FbmFibGVkKTtcbiAgfSwgW3ZpZGVvRW5hYmxlZCwgc2F2ZVZpZGVvSW5wdXRFbmFibGVkXSk7XG4gIFJlYWN0MTAzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2F2ZUF1ZGlvSW5wdXREZXZpY2VJZChhdWRpb0RldmljZUlkKTtcbiAgfSwgW2F1ZGlvRGV2aWNlSWQsIHNhdmVBdWRpb0lucHV0RGV2aWNlSWRdKTtcbiAgUmVhY3QxMDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzYXZlVmlkZW9JbnB1dERldmljZUlkKHZpZGVvRGV2aWNlSWQpO1xuICB9LCBbdmlkZW9EZXZpY2VJZCwgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZF0pO1xuICBSZWFjdDEwMy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNhdmVVc2VybmFtZSh1c2VybmFtZSk7XG4gIH0sIFt1c2VybmFtZSwgc2F2ZVVzZXJuYW1lXSk7XG4gIGNvbnN0IHRyYWNrcyA9IHVzZVByZXZpZXdUcmFja3MoXG4gICAge1xuICAgICAgYXVkaW86IGF1ZGlvRW5hYmxlZCA/IHsgZGV2aWNlSWQ6IGluaXRpYWxVc2VyQ2hvaWNlcy5hdWRpb0RldmljZUlkIH0gOiBmYWxzZSxcbiAgICAgIHZpZGVvOiB2aWRlb0VuYWJsZWQgPyB7IGRldmljZUlkOiBpbml0aWFsVXNlckNob2ljZXMudmlkZW9EZXZpY2VJZCB9IDogZmFsc2VcbiAgICB9LFxuICAgIG9uRXJyb3JcbiAgKTtcbiAgY29uc3QgdmlkZW9FbCA9IFJlYWN0MTAzLnVzZVJlZihudWxsKTtcbiAgY29uc3QgdmlkZW9UcmFjayA9IFJlYWN0MTAzLnVzZU1lbW8oXG4gICAgKCkgPT4gdHJhY2tzID09IG51bGwgPyB2b2lkIDAgOiB0cmFja3MuZmlsdGVyKCh0cmFjaykgPT4gdHJhY2sua2luZCA9PT0gVHJhY2s5LktpbmQuVmlkZW8pWzBdLFxuICAgIFt0cmFja3NdXG4gICk7XG4gIGNvbnN0IGZhY2luZ01vZGUgPSBSZWFjdDEwMy51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgY29uc3QgeyBmYWNpbmdNb2RlOiBmYWNpbmdNb2RlMiB9ID0gZmFjaW5nTW9kZUZyb21Mb2NhbFRyYWNrMih2aWRlb1RyYWNrKTtcbiAgICAgIHJldHVybiBmYWNpbmdNb2RlMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgfVxuICB9LCBbdmlkZW9UcmFja10pO1xuICBjb25zdCBhdWRpb1RyYWNrID0gUmVhY3QxMDMudXNlTWVtbyhcbiAgICAoKSA9PiB0cmFja3MgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYWNrcy5maWx0ZXIoKHRyYWNrKSA9PiB0cmFjay5raW5kID09PSBUcmFjazkuS2luZC5BdWRpbylbMF0sXG4gICAgW3RyYWNrc11cbiAgKTtcbiAgUmVhY3QxMDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlkZW9FbC5jdXJyZW50ICYmIHZpZGVvVHJhY2spIHtcbiAgICAgIHZpZGVvVHJhY2sudW5tdXRlKCk7XG4gICAgICB2aWRlb1RyYWNrLmF0dGFjaCh2aWRlb0VsLmN1cnJlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmlkZW9UcmFjayA9PSBudWxsID8gdm9pZCAwIDogdmlkZW9UcmFjay5kZXRhY2goKTtcbiAgICB9O1xuICB9LCBbdmlkZW9UcmFja10pO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0SXNWYWxpZF0gPSBSZWFjdDEwMy51c2VTdGF0ZSgpO1xuICBjb25zdCBoYW5kbGVWYWxpZGF0aW9uID0gUmVhY3QxMDMudXNlQ2FsbGJhY2soXG4gICAgKHZhbHVlcykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvblZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG9uVmFsaWRhdGUodmFsdWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMudXNlcm5hbWUgIT09IFwiXCI7XG4gICAgICB9XG4gICAgfSxcbiAgICBbb25WYWxpZGF0ZV1cbiAgKTtcbiAgUmVhY3QxMDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuZXdVc2VyQ2hvaWNlcyA9IHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgdmlkZW9FbmFibGVkLFxuICAgICAgdmlkZW9EZXZpY2VJZCxcbiAgICAgIGF1ZGlvRW5hYmxlZCxcbiAgICAgIGF1ZGlvRGV2aWNlSWQsXG4gICAgICBlMmVlLFxuICAgICAgc2hhcmVkUGFzc3BocmFzZVxuICAgIH07XG4gICAgc2V0VXNlckNob2ljZXMobmV3VXNlckNob2ljZXMpO1xuICAgIHNldElzVmFsaWQoaGFuZGxlVmFsaWRhdGlvbihuZXdVc2VyQ2hvaWNlcykpO1xuICB9LCBbXG4gICAgdXNlcm5hbWUsXG4gICAgdmlkZW9FbmFibGVkLFxuICAgIGhhbmRsZVZhbGlkYXRpb24sXG4gICAgYXVkaW9FbmFibGVkLFxuICAgIGF1ZGlvRGV2aWNlSWQsXG4gICAgdmlkZW9EZXZpY2VJZCxcbiAgICBzaGFyZWRQYXNzcGhyYXNlLFxuICAgIGUyZWVcbiAgXSk7XG4gIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGhhbmRsZVZhbGlkYXRpb24odXNlckNob2ljZXMpKSB7XG4gICAgICBpZiAodHlwZW9mIG9uU3VibWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25TdWJtaXQodXNlckNob2ljZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2cxMi53YXJuKFwiVmFsaWRhdGlvbiBmYWlsZWQgd2l0aDogXCIsIHVzZXJDaG9pY2VzKTtcbiAgICB9XG4gIH1cbiAgdXNlV2FybkFib3V0TWlzc2luZ1N0eWxlcygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwibGstcHJlam9pblwiIH0sIGh0bWxQcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXZpZGVvLWNvbnRhaW5lclwiIH0sIHZpZGVvVHJhY2sgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7IHJlZjogdmlkZW9FbCwgd2lkdGg6IFwiMTI4MFwiLCBoZWlnaHQ6IFwiNzIwXCIsIFwiZGF0YS1say1mYWNpbmctbW9kZVwiOiBmYWNpbmdNb2RlIH0pLCAoIXZpZGVvVHJhY2sgfHwgIXZpZGVvRW5hYmxlZCkgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstY2FtZXJhLW9mZi1ub3RlXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnRQbGFjZWhvbGRlcl9kZWZhdWx0LCBudWxsKSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAtY29udGFpbmVyXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwIGF1ZGlvXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXG4gICAgVHJhY2tUb2dnbGUsXG4gICAge1xuICAgICAgaW5pdGlhbFN0YXRlOiBhdWRpb0VuYWJsZWQsXG4gICAgICBzb3VyY2U6IFRyYWNrOS5Tb3VyY2UuTWljcm9waG9uZSxcbiAgICAgIG9uQ2hhbmdlOiAoZW5hYmxlZCkgPT4gc2V0QXVkaW9FbmFibGVkKGVuYWJsZWQpXG4gICAgfSxcbiAgICBtaWNMYWJlbFxuICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAtbWVudVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFxuICAgIE1lZGlhRGV2aWNlTWVudSxcbiAgICB7XG4gICAgICBpbml0aWFsU2VsZWN0aW9uOiBhdWRpb0RldmljZUlkLFxuICAgICAga2luZDogXCJhdWRpb2lucHV0XCIsXG4gICAgICBkaXNhYmxlZDogIWF1ZGlvVHJhY2ssXG4gICAgICB0cmFja3M6IHsgYXVkaW9pbnB1dDogYXVkaW9UcmFjayB9LFxuICAgICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IChfLCBpZCkgPT4gc2V0QXVkaW9EZXZpY2VJZChpZClcbiAgICB9XG4gICkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwIHZpZGVvXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXG4gICAgVHJhY2tUb2dnbGUsXG4gICAge1xuICAgICAgaW5pdGlhbFN0YXRlOiB2aWRlb0VuYWJsZWQsXG4gICAgICBzb3VyY2U6IFRyYWNrOS5Tb3VyY2UuQ2FtZXJhLFxuICAgICAgb25DaGFuZ2U6IChlbmFibGVkKSA9PiBzZXRWaWRlb0VuYWJsZWQoZW5hYmxlZClcbiAgICB9LFxuICAgIGNhbUxhYmVsXG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cC1tZW51XCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXG4gICAgTWVkaWFEZXZpY2VNZW51LFxuICAgIHtcbiAgICAgIGluaXRpYWxTZWxlY3Rpb246IHZpZGVvRGV2aWNlSWQsXG4gICAgICBraW5kOiBcInZpZGVvaW5wdXRcIixcbiAgICAgIGRpc2FibGVkOiAhdmlkZW9UcmFjayxcbiAgICAgIHRyYWNrczogeyB2aWRlb2lucHV0OiB2aWRlb1RyYWNrIH0sXG4gICAgICBvbkFjdGl2ZURldmljZUNoYW5nZTogKF8sIGlkKSA9PiBzZXRWaWRlb0RldmljZUlkKGlkKVxuICAgIH1cbiAgKSkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBcImxrLXVzZXJuYW1lLWNvbnRhaW5lclwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFxuICAgIFwiaW5wdXRcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstZm9ybS1jb250cm9sXCIsXG4gICAgICBpZDogXCJ1c2VybmFtZVwiLFxuICAgICAgbmFtZTogXCJ1c2VybmFtZVwiLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBkZWZhdWx0VmFsdWU6IHVzZXJuYW1lLFxuICAgICAgcGxhY2Vob2xkZXI6IHVzZXJMYWJlbCxcbiAgICAgIG9uQ2hhbmdlOiAoaW5wdXRFbCkgPT4gc2V0VXNlcm5hbWUoaW5wdXRFbC50YXJnZXQudmFsdWUpLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiXG4gICAgfVxuICApLCBzaG93RTJFRU9wdGlvbnMgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiBcIjFyZW1cIiB9IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwicm93XCIsIGdhcDogXCIxcmVtXCIgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcbiAgICBcImlucHV0XCIsXG4gICAge1xuICAgICAgaWQ6IFwidXNlLWUyZWVcIixcbiAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgIGNoZWNrZWQ6IGUyZWUsXG4gICAgICBvbkNoYW5nZTogKGV2KSA9PiBzZXRFMmVlKGV2LnRhcmdldC5jaGVja2VkKVxuICAgIH1cbiAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7IGh0bWxGb3I6IFwidXNlLWUyZWVcIiB9LCBcIkVuYWJsZSBlbmQtdG8tZW5kIGVuY3J5cHRpb25cIikpLCBlMmVlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwicm93XCIsIGdhcDogXCIxcmVtXCIgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJwYXNzcGhyYXNlXCIgfSwgXCJQYXNzcGhyYXNlXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcbiAgICBcImlucHV0XCIsXG4gICAge1xuICAgICAgaWQ6IFwicGFzc3BocmFzZVwiLFxuICAgICAgdHlwZTogXCJwYXNzd29yZFwiLFxuICAgICAgdmFsdWU6IHNoYXJlZFBhc3NwaHJhc2UsXG4gICAgICBvbkNoYW5nZTogKGV2KSA9PiBzZXRTaGFyZWRQYXNzcGhyYXNlKGV2LnRhcmdldC52YWx1ZSlcbiAgICB9XG4gICkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJidXR0b25cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstYnV0dG9uIGxrLWpvaW4tYnV0dG9uXCIsXG4gICAgICB0eXBlOiBcInN1Ym1pdFwiLFxuICAgICAgb25DbGljazogaGFuZGxlU3VibWl0LFxuICAgICAgZGlzYWJsZWQ6ICFpc1ZhbGlkXG4gICAgfSxcbiAgICBqb2luTGFiZWxcbiAgKSksIGRlYnVnICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFJlYWN0MTAzLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCBcIlVzZXIgQ2hvaWNlczpcIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBjbGFzc05hbWU6IFwibGstbGlzdFwiLCBzdHlsZTogeyBvdmVyZmxvdzogXCJoaWRkZW5cIiwgbWF4V2lkdGg6IFwiMTVyZW1cIiB9IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXCJVc2VybmFtZTogXCIsIGAke3VzZXJDaG9pY2VzLnVzZXJuYW1lfWApLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFwiVmlkZW8gRW5hYmxlZDogXCIsIGAke3VzZXJDaG9pY2VzLnZpZGVvRW5hYmxlZH1gKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAzLmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcIkF1ZGlvIEVuYWJsZWQ6IFwiLCBgJHt1c2VyQ2hvaWNlcy5hdWRpb0VuYWJsZWR9YCksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwMy5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXCJWaWRlbyBEZXZpY2U6IFwiLCBgJHt1c2VyQ2hvaWNlcy52aWRlb0RldmljZUlkfWApLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDMuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFwiQXVkaW8gRGV2aWNlOiBcIiwgYCR7dXNlckNob2ljZXMuYXVkaW9EZXZpY2VJZH1gKSkpKTtcbn1cblxuLy8gc3JjL3ByZWZhYnMvVmlkZW9Db25mZXJlbmNlLnRzeFxuaW1wb3J0IHsgaXNFcXVhbFRyYWNrUmVmLCBpc1RyYWNrUmVmZXJlbmNlIGFzIGlzVHJhY2tSZWZlcmVuY2U0LCBpc1dlYiwgbG9nIGFzIGxvZzEzIH0gZnJvbSBcIkBsaXZla2l0L2NvbXBvbmVudHMtY29yZVwiO1xuaW1wb3J0IHsgUm9vbUV2ZW50IGFzIFJvb21FdmVudDMsIFRyYWNrIGFzIFRyYWNrMTEgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTA2IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvcHJlZmFicy9Db250cm9sQmFyLnRzeFxuaW1wb3J0IHsgVHJhY2sgYXMgVHJhY2sxMCB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgUmVhY3QxMDUgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBzdXBwb3J0c1NjcmVlblNoYXJpbmcgfSBmcm9tIFwiQGxpdmVraXQvY29tcG9uZW50cy1jb3JlXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbnRyb2xzL1N0YXJ0TWVkaWFCdXR0b24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwNCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN0YXJ0TWVkaWFCdXR0b24oX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgbGFiZWwgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wibGFiZWxcIl0pO1xuICBjb25zdCByb29tID0gdXNlUm9vbUNvbnRleHQoKTtcbiAgY29uc3QgeyBtZXJnZWRQcm9wczogYXVkaW9Qcm9wcywgY2FuUGxheUF1ZGlvIH0gPSB1c2VTdGFydEF1ZGlvKHsgcm9vbSwgcHJvcHMgfSk7XG4gIGNvbnN0IHsgbWVyZ2VkUHJvcHMsIGNhblBsYXlWaWRlbyB9ID0gdXNlU3RhcnRWaWRlbyh7IHJvb20sIHByb3BzOiBhdWRpb1Byb3BzIH0pO1xuICBjb25zdCBfYTIgPSBtZXJnZWRQcm9wcywgeyBzdHlsZSB9ID0gX2EyLCByZXN0UHJvcHMgPSBfX29ialJlc3QoX2EyLCBbXCJzdHlsZVwiXSk7XG4gIHN0eWxlLmRpc3BsYXkgPSBjYW5QbGF5QXVkaW8gJiYgY2FuUGxheVZpZGVvID8gXCJub25lXCIgOiBcImJsb2NrXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX3NwcmVhZFZhbHVlcyh7IHN0eWxlIH0sIHJlc3RQcm9wcyksIGxhYmVsICE9IG51bGwgPyBsYWJlbCA6IGBTdGFydCAkeyFjYW5QbGF5QXVkaW8gPyBcIkF1ZGlvXCIgOiBcIlZpZGVvXCJ9YCk7XG59XG5cbi8vIHNyYy9wcmVmYWJzL0NvbnRyb2xCYXIudHN4XG5mdW5jdGlvbiBDb250cm9sQmFyKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgdmFyaWF0aW9uLFxuICAgIGNvbnRyb2xzLFxuICAgIHNhdmVVc2VyQ2hvaWNlczogc2F2ZVVzZXJDaG9pY2VzMiA9IHRydWVcbiAgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwidmFyaWF0aW9uXCIsXG4gICAgXCJjb250cm9sc1wiLFxuICAgIFwic2F2ZVVzZXJDaG9pY2VzXCJcbiAgXSk7XG4gIHZhciBfYTIsIF9iMiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgW2lzQ2hhdE9wZW4sIHNldElzQ2hhdE9wZW5dID0gUmVhY3QxMDUudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBsYXlvdXRDb250ZXh0ID0gdXNlTWF5YmVMYXlvdXRDb250ZXh0KCk7XG4gIFJlYWN0MTA1LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hMywgX2IzO1xuICAgIGlmICgoKF9hMyA9IGxheW91dENvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IGxheW91dENvbnRleHQud2lkZ2V0LnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnNob3dDaGF0KSAhPT0gdm9pZCAwKSB7XG4gICAgICBzZXRJc0NoYXRPcGVuKChfYjMgPSBsYXlvdXRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBsYXlvdXRDb250ZXh0LndpZGdldC5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy5zaG93Q2hhdCk7XG4gICAgfVxuICB9LCBbKF9hMiA9IGxheW91dENvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IGxheW91dENvbnRleHQud2lkZ2V0LnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNob3dDaGF0XSk7XG4gIGNvbnN0IGlzVG9vTGl0dGxlU3BhY2UgPSB1c2VNZWRpYVF1ZXJ5KGAobWF4LXdpZHRoOiAke2lzQ2hhdE9wZW4gPyAxZTMgOiA3NjB9cHgpYCk7XG4gIGNvbnN0IGRlZmF1bHRWYXJpYXRpb24gPSBpc1Rvb0xpdHRsZVNwYWNlID8gXCJtaW5pbWFsXCIgOiBcInZlcmJvc2VcIjtcbiAgdmFyaWF0aW9uICE9IG51bGwgPyB2YXJpYXRpb24gOiB2YXJpYXRpb24gPSBkZWZhdWx0VmFyaWF0aW9uO1xuICBjb25zdCB2aXNpYmxlQ29udHJvbHMgPSBfX3NwcmVhZFZhbHVlcyh7IGxlYXZlOiB0cnVlIH0sIGNvbnRyb2xzKTtcbiAgY29uc3QgbG9jYWxQZXJtaXNzaW9ucyA9IHVzZUxvY2FsUGFydGljaXBhbnRQZXJtaXNzaW9ucygpO1xuICBpZiAoIWxvY2FsUGVybWlzc2lvbnMpIHtcbiAgICB2aXNpYmxlQ29udHJvbHMuY2FtZXJhID0gZmFsc2U7XG4gICAgdmlzaWJsZUNvbnRyb2xzLmNoYXQgPSBmYWxzZTtcbiAgICB2aXNpYmxlQ29udHJvbHMubWljcm9waG9uZSA9IGZhbHNlO1xuICAgIHZpc2libGVDb250cm9scy5zY3JlZW5TaGFyZSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIChfYjIgPSB2aXNpYmxlQ29udHJvbHMuY2FtZXJhKSAhPSBudWxsID8gX2IyIDogdmlzaWJsZUNvbnRyb2xzLmNhbWVyYSA9IGxvY2FsUGVybWlzc2lvbnMuY2FuUHVibGlzaDtcbiAgICAoX2MgPSB2aXNpYmxlQ29udHJvbHMubWljcm9waG9uZSkgIT0gbnVsbCA/IF9jIDogdmlzaWJsZUNvbnRyb2xzLm1pY3JvcGhvbmUgPSBsb2NhbFBlcm1pc3Npb25zLmNhblB1Ymxpc2g7XG4gICAgKF9kID0gdmlzaWJsZUNvbnRyb2xzLnNjcmVlblNoYXJlKSAhPSBudWxsID8gX2QgOiB2aXNpYmxlQ29udHJvbHMuc2NyZWVuU2hhcmUgPSBsb2NhbFBlcm1pc3Npb25zLmNhblB1Ymxpc2g7XG4gICAgKF9lID0gdmlzaWJsZUNvbnRyb2xzLmNoYXQpICE9IG51bGwgPyBfZSA6IHZpc2libGVDb250cm9scy5jaGF0ID0gbG9jYWxQZXJtaXNzaW9ucy5jYW5QdWJsaXNoRGF0YSAmJiAoY29udHJvbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xzLmNoYXQpO1xuICB9XG4gIGNvbnN0IHNob3dJY29uID0gUmVhY3QxMDUudXNlTWVtbyhcbiAgICAoKSA9PiB2YXJpYXRpb24gPT09IFwibWluaW1hbFwiIHx8IHZhcmlhdGlvbiA9PT0gXCJ2ZXJib3NlXCIsXG4gICAgW3ZhcmlhdGlvbl1cbiAgKTtcbiAgY29uc3Qgc2hvd1RleHQgPSBSZWFjdDEwNS51c2VNZW1vKFxuICAgICgpID0+IHZhcmlhdGlvbiA9PT0gXCJ0ZXh0T25seVwiIHx8IHZhcmlhdGlvbiA9PT0gXCJ2ZXJib3NlXCIsXG4gICAgW3ZhcmlhdGlvbl1cbiAgKTtcbiAgY29uc3QgYnJvd3NlclN1cHBvcnRzU2NyZWVuU2hhcmluZyA9IHN1cHBvcnRzU2NyZWVuU2hhcmluZygpO1xuICBjb25zdCBbaXNTY3JlZW5TaGFyZUVuYWJsZWQsIHNldElzU2NyZWVuU2hhcmVFbmFibGVkXSA9IFJlYWN0MTA1LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgb25TY3JlZW5TaGFyZUNoYW5nZSA9IFJlYWN0MTA1LnVzZUNhbGxiYWNrKFxuICAgIChlbmFibGVkKSA9PiB7XG4gICAgICBzZXRJc1NjcmVlblNoYXJlRW5hYmxlZChlbmFibGVkKTtcbiAgICB9LFxuICAgIFtzZXRJc1NjcmVlblNoYXJlRW5hYmxlZF1cbiAgKTtcbiAgY29uc3QgaHRtbFByb3BzID0gbWVyZ2VQcm9wczIoeyBjbGFzc05hbWU6IFwibGstY29udHJvbC1iYXJcIiB9LCBwcm9wcyk7XG4gIGNvbnN0IHtcbiAgICBzYXZlQXVkaW9JbnB1dEVuYWJsZWQsXG4gICAgc2F2ZVZpZGVvSW5wdXRFbmFibGVkLFxuICAgIHNhdmVBdWRpb0lucHV0RGV2aWNlSWQsXG4gICAgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZFxuICB9ID0gdXNlUGVyc2lzdGVudFVzZXJDaG9pY2VzKHsgcHJldmVudFNhdmU6ICFzYXZlVXNlckNob2ljZXMyIH0pO1xuICBjb25zdCBtaWNyb3Bob25lT25DaGFuZ2UgPSBSZWFjdDEwNS51c2VDYWxsYmFjayhcbiAgICAoZW5hYmxlZCwgaXNVc2VySW5pdGlhdGVkKSA9PiBpc1VzZXJJbml0aWF0ZWQgPyBzYXZlQXVkaW9JbnB1dEVuYWJsZWQoZW5hYmxlZCkgOiBudWxsLFxuICAgIFtzYXZlQXVkaW9JbnB1dEVuYWJsZWRdXG4gICk7XG4gIGNvbnN0IGNhbWVyYU9uQ2hhbmdlID0gUmVhY3QxMDUudXNlQ2FsbGJhY2soXG4gICAgKGVuYWJsZWQsIGlzVXNlckluaXRpYXRlZCkgPT4gaXNVc2VySW5pdGlhdGVkID8gc2F2ZVZpZGVvSW5wdXRFbmFibGVkKGVuYWJsZWQpIDogbnVsbCxcbiAgICBbc2F2ZVZpZGVvSW5wdXRFbmFibGVkXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTA1LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe30sIGh0bWxQcm9wcyksIHZpc2libGVDb250cm9scy5taWNyb3Bob25lICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cFwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFxuICAgIFRyYWNrVG9nZ2xlLFxuICAgIHtcbiAgICAgIHNvdXJjZTogVHJhY2sxMC5Tb3VyY2UuTWljcm9waG9uZSxcbiAgICAgIHNob3dJY29uLFxuICAgICAgb25DaGFuZ2U6IG1pY3JvcGhvbmVPbkNoYW5nZVxuICAgIH0sXG4gICAgc2hvd1RleHQgJiYgXCJNaWNyb3Bob25lXCJcbiAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA1LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwLW1lbnVcIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDUuY3JlYXRlRWxlbWVudChcbiAgICBNZWRpYURldmljZU1lbnUsXG4gICAge1xuICAgICAga2luZDogXCJhdWRpb2lucHV0XCIsXG4gICAgICBvbkFjdGl2ZURldmljZUNoYW5nZTogKF9raW5kLCBkZXZpY2VJZCkgPT4gc2F2ZUF1ZGlvSW5wdXREZXZpY2VJZChkZXZpY2VJZCAhPSBudWxsID8gZGV2aWNlSWQgOiBcIlwiKVxuICAgIH1cbiAgKSkpLCB2aXNpYmxlQ29udHJvbHMuY2FtZXJhICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cFwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFRyYWNrVG9nZ2xlLCB7IHNvdXJjZTogVHJhY2sxMC5Tb3VyY2UuQ2FtZXJhLCBzaG93SWNvbiwgb25DaGFuZ2U6IGNhbWVyYU9uQ2hhbmdlIH0sIHNob3dUZXh0ICYmIFwiQ2FtZXJhXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAtbWVudVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFxuICAgIE1lZGlhRGV2aWNlTWVudSxcbiAgICB7XG4gICAgICBraW5kOiBcInZpZGVvaW5wdXRcIixcbiAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiAoX2tpbmQsIGRldmljZUlkKSA9PiBzYXZlVmlkZW9JbnB1dERldmljZUlkKGRldmljZUlkICE9IG51bGwgPyBkZXZpY2VJZCA6IFwiXCIpXG4gICAgfVxuICApKSksIHZpc2libGVDb250cm9scy5zY3JlZW5TaGFyZSAmJiBicm93c2VyU3VwcG9ydHNTY3JlZW5TaGFyaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KFxuICAgIFRyYWNrVG9nZ2xlLFxuICAgIHtcbiAgICAgIHNvdXJjZTogVHJhY2sxMC5Tb3VyY2UuU2NyZWVuU2hhcmUsXG4gICAgICBjYXB0dXJlT3B0aW9uczogeyBhdWRpbzogdHJ1ZSwgc2VsZkJyb3dzZXJTdXJmYWNlOiBcImluY2x1ZGVcIiB9LFxuICAgICAgc2hvd0ljb24sXG4gICAgICBvbkNoYW5nZTogb25TY3JlZW5TaGFyZUNoYW5nZVxuICAgIH0sXG4gICAgc2hvd1RleHQgJiYgKGlzU2NyZWVuU2hhcmVFbmFibGVkID8gXCJTdG9wIHNjcmVlbiBzaGFyZVwiIDogXCJTaGFyZSBzY3JlZW5cIilcbiAgKSwgdmlzaWJsZUNvbnRyb2xzLmNoYXQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTA1LmNyZWF0ZUVsZW1lbnQoQ2hhdFRvZ2dsZSwgbnVsbCwgc2hvd0ljb24gJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTA1LmNyZWF0ZUVsZW1lbnQoQ2hhdEljb25fZGVmYXVsdCwgbnVsbCksIHNob3dUZXh0ICYmIFwiQ2hhdFwiKSwgdmlzaWJsZUNvbnRyb2xzLmxlYXZlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KERpc2Nvbm5lY3RCdXR0b24sIG51bGwsIHNob3dJY29uICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNS5jcmVhdGVFbGVtZW50KExlYXZlSWNvbl9kZWZhdWx0LCBudWxsKSwgc2hvd1RleHQgJiYgXCJMZWF2ZVwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA1LmNyZWF0ZUVsZW1lbnQoU3RhcnRNZWRpYUJ1dHRvbiwgbnVsbCkpO1xufVxuXG4vLyBzcmMvcHJlZmFicy9WaWRlb0NvbmZlcmVuY2UudHN4XG5mdW5jdGlvbiBWaWRlb0NvbmZlcmVuY2UoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjaGF0TWVzc2FnZUZvcm1hdHRlcixcbiAgICBjaGF0TWVzc2FnZURlY29kZXIsXG4gICAgY2hhdE1lc3NhZ2VFbmNvZGVyXG4gIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImNoYXRNZXNzYWdlRm9ybWF0dGVyXCIsXG4gICAgXCJjaGF0TWVzc2FnZURlY29kZXJcIixcbiAgICBcImNoYXRNZXNzYWdlRW5jb2RlclwiXG4gIF0pO1xuICB2YXIgX2EyLCBfYjI7XG4gIGNvbnN0IFt3aWRnZXRTdGF0ZSwgc2V0V2lkZ2V0U3RhdGVdID0gUmVhY3QxMDYudXNlU3RhdGUoe1xuICAgIHNob3dDaGF0OiBmYWxzZSxcbiAgICB1bnJlYWRNZXNzYWdlczogMFxuICB9KTtcbiAgY29uc3QgbGFzdEF1dG9Gb2N1c2VkU2NyZWVuU2hhcmVUcmFjayA9IFJlYWN0MTA2LnVzZVJlZihudWxsKTtcbiAgY29uc3QgdHJhY2tzID0gdXNlVHJhY2tzKFxuICAgIFtcbiAgICAgIHsgc291cmNlOiBUcmFjazExLlNvdXJjZS5DYW1lcmEsIHdpdGhQbGFjZWhvbGRlcjogdHJ1ZSB9LFxuICAgICAgeyBzb3VyY2U6IFRyYWNrMTEuU291cmNlLlNjcmVlblNoYXJlLCB3aXRoUGxhY2Vob2xkZXI6IGZhbHNlIH1cbiAgICBdLFxuICAgIHsgdXBkYXRlT25seU9uOiBbUm9vbUV2ZW50My5BY3RpdmVTcGVha2Vyc0NoYW5nZWRdLCBvbmx5U3Vic2NyaWJlZDogZmFsc2UgfVxuICApO1xuICBjb25zdCB3aWRnZXRVcGRhdGUgPSAoc3RhdGUpID0+IHtcbiAgICBsb2cxMy5kZWJ1ZyhcInVwZGF0aW5nIHdpZGdldCBzdGF0ZVwiLCBzdGF0ZSk7XG4gICAgc2V0V2lkZ2V0U3RhdGUoc3RhdGUpO1xuICB9O1xuICBjb25zdCBsYXlvdXRDb250ZXh0ID0gdXNlQ3JlYXRlTGF5b3V0Q29udGV4dCgpO1xuICBjb25zdCBzY3JlZW5TaGFyZVRyYWNrcyA9IHRyYWNrcy5maWx0ZXIoaXNUcmFja1JlZmVyZW5jZTQpLmZpbHRlcigodHJhY2spID0+IHRyYWNrLnB1YmxpY2F0aW9uLnNvdXJjZSA9PT0gVHJhY2sxMS5Tb3VyY2UuU2NyZWVuU2hhcmUpO1xuICBjb25zdCBmb2N1c1RyYWNrID0gKF9hMiA9IHVzZVBpbm5lZFRyYWNrcyhsYXlvdXRDb250ZXh0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlswXTtcbiAgY29uc3QgY2Fyb3VzZWxUcmFja3MgPSB0cmFja3MuZmlsdGVyKCh0cmFjaykgPT4gIWlzRXF1YWxUcmFja1JlZih0cmFjaywgZm9jdXNUcmFjaykpO1xuICBSZWFjdDEwNi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBfYTMsIF9iMywgX2MsIF9kO1xuICAgIGlmIChzY3JlZW5TaGFyZVRyYWNrcy5zb21lKCh0cmFjaykgPT4gdHJhY2sucHVibGljYXRpb24uaXNTdWJzY3JpYmVkKSAmJiBsYXN0QXV0b0ZvY3VzZWRTY3JlZW5TaGFyZVRyYWNrLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIGxvZzEzLmRlYnVnKFwiQXV0byBzZXQgc2NyZWVuIHNoYXJlIGZvY3VzOlwiLCB7IG5ld1NjcmVlblNoYXJlVHJhY2s6IHNjcmVlblNoYXJlVHJhY2tzWzBdIH0pO1xuICAgICAgKF9iMyA9IChfYTMgPSBsYXlvdXRDb250ZXh0LnBpbikuZGlzcGF0Y2gpID09IG51bGwgPyB2b2lkIDAgOiBfYjMuY2FsbChfYTMsIHsgbXNnOiBcInNldF9waW5cIiwgdHJhY2tSZWZlcmVuY2U6IHNjcmVlblNoYXJlVHJhY2tzWzBdIH0pO1xuICAgICAgbGFzdEF1dG9Gb2N1c2VkU2NyZWVuU2hhcmVUcmFjay5jdXJyZW50ID0gc2NyZWVuU2hhcmVUcmFja3NbMF07XG4gICAgfSBlbHNlIGlmIChsYXN0QXV0b0ZvY3VzZWRTY3JlZW5TaGFyZVRyYWNrLmN1cnJlbnQgJiYgIXNjcmVlblNoYXJlVHJhY2tzLnNvbWUoXG4gICAgICAodHJhY2spID0+IHtcbiAgICAgICAgdmFyIF9hNCwgX2I0O1xuICAgICAgICByZXR1cm4gdHJhY2sucHVibGljYXRpb24udHJhY2tTaWQgPT09ICgoX2I0ID0gKF9hNCA9IGxhc3RBdXRvRm9jdXNlZFNjcmVlblNoYXJlVHJhY2suY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNC5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iNC50cmFja1NpZCk7XG4gICAgICB9XG4gICAgKSkge1xuICAgICAgbG9nMTMuZGVidWcoXCJBdXRvIGNsZWFyaW5nIHNjcmVlbiBzaGFyZSBmb2N1cy5cIik7XG4gICAgICAoX2QgPSAoX2MgPSBsYXlvdXRDb250ZXh0LnBpbikuZGlzcGF0Y2gpID09IG51bGwgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCB7IG1zZzogXCJjbGVhcl9waW5cIiB9KTtcbiAgICAgIGxhc3RBdXRvRm9jdXNlZFNjcmVlblNoYXJlVHJhY2suY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9LCBbXG4gICAgc2NyZWVuU2hhcmVUcmFja3MubWFwKChyZWYpID0+IGAke3JlZi5wdWJsaWNhdGlvbi50cmFja1NpZH1fJHtyZWYucHVibGljYXRpb24uaXNTdWJzY3JpYmVkfWApLmpvaW4oKSxcbiAgICAoX2IyID0gZm9jdXNUcmFjayA9PSBudWxsID8gdm9pZCAwIDogZm9jdXNUcmFjay5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi50cmFja1NpZFxuICBdKTtcbiAgdXNlV2FybkFib3V0TWlzc2luZ1N0eWxlcygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwibGstdmlkZW8tY29uZmVyZW5jZVwiIH0sIHByb3BzKSwgaXNXZWIoKSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChcbiAgICBMYXlvdXRDb250ZXh0UHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IGxheW91dENvbnRleHQsXG4gICAgICBvbldpZGdldENoYW5nZTogd2lkZ2V0VXBkYXRlXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay12aWRlby1jb25mZXJlbmNlLWlubmVyXCIgfSwgIWZvY3VzVHJhY2sgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1ncmlkLWxheW91dC13cmFwcGVyXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoR3JpZExheW91dCwgeyB0cmFja3MgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnRUaWxlLCBudWxsKSkpIDogLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstZm9jdXMtbGF5b3V0LXdyYXBwZXJcIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChGb2N1c0xheW91dENvbnRhaW5lciwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoQ2Fyb3VzZWxMYXlvdXQsIHsgdHJhY2tzOiBjYXJvdXNlbFRyYWNrcyB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChQYXJ0aWNpcGFudFRpbGUsIG51bGwpKSwgZm9jdXNUcmFjayAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChGb2N1c0xheW91dCwgeyB0cmFja1JlZjogZm9jdXNUcmFjayB9KSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDYuY3JlYXRlRWxlbWVudChDb250cm9sQmFyLCB7IGNvbnRyb2xzOiB7IGNoYXQ6IHRydWUgfSB9KSksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBDaGF0LFxuICAgICAge1xuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiB3aWRnZXRTdGF0ZS5zaG93Q2hhdCA/IFwiZ3JpZFwiIDogXCJub25lXCIgfSxcbiAgICAgICAgbWVzc2FnZUZvcm1hdHRlcjogY2hhdE1lc3NhZ2VGb3JtYXR0ZXIsXG4gICAgICAgIG1lc3NhZ2VFbmNvZGVyOiBjaGF0TWVzc2FnZUVuY29kZXIsXG4gICAgICAgIG1lc3NhZ2VEZWNvZGVyOiBjaGF0TWVzc2FnZURlY29kZXJcbiAgICAgIH1cbiAgICApXG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNi5jcmVhdGVFbGVtZW50KFJvb21BdWRpb1JlbmRlcmVyLCBudWxsKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA2LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGlvblN0YXRlVG9hc3QsIG51bGwpKTtcbn1cblxuLy8gc3JjL3ByZWZhYnMvQXVkaW9Db25mZXJlbmNlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMDcgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUcmFjayBhcyBUcmFjazEyIH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5mdW5jdGlvbiBBdWRpb0NvbmZlcmVuY2UoX2EpIHtcbiAgdmFyIHByb3BzID0gX19vYmpSZXN0KF9hLCBbXSk7XG4gIGNvbnN0IFt3aWRnZXRTdGF0ZSwgc2V0V2lkZ2V0U3RhdGVdID0gUmVhY3QxMDcudXNlU3RhdGUoe1xuICAgIHNob3dDaGF0OiBmYWxzZSxcbiAgICB1bnJlYWRNZXNzYWdlczogMFxuICB9KTtcbiAgY29uc3QgYXVkaW9UcmFja3MgPSB1c2VUcmFja3MoW1RyYWNrMTIuU291cmNlLk1pY3JvcGhvbmVdKTtcbiAgdXNlV2FybkFib3V0TWlzc2luZ1N0eWxlcygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTA3LmNyZWF0ZUVsZW1lbnQoTGF5b3V0Q29udGV4dFByb3ZpZGVyLCB7IG9uV2lkZ2V0Q2hhbmdlOiBzZXRXaWRnZXRTdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDcuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX3NwcmVhZFZhbHVlcyh7IGNsYXNzTmFtZTogXCJsay1hdWRpby1jb25mZXJlbmNlXCIgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMDcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1hdWRpby1jb25mZXJlbmNlLXN0YWdlXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA3LmNyZWF0ZUVsZW1lbnQoVHJhY2tMb29wLCB7IHRyYWNrczogYXVkaW9UcmFja3MgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTA3LmNyZWF0ZUVsZW1lbnQoUGFydGljaXBhbnRBdWRpb1RpbGUsIG51bGwpKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNy5jcmVhdGVFbGVtZW50KFxuICAgIENvbnRyb2xCYXIsXG4gICAge1xuICAgICAgY29udHJvbHM6IHsgbWljcm9waG9uZTogdHJ1ZSwgc2NyZWVuU2hhcmU6IGZhbHNlLCBjYW1lcmE6IGZhbHNlLCBjaGF0OiB0cnVlIH1cbiAgICB9XG4gICksIHdpZGdldFN0YXRlLnNob3dDaGF0ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwNy5jcmVhdGVFbGVtZW50KENoYXQsIG51bGwpKSk7XG59XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgc2V0TG9nTGV2ZWwsIHNldExvZ0V4dGVuc2lvbiwgaXNUcmFja1JlZmVyZW5jZSBhcyBpc1RyYWNrUmVmZXJlbmNlNSB9IGZyb20gXCJAbGl2ZWtpdC9jb21wb25lbnRzLWNvcmVcIjtcbmV4cG9ydCB7XG4gIEF1ZGlvQ29uZmVyZW5jZSxcbiAgQXVkaW9UcmFjayxcbiAgQXVkaW9WaXN1YWxpemVyLFxuICBDYW1lcmFEaXNhYmxlZEljb25fZGVmYXVsdCBhcyBDYW1lcmFEaXNhYmxlZEljb24sXG4gIENhbWVyYUljb25fZGVmYXVsdCBhcyBDYW1lcmFJY29uLFxuICBDYXJvdXNlbExheW91dCxcbiAgQ2Fyb3VzZWxWaWV3LFxuICBDaGF0LFxuICBDaGF0Q2xvc2VJY29uX2RlZmF1bHQgYXMgQ2hhdENsb3NlSWNvbixcbiAgQ2hhdEVudHJ5LFxuICBDaGF0SWNvbl9kZWZhdWx0IGFzIENoYXRJY29uLFxuICBDaGF0VG9nZ2xlLFxuICBDaGV2cm9uX2RlZmF1bHQgYXMgQ2hldnJvbixcbiAgQ2xlYXJQaW5CdXR0b24sXG4gIENvbm5lY3Rpb25RdWFsaXR5SW5kaWNhdG9yLFxuICBDb25uZWN0aW9uU3RhdGUzIGFzIENvbm5lY3Rpb25TdGF0ZSxcbiAgQ29ubmVjdGlvblN0YXRlVG9hc3QsXG4gIENvbnRyb2xCYXIsXG4gIERpc2Nvbm5lY3RCdXR0b24sXG4gIEZvY3VzTGF5b3V0LFxuICBGb2N1c0xheW91dENvbnRhaW5lcixcbiAgRm9jdXNUb2dnbGUsXG4gIEZvY3VzVG9nZ2xlSWNvbl9kZWZhdWx0IGFzIEZvY3VzVG9nZ2xlSWNvbixcbiAgR2Vhckljb25fZGVmYXVsdCBhcyBHZWFySWNvbixcbiAgR3JpZExheW91dCxcbiAgTEtGZWF0dXJlQ29udGV4dCxcbiAgTGF5b3V0Q29udGV4dCxcbiAgTGF5b3V0Q29udGV4dFByb3ZpZGVyLFxuICBMZWF2ZUljb25fZGVmYXVsdCBhcyBMZWF2ZUljb24sXG4gIExpdmVLaXRSb29tLFxuICBMb2NrTG9ja2VkSWNvbl9kZWZhdWx0IGFzIExvY2tMb2NrZWRJY29uLFxuICBNZWRpYURldmljZU1lbnUsXG4gIE1lZGlhRGV2aWNlU2VsZWN0LFxuICBNaWNEaXNhYmxlZEljb25fZGVmYXVsdCBhcyBNaWNEaXNhYmxlZEljb24sXG4gIE1pY0ljb25fZGVmYXVsdCBhcyBNaWNJY29uLFxuICBQYXJ0aWNpcGFudEF1ZGlvVGlsZSxcbiAgUGFydGljaXBhbnRDb250ZXh0LFxuICBQYXJ0aWNpcGFudENvbnRleHRJZk5lZWRlZCxcbiAgUGFydGljaXBhbnRMb29wLFxuICBQYXJ0aWNpcGFudE5hbWUsXG4gIFBhcnRpY2lwYW50UGxhY2Vob2xkZXJfZGVmYXVsdCBhcyBQYXJ0aWNpcGFudFBsYWNlaG9sZGVyLFxuICBQYXJ0aWNpcGFudFRpbGUsXG4gIFByZUpvaW4sXG4gIFF1YWxpdHlFeGNlbGxlbnRJY29uX2RlZmF1bHQgYXMgUXVhbGl0eUV4Y2VsbGVudEljb24sXG4gIFF1YWxpdHlHb29kSWNvbl9kZWZhdWx0IGFzIFF1YWxpdHlHb29kSWNvbixcbiAgUXVhbGl0eVBvb3JJY29uX2RlZmF1bHQgYXMgUXVhbGl0eVBvb3JJY29uLFxuICBRdWFsaXR5VW5rbm93bkljb25fZGVmYXVsdCBhcyBRdWFsaXR5VW5rbm93bkljb24sXG4gIFJvb21BdWRpb1JlbmRlcmVyLFxuICBSb29tQ29udGV4dCxcbiAgUm9vbU5hbWUsXG4gIFNjcmVlblNoYXJlSWNvbl9kZWZhdWx0IGFzIFNjcmVlblNoYXJlSWNvbixcbiAgU2NyZWVuU2hhcmVTdG9wSWNvbl9kZWZhdWx0IGFzIFNjcmVlblNoYXJlU3RvcEljb24sXG4gIFNwaW5uZXJJY29uX2RlZmF1bHQgYXMgU3Bpbm5lckljb24sXG4gIFN0YXJ0QXVkaW8sXG4gIFRvYXN0LFxuICBUcmFja0NvbnRleHQsXG4gIFRyYWNrTG9vcCxcbiAgVHJhY2tNdXRlZEluZGljYXRvcixcbiAgVHJhY2tSZWZDb250ZXh0LFxuICBUcmFja1RvZ2dsZSxcbiAgVW5mb2N1c1RvZ2dsZUljb25fZGVmYXVsdCBhcyBVbmZvY3VzVG9nZ2xlSWNvbixcbiAgVmlkZW9Db25mZXJlbmNlLFxuICBWaWRlb1RyYWNrLFxuICBmb3JtYXRDaGF0TWVzc2FnZUxpbmtzLFxuICBpc1RyYWNrUmVmZXJlbmNlNSBhcyBpc1RyYWNrUmVmZXJlbmNlLFxuICBzZXRMb2dFeHRlbnNpb24sXG4gIHNldExvZ0xldmVsLFxuICB1c2VBdWRpb1BsYXliYWNrLFxuICB1c2VDaGF0LFxuICB1c2VDaGF0VG9nZ2xlLFxuICB1c2VDbGVhclBpbkJ1dHRvbixcbiAgdXNlQ29ubmVjdGlvblF1YWxpdHlJbmRpY2F0b3IsXG4gIHVzZUNvbm5lY3Rpb25TdGF0ZSxcbiAgdXNlQ3JlYXRlTGF5b3V0Q29udGV4dCxcbiAgdXNlRGF0YUNoYW5uZWwsXG4gIHVzZURpc2Nvbm5lY3RCdXR0b24sXG4gIHVzZUVuc3VyZUNyZWF0ZUxheW91dENvbnRleHQsXG4gIHVzZUVuc3VyZUxheW91dENvbnRleHQsXG4gIHVzZUVuc3VyZVBhcnRpY2lwYW50LFxuICB1c2VFbnN1cmVSb29tLFxuICB1c2VFbnN1cmVUcmFja1JlZixcbiAgdXNlRW5zdXJlVHJhY2tSZWZlcmVuY2UsXG4gIHVzZUZhY2luZ01vZGUsXG4gIHVzZUZlYXR1cmVDb250ZXh0LFxuICB1c2VGb2N1c1RvZ2dsZSxcbiAgdXNlR3JpZExheW91dCxcbiAgdXNlSXNFbmNyeXB0ZWQsXG4gIHVzZUlzTXV0ZWQsXG4gIHVzZUlzU3BlYWtpbmcsXG4gIHVzZUxheW91dENvbnRleHQsXG4gIHVzZUxpdmVLaXRSb29tLFxuICB1c2VMb2NhbFBhcnRpY2lwYW50LFxuICB1c2VMb2NhbFBhcnRpY2lwYW50UGVybWlzc2lvbnMsXG4gIHVzZU1heWJlTGF5b3V0Q29udGV4dCxcbiAgdXNlTWF5YmVQYXJ0aWNpcGFudENvbnRleHQsXG4gIHVzZU1heWJlUm9vbUNvbnRleHQsXG4gIHVzZU1heWJlVHJhY2tDb250ZXh0LFxuICB1c2VNYXliZVRyYWNrUmVmQ29udGV4dCxcbiAgdXNlTWVkaWFEZXZpY2VTZWxlY3QsXG4gIHVzZU1lZGlhRGV2aWNlcyxcbiAgdXNlTWVkaWFUcmFjayxcbiAgdXNlTWVkaWFUcmFja0J5TmFtZSxcbiAgdXNlTXVsdGliYW5kVHJhY2tWb2x1bWUsXG4gIHVzZVBhZ2luYXRpb24sXG4gIHVzZVBhcnRpY2lwYW50Q29udGV4dCxcbiAgdXNlUGFydGljaXBhbnRJbmZvLFxuICB1c2VQYXJ0aWNpcGFudFBlcm1pc3Npb25zLFxuICB1c2VQYXJ0aWNpcGFudFRpbGUsXG4gIHVzZVBhcnRpY2lwYW50cyxcbiAgdXNlUGVyc2lzdGVudFVzZXJDaG9pY2VzLFxuICB1c2VQaW5uZWRUcmFja3MsXG4gIHVzZVByZXZpZXdEZXZpY2UsXG4gIHVzZVByZXZpZXdUcmFja3MsXG4gIHVzZVJlbW90ZVBhcnRpY2lwYW50LFxuICB1c2VSZW1vdGVQYXJ0aWNpcGFudHMsXG4gIHVzZVJvb21Db250ZXh0LFxuICB1c2VSb29tSW5mbyxcbiAgdXNlU29ydGVkUGFydGljaXBhbnRzLFxuICB1c2VTcGVha2luZ1BhcnRpY2lwYW50cyxcbiAgdXNlU3RhcnRBdWRpbyxcbiAgdXNlU3RhcnRWaWRlbyxcbiAgdXNlU3dpcGUsXG4gIHVzZVRva2VuLFxuICB1c2VUcmFjayxcbiAgdXNlVHJhY2tCeU5hbWUsXG4gIHVzZVRyYWNrQ29udGV4dCxcbiAgdXNlVHJhY2tNdXRlZEluZGljYXRvcixcbiAgdXNlVHJhY2tSZWZDb250ZXh0LFxuICB1c2VUcmFja1RvZ2dsZSxcbiAgdXNlVHJhY2tWb2x1bWUsXG4gIHVzZVRyYWNrcyxcbiAgdXNlVmlzdWFsU3RhYmxlVXBkYXRlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBoolean: () => (/* reexport safe */ _useBoolean_useBoolean__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   useClickAnyWhere: () => (/* reexport safe */ _useClickAnyWhere_useClickAnyWhere__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   useCopyToClipboard: () => (/* reexport safe */ _useCopyToClipboard_useCopyToClipboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   useCountdown: () => (/* reexport safe */ _useCountdown_useCountdown__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   useCounter: () => (/* reexport safe */ _useCounter_useCounter__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   useDarkMode: () => (/* reexport safe */ _useDarkMode_useDarkMode__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   useDebounce: () => (/* reexport safe */ _useDebounce_useDebounce__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   useDocumentTitle: () => (/* reexport safe */ _useDocumentTitle_useDocumentTitle__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   useEffectOnce: () => (/* reexport safe */ _useEffectOnce_useEffectOnce__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   useElementSize: () => (/* reexport safe */ _useElementSize_useElementSize__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   useEventCallback: () => (/* reexport safe */ _useEventCallback_useEventCallback__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   useEventListener: () => (/* reexport safe */ _useEventListener_useEventListener__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   useFetch: () => (/* reexport safe */ _useFetch_useFetch__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   useHover: () => (/* reexport safe */ _useHover_useHover__WEBPACK_IMPORTED_MODULE_13__[\"default\"]),\n/* harmony export */   useImageOnLoad: () => (/* reexport safe */ _useImageOnLoad_useImageOnLoad__WEBPACK_IMPORTED_MODULE_14__[\"default\"]),\n/* harmony export */   useIntersectionObserver: () => (/* reexport safe */ _useIntersectionObserver_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_15__[\"default\"]),\n/* harmony export */   useInterval: () => (/* reexport safe */ _useInterval_useInterval__WEBPACK_IMPORTED_MODULE_16__[\"default\"]),\n/* harmony export */   useIsClient: () => (/* reexport safe */ _useIsClient_useIsClient__WEBPACK_IMPORTED_MODULE_17__[\"default\"]),\n/* harmony export */   useIsFirstRender: () => (/* reexport safe */ _useIsFirstRender_useIsFirstRender__WEBPACK_IMPORTED_MODULE_18__[\"default\"]),\n/* harmony export */   useIsMounted: () => (/* reexport safe */ _useIsMounted_useIsMounted__WEBPACK_IMPORTED_MODULE_19__[\"default\"]),\n/* harmony export */   useIsomorphicLayoutEffect: () => (/* reexport safe */ _useIsomorphicLayoutEffect_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_20__[\"default\"]),\n/* harmony export */   useLocalStorage: () => (/* reexport safe */ _useLocalStorage_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__[\"default\"]),\n/* harmony export */   useLockedBody: () => (/* reexport safe */ _useLockedBody_useLockedBody__WEBPACK_IMPORTED_MODULE_22__[\"default\"]),\n/* harmony export */   useMap: () => (/* reexport safe */ _useMap_useMap__WEBPACK_IMPORTED_MODULE_23__[\"default\"]),\n/* harmony export */   useMediaQuery: () => (/* reexport safe */ _useMediaQuery_useMediaQuery__WEBPACK_IMPORTED_MODULE_24__[\"default\"]),\n/* harmony export */   useOnClickOutside: () => (/* reexport safe */ _useOnClickOutside_useOnClickOutside__WEBPACK_IMPORTED_MODULE_25__[\"default\"]),\n/* harmony export */   useReadLocalStorage: () => (/* reexport safe */ _useReadLocalStorage_useReadLocalStorage__WEBPACK_IMPORTED_MODULE_26__[\"default\"]),\n/* harmony export */   useScreen: () => (/* reexport safe */ _useScreen_useScreen__WEBPACK_IMPORTED_MODULE_27__[\"default\"]),\n/* harmony export */   useScript: () => (/* reexport safe */ _useScript_useScript__WEBPACK_IMPORTED_MODULE_28__[\"default\"]),\n/* harmony export */   useSessionStorage: () => (/* reexport safe */ _useSessionStorage_useSessionStorage__WEBPACK_IMPORTED_MODULE_29__[\"default\"]),\n/* harmony export */   useSsr: () => (/* reexport safe */ _useSsr_useSsr__WEBPACK_IMPORTED_MODULE_30__[\"default\"]),\n/* harmony export */   useStep: () => (/* reexport safe */ _useStep_useStep__WEBPACK_IMPORTED_MODULE_31__[\"default\"]),\n/* harmony export */   useTernaryDarkMode: () => (/* reexport safe */ _useTernaryDarkMode_useTernaryDarkMode__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n/* harmony export */   useTimeout: () => (/* reexport safe */ _useTimeout_useTimeout__WEBPACK_IMPORTED_MODULE_33__[\"default\"]),\n/* harmony export */   useToggle: () => (/* reexport safe */ _useToggle_useToggle__WEBPACK_IMPORTED_MODULE_34__[\"default\"]),\n/* harmony export */   useUpdateEffect: () => (/* reexport safe */ _useUpdateEffect_useUpdateEffect__WEBPACK_IMPORTED_MODULE_35__[\"default\"]),\n/* harmony export */   useWindowSize: () => (/* reexport safe */ _useWindowSize_useWindowSize__WEBPACK_IMPORTED_MODULE_36__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _useBoolean_useBoolean__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useBoolean/useBoolean */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useBoolean/useBoolean.js\");\n/* harmony import */ var _useClickAnyWhere_useClickAnyWhere__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useClickAnyWhere/useClickAnyWhere */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useClickAnyWhere/useClickAnyWhere.js\");\n/* harmony import */ var _useCopyToClipboard_useCopyToClipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useCopyToClipboard/useCopyToClipboard */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCopyToClipboard/useCopyToClipboard.js\");\n/* harmony import */ var _useCountdown_useCountdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useCountdown/useCountdown */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCountdown/useCountdown.js\");\n/* harmony import */ var _useCounter_useCounter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useCounter/useCounter */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCounter/useCounter.js\");\n/* harmony import */ var _useDarkMode_useDarkMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useDarkMode/useDarkMode */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDarkMode/useDarkMode.js\");\n/* harmony import */ var _useDebounce_useDebounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useDebounce/useDebounce */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDebounce/useDebounce.js\");\n/* harmony import */ var _useDocumentTitle_useDocumentTitle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useDocumentTitle/useDocumentTitle */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDocumentTitle/useDocumentTitle.js\");\n/* harmony import */ var _useEffectOnce_useEffectOnce__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useEffectOnce/useEffectOnce */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEffectOnce/useEffectOnce.js\");\n/* harmony import */ var _useElementSize_useElementSize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useElementSize/useElementSize */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useElementSize/useElementSize.js\");\n/* harmony import */ var _useEventCallback_useEventCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./useEventCallback/useEventCallback */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventCallback/useEventCallback.js\");\n/* harmony import */ var _useEventListener_useEventListener__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./useEventListener/useEventListener */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js\");\n/* harmony import */ var _useFetch_useFetch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useFetch/useFetch */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useFetch/useFetch.js\");\n/* harmony import */ var _useHover_useHover__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./useHover/useHover */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useHover/useHover.js\");\n/* harmony import */ var _useImageOnLoad_useImageOnLoad__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./useImageOnLoad/useImageOnLoad */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useImageOnLoad/useImageOnLoad.js\");\n/* harmony import */ var _useIntersectionObserver_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./useIntersectionObserver/useIntersectionObserver */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIntersectionObserver/useIntersectionObserver.js\");\n/* harmony import */ var _useInterval_useInterval__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./useInterval/useInterval */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useInterval/useInterval.js\");\n/* harmony import */ var _useIsClient_useIsClient__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./useIsClient/useIsClient */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsClient/useIsClient.js\");\n/* harmony import */ var _useIsFirstRender_useIsFirstRender__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./useIsFirstRender/useIsFirstRender */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsFirstRender/useIsFirstRender.js\");\n/* harmony import */ var _useIsMounted_useIsMounted__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./useIsMounted/useIsMounted */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsMounted/useIsMounted.js\");\n/* harmony import */ var _useIsomorphicLayoutEffect_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect/useIsomorphicLayoutEffect */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js\");\n/* harmony import */ var _useLocalStorage_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./useLocalStorage/useLocalStorage */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLocalStorage/useLocalStorage.js\");\n/* harmony import */ var _useLockedBody_useLockedBody__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./useLockedBody/useLockedBody */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLockedBody/useLockedBody.js\");\n/* harmony import */ var _useMap_useMap__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./useMap/useMap */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMap/useMap.js\");\n/* harmony import */ var _useMediaQuery_useMediaQuery__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./useMediaQuery/useMediaQuery */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMediaQuery/useMediaQuery.js\");\n/* harmony import */ var _useOnClickOutside_useOnClickOutside__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./useOnClickOutside/useOnClickOutside */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useOnClickOutside/useOnClickOutside.js\");\n/* harmony import */ var _useReadLocalStorage_useReadLocalStorage__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./useReadLocalStorage/useReadLocalStorage */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useReadLocalStorage/useReadLocalStorage.js\");\n/* harmony import */ var _useScreen_useScreen__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./useScreen/useScreen */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScreen/useScreen.js\");\n/* harmony import */ var _useScript_useScript__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./useScript/useScript */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScript/useScript.js\");\n/* harmony import */ var _useSessionStorage_useSessionStorage__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./useSessionStorage/useSessionStorage */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSessionStorage/useSessionStorage.js\");\n/* harmony import */ var _useSsr_useSsr__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./useSsr/useSsr */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSsr/useSsr.js\");\n/* harmony import */ var _useStep_useStep__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./useStep/useStep */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useStep/useStep.js\");\n/* harmony import */ var _useTernaryDarkMode_useTernaryDarkMode__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./useTernaryDarkMode/useTernaryDarkMode */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTernaryDarkMode/useTernaryDarkMode.js\");\n/* harmony import */ var _useTimeout_useTimeout__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./useTimeout/useTimeout */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTimeout/useTimeout.js\");\n/* harmony import */ var _useToggle_useToggle__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./useToggle/useToggle */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useToggle/useToggle.js\");\n/* harmony import */ var _useUpdateEffect_useUpdateEffect__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./useUpdateEffect/useUpdateEffect */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useUpdateEffect/useUpdateEffect.js\");\n/* harmony import */ var _useWindowSize_useWindowSize__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./useWindowSize/useWindowSize */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useWindowSize/useWindowSize.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0U7QUFDeEI7QUFDMEM7QUFDOUI7QUFDb0M7QUFDaEM7QUFDYztBQUMxQjtBQUNvQjtBQUN4QjtBQUMyQjtBQUN6QjtBQUN5QjtBQUN6QjtBQUN3QztBQUM5QjtBQUNxQjtBQUMzQjtBQUM4QjtBQUM1QjtBQUNrQztBQUM5QjtBQUM4QjtBQUM5QjtBQUNNO0FBQ3RCO0FBQ3NCO0FBQ3RCO0FBQ3dDO0FBQzVCO0FBQ3VEO0FBQ3JDO0FBQ0M7QUFDekI7QUFDeUI7QUFDekI7QUFDd0M7QUFDOUI7QUFDa0I7QUFDMUI7QUFDaUU7QUFDdkM7QUFDUztBQUM3QjtBQUN1QjtBQUMzQjtBQUNNO0FBQ3BCO0FBQ3lDO0FBQzNCO0FBQ3VDO0FBQy9CO0FBQ3FDO0FBQ2pDO0FBQ0c7QUFDdkI7QUFDdUI7QUFDdkI7QUFDK0M7QUFDL0I7QUFDRjtBQUNwQjtBQUN1QjtBQUNyQjtBQUNzRDtBQUNoQztBQUNRO0FBQ3hCO0FBQ3FCO0FBQ3ZCO0FBQ3lDO0FBQzdCO0FBQ3VCO0FBQzNCIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IGFzIHVzZUJvb2xlYW4gfSBmcm9tICcuL3VzZUJvb2xlYW4vdXNlQm9vbGVhbic7XG5leHBvcnQgKiBmcm9tICcuL3VzZUJvb2xlYW4vdXNlQm9vbGVhbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUNsaWNrQW55V2hlcmUgfSBmcm9tICcuL3VzZUNsaWNrQW55V2hlcmUvdXNlQ2xpY2tBbnlXaGVyZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUNsaWNrQW55V2hlcmUvdXNlQ2xpY2tBbnlXaGVyZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUNvcHlUb0NsaXBib2FyZCB9IGZyb20gJy4vdXNlQ29weVRvQ2xpcGJvYXJkL3VzZUNvcHlUb0NsaXBib2FyZCc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUNvcHlUb0NsaXBib2FyZC91c2VDb3B5VG9DbGlwYm9hcmQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VDb3VudGRvd24gfSBmcm9tICcuL3VzZUNvdW50ZG93bi91c2VDb3VudGRvd24nO1xuZXhwb3J0ICogZnJvbSAnLi91c2VDb3VudGRvd24vdXNlQ291bnRkb3duJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlQ291bnRlciB9IGZyb20gJy4vdXNlQ291bnRlci91c2VDb3VudGVyJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlQ291bnRlci91c2VDb3VudGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlRGFya01vZGUgfSBmcm9tICcuL3VzZURhcmtNb2RlL3VzZURhcmtNb2RlJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlRGFya01vZGUvdXNlRGFya01vZGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VEZWJvdW5jZSB9IGZyb20gJy4vdXNlRGVib3VuY2UvdXNlRGVib3VuY2UnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VEZWJvdW5jZS91c2VEZWJvdW5jZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZURvY3VtZW50VGl0bGUgfSBmcm9tICcuL3VzZURvY3VtZW50VGl0bGUvdXNlRG9jdW1lbnRUaXRsZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZURvY3VtZW50VGl0bGUvdXNlRG9jdW1lbnRUaXRsZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUVmZmVjdE9uY2UgfSBmcm9tICcuL3VzZUVmZmVjdE9uY2UvdXNlRWZmZWN0T25jZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUVmZmVjdE9uY2UvdXNlRWZmZWN0T25jZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUVsZW1lbnRTaXplIH0gZnJvbSAnLi91c2VFbGVtZW50U2l6ZS91c2VFbGVtZW50U2l6ZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUVsZW1lbnRTaXplL3VzZUVsZW1lbnRTaXplJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlRXZlbnRDYWxsYmFjayB9IGZyb20gJy4vdXNlRXZlbnRDYWxsYmFjay91c2VFdmVudENhbGxiYWNrJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlRXZlbnRDYWxsYmFjay91c2VFdmVudENhbGxiYWNrJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vdXNlRXZlbnRMaXN0ZW5lci91c2VFdmVudExpc3RlbmVyJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlRXZlbnRMaXN0ZW5lci91c2VFdmVudExpc3RlbmVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlRmV0Y2ggfSBmcm9tICcuL3VzZUZldGNoL3VzZUZldGNoJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlRmV0Y2gvdXNlRmV0Y2gnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VIb3ZlciB9IGZyb20gJy4vdXNlSG92ZXIvdXNlSG92ZXInO1xuZXhwb3J0ICogZnJvbSAnLi91c2VIb3Zlci91c2VIb3Zlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUltYWdlT25Mb2FkIH0gZnJvbSAnLi91c2VJbWFnZU9uTG9hZC91c2VJbWFnZU9uTG9hZCc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUltYWdlT25Mb2FkL3VzZUltYWdlT25Mb2FkJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tICcuL3VzZUludGVyc2VjdGlvbk9ic2VydmVyL3VzZUludGVyc2VjdGlvbk9ic2VydmVyJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VJbnRlcnZhbCB9IGZyb20gJy4vdXNlSW50ZXJ2YWwvdXNlSW50ZXJ2YWwnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VJbnRlcnZhbC91c2VJbnRlcnZhbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUlzQ2xpZW50IH0gZnJvbSAnLi91c2VJc0NsaWVudC91c2VJc0NsaWVudCc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUlzQ2xpZW50L3VzZUlzQ2xpZW50JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlSXNGaXJzdFJlbmRlciB9IGZyb20gJy4vdXNlSXNGaXJzdFJlbmRlci91c2VJc0ZpcnN0UmVuZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlSXNGaXJzdFJlbmRlci91c2VJc0ZpcnN0UmVuZGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlSXNNb3VudGVkIH0gZnJvbSAnLi91c2VJc01vdW50ZWQvdXNlSXNNb3VudGVkJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlSXNNb3VudGVkL3VzZUlzTW91bnRlZCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUxvY2FsU3RvcmFnZSB9IGZyb20gJy4vdXNlTG9jYWxTdG9yYWdlL3VzZUxvY2FsU3RvcmFnZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZUxvY2FsU3RvcmFnZS91c2VMb2NhbFN0b3JhZ2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VMb2NrZWRCb2R5IH0gZnJvbSAnLi91c2VMb2NrZWRCb2R5L3VzZUxvY2tlZEJvZHknO1xuZXhwb3J0ICogZnJvbSAnLi91c2VMb2NrZWRCb2R5L3VzZUxvY2tlZEJvZHknO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VNYXAgfSBmcm9tICcuL3VzZU1hcC91c2VNYXAnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VNYXAvdXNlTWFwJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlTWVkaWFRdWVyeSB9IGZyb20gJy4vdXNlTWVkaWFRdWVyeS91c2VNZWRpYVF1ZXJ5JztcbmV4cG9ydCAqIGZyb20gJy4vdXNlTWVkaWFRdWVyeS91c2VNZWRpYVF1ZXJ5JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlT25DbGlja091dHNpZGUgfSBmcm9tICcuL3VzZU9uQ2xpY2tPdXRzaWRlL3VzZU9uQ2xpY2tPdXRzaWRlJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlT25DbGlja091dHNpZGUvdXNlT25DbGlja091dHNpZGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VSZWFkTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi91c2VSZWFkTG9jYWxTdG9yYWdlL3VzZVJlYWRMb2NhbFN0b3JhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VSZWFkTG9jYWxTdG9yYWdlL3VzZVJlYWRMb2NhbFN0b3JhZ2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VTY3JlZW4gfSBmcm9tICcuL3VzZVNjcmVlbi91c2VTY3JlZW4nO1xuZXhwb3J0ICogZnJvbSAnLi91c2VTY3JlZW4vdXNlU2NyZWVuJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlU2NyaXB0IH0gZnJvbSAnLi91c2VTY3JpcHQvdXNlU2NyaXB0JztcbmV4cG9ydCAqIGZyb20gJy4vdXNlU2NyaXB0L3VzZVNjcmlwdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVNlc3Npb25TdG9yYWdlIH0gZnJvbSAnLi91c2VTZXNzaW9uU3RvcmFnZS91c2VTZXNzaW9uU3RvcmFnZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZVNlc3Npb25TdG9yYWdlL3VzZVNlc3Npb25TdG9yYWdlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlU3NyIH0gZnJvbSAnLi91c2VTc3IvdXNlU3NyJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlU3NyL3VzZVNzcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVN0ZXAgfSBmcm9tICcuL3VzZVN0ZXAvdXNlU3RlcCc7XG5leHBvcnQgKiBmcm9tICcuL3VzZVN0ZXAvdXNlU3RlcCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVRlcm5hcnlEYXJrTW9kZSB9IGZyb20gJy4vdXNlVGVybmFyeURhcmtNb2RlL3VzZVRlcm5hcnlEYXJrTW9kZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZVRlcm5hcnlEYXJrTW9kZS91c2VUZXJuYXJ5RGFya01vZGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VUaW1lb3V0IH0gZnJvbSAnLi91c2VUaW1lb3V0L3VzZVRpbWVvdXQnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VUaW1lb3V0L3VzZVRpbWVvdXQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VUb2dnbGUgfSBmcm9tICcuL3VzZVRvZ2dsZS91c2VUb2dnbGUnO1xuZXhwb3J0ICogZnJvbSAnLi91c2VUb2dnbGUvdXNlVG9nZ2xlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAnLi91c2VVcGRhdGVFZmZlY3QvdXNlVXBkYXRlRWZmZWN0JztcbmV4cG9ydCAqIGZyb20gJy4vdXNlVXBkYXRlRWZmZWN0L3VzZVVwZGF0ZUVmZmVjdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVdpbmRvd1NpemUgfSBmcm9tICcuL3VzZVdpbmRvd1NpemUvdXNlV2luZG93U2l6ZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZVdpbmRvd1NpemUvdXNlV2luZG93U2l6ZSc7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useBoolean/useBoolean.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useBoolean/useBoolean.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useBoolean(defaultValue) {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!!defaultValue);\n    const setTrue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setValue(true), []);\n    const setFalse = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setValue(false), []);\n    const toggle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setValue(x => !x), []);\n    return { value, setValue, setTrue, setFalse, toggle };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useBoolean);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlQm9vbGVhbi91c2VCb29sZWFuLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUM5QztBQUNBLDhCQUE4QiwrQ0FBUTtBQUN0QyxvQkFBb0Isa0RBQVc7QUFDL0IscUJBQXFCLGtEQUFXO0FBQ2hDLG1CQUFtQixrREFBVztBQUM5QixhQUFhO0FBQ2I7QUFDQSxpRUFBZSxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUJvb2xlYW5cXHVzZUJvb2xlYW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gdXNlQm9vbGVhbihkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCEhZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCBzZXRUcnVlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0VmFsdWUodHJ1ZSksIFtdKTtcbiAgICBjb25zdCBzZXRGYWxzZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFZhbHVlKGZhbHNlKSwgW10pO1xuICAgIGNvbnN0IHRvZ2dsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFZhbHVlKHggPT4gIXgpLCBbXSk7XG4gICAgcmV0dXJuIHsgdmFsdWUsIHNldFZhbHVlLCBzZXRUcnVlLCBzZXRGYWxzZSwgdG9nZ2xlIH07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VCb29sZWFuO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useBoolean/useBoolean.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useClickAnyWhere/useClickAnyWhere.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useClickAnyWhere/useClickAnyWhere.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\nfunction useClickAnyWhere(handler) {\n    (0,___WEBPACK_IMPORTED_MODULE_0__.useEventListener)('click', event => {\n        handler(event);\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useClickAnyWhere);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlQ2xpY2tBbnlXaGVyZS91c2VDbGlja0FueVdoZXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBQ3RDO0FBQ0EsSUFBSSxtREFBZ0I7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlQ2xpY2tBbnlXaGVyZVxcdXNlQ2xpY2tBbnlXaGVyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlQ2xpY2tBbnlXaGVyZShoYW5kbGVyKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgIGhhbmRsZXIoZXZlbnQpO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlQ2xpY2tBbnlXaGVyZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useClickAnyWhere/useClickAnyWhere.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCopyToClipboard/useCopyToClipboard.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCopyToClipboard/useCopyToClipboard.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction useCopyToClipboard() {\n    const [copiedText, setCopiedText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const copy = (text) => __awaiter(this, void 0, void 0, function* () {\n        if (!(navigator === null || navigator === void 0 ? void 0 : navigator.clipboard)) {\n            console.warn('Clipboard not supported');\n            return false;\n        }\n        try {\n            yield navigator.clipboard.writeText(text);\n            setCopiedText(text);\n            return true;\n        }\n        catch (error) {\n            console.warn('Copy failed', error);\n            setCopiedText(null);\n            return false;\n        }\n    });\n    return [copiedText, copy];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useCopyToClipboard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlQ29weVRvQ2xpcGJvYXJkL3VzZUNvcHlUb0NsaXBib2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0IsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDaUM7QUFDakM7QUFDQSx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxrQkFBa0IsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlQ29weVRvQ2xpcGJvYXJkXFx1c2VDb3B5VG9DbGlwYm9hcmQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIHVzZUNvcHlUb0NsaXBib2FyZCgpIHtcbiAgICBjb25zdCBbY29waWVkVGV4dCwgc2V0Q29waWVkVGV4dF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb3B5ID0gKHRleHQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKCEobmF2aWdhdG9yID09PSBudWxsIHx8IG5hdmlnYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmF2aWdhdG9yLmNsaXBib2FyZCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ2xpcGJvYXJkIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeWllbGQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgICAgICBzZXRDb3BpZWRUZXh0KHRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvcHkgZmFpbGVkJywgZXJyb3IpO1xuICAgICAgICAgICAgc2V0Q29waWVkVGV4dChudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBbY29waWVkVGV4dCwgY29weV07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VDb3B5VG9DbGlwYm9hcmQ7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCopyToClipboard/useCopyToClipboard.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCountdown/useCountdown.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCountdown/useCountdown.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useCountdown(countdownOption) {\n    let isDeprecated = false;\n    let countStart, intervalMs, isIncrement, countStop;\n    if ('seconds' in countdownOption) {\n        console.warn('[useCountdown:DEPRECATED] new interface is already available (see https://usehooks-ts.com/react-hook/use-countdown), the old version will retire on usehooks-ts@3.');\n        isDeprecated = true;\n        countStart = countdownOption.seconds;\n        intervalMs = countdownOption.interval;\n        isIncrement = countdownOption.isIncrement;\n    }\n    else {\n        ;\n        ({ countStart, intervalMs, isIncrement, countStop } = countdownOption);\n    }\n    intervalMs = intervalMs !== null && intervalMs !== void 0 ? intervalMs : 1000;\n    isIncrement = isIncrement !== null && isIncrement !== void 0 ? isIncrement : false;\n    countStop = countStop !== null && countStop !== void 0 ? countStop : 0;\n    const { count, increment, decrement, reset: resetCounter, } = (0,___WEBPACK_IMPORTED_MODULE_1__.useCounter)(countStart);\n    const { value: isCountdownRunning, setTrue: startCountdown, setFalse: stopCountdown, } = (0,___WEBPACK_IMPORTED_MODULE_1__.useBoolean)(false);\n    const resetCountdown = () => {\n        stopCountdown();\n        resetCounter();\n    };\n    const countdownCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (count === countStop) {\n            stopCountdown();\n            return;\n        }\n        if (isIncrement) {\n            increment();\n        }\n        else {\n            decrement();\n        }\n    }, [count, countStop, decrement, increment, isIncrement, stopCountdown]);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useInterval)(countdownCallback, isCountdownRunning ? intervalMs : null);\n    return isDeprecated\n        ? [\n            count,\n            {\n                start: startCountdown,\n                stop: stopCountdown,\n                reset: resetCountdown,\n            },\n        ]\n        : [\n            count,\n            {\n                startCountdown,\n                stopCountdown,\n                resetCountdown,\n            },\n        ];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useCountdown);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlQ291bnRkb3duL3VzZUNvdW50ZG93bi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBQ3FCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQWlEO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBb0QsRUFBRSw2Q0FBVTtBQUM1RSxZQUFZLCtFQUErRSxFQUFFLDZDQUFVO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksOENBQVc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VDb3VudGRvd25cXHVzZUNvdW50ZG93bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUJvb2xlYW4sIHVzZUNvdW50ZXIsIHVzZUludGVydmFsIH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlQ291bnRkb3duKGNvdW50ZG93bk9wdGlvbikge1xuICAgIGxldCBpc0RlcHJlY2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY291bnRTdGFydCwgaW50ZXJ2YWxNcywgaXNJbmNyZW1lbnQsIGNvdW50U3RvcDtcbiAgICBpZiAoJ3NlY29uZHMnIGluIGNvdW50ZG93bk9wdGlvbikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1t1c2VDb3VudGRvd246REVQUkVDQVRFRF0gbmV3IGludGVyZmFjZSBpcyBhbHJlYWR5IGF2YWlsYWJsZSAoc2VlIGh0dHBzOi8vdXNlaG9va3MtdHMuY29tL3JlYWN0LWhvb2svdXNlLWNvdW50ZG93biksIHRoZSBvbGQgdmVyc2lvbiB3aWxsIHJldGlyZSBvbiB1c2Vob29rcy10c0AzLicpO1xuICAgICAgICBpc0RlcHJlY2F0ZWQgPSB0cnVlO1xuICAgICAgICBjb3VudFN0YXJ0ID0gY291bnRkb3duT3B0aW9uLnNlY29uZHM7XG4gICAgICAgIGludGVydmFsTXMgPSBjb3VudGRvd25PcHRpb24uaW50ZXJ2YWw7XG4gICAgICAgIGlzSW5jcmVtZW50ID0gY291bnRkb3duT3B0aW9uLmlzSW5jcmVtZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgO1xuICAgICAgICAoeyBjb3VudFN0YXJ0LCBpbnRlcnZhbE1zLCBpc0luY3JlbWVudCwgY291bnRTdG9wIH0gPSBjb3VudGRvd25PcHRpb24pO1xuICAgIH1cbiAgICBpbnRlcnZhbE1zID0gaW50ZXJ2YWxNcyAhPT0gbnVsbCAmJiBpbnRlcnZhbE1zICE9PSB2b2lkIDAgPyBpbnRlcnZhbE1zIDogMTAwMDtcbiAgICBpc0luY3JlbWVudCA9IGlzSW5jcmVtZW50ICE9PSBudWxsICYmIGlzSW5jcmVtZW50ICE9PSB2b2lkIDAgPyBpc0luY3JlbWVudCA6IGZhbHNlO1xuICAgIGNvdW50U3RvcCA9IGNvdW50U3RvcCAhPT0gbnVsbCAmJiBjb3VudFN0b3AgIT09IHZvaWQgMCA/IGNvdW50U3RvcCA6IDA7XG4gICAgY29uc3QgeyBjb3VudCwgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0OiByZXNldENvdW50ZXIsIH0gPSB1c2VDb3VudGVyKGNvdW50U3RhcnQpO1xuICAgIGNvbnN0IHsgdmFsdWU6IGlzQ291bnRkb3duUnVubmluZywgc2V0VHJ1ZTogc3RhcnRDb3VudGRvd24sIHNldEZhbHNlOiBzdG9wQ291bnRkb3duLCB9ID0gdXNlQm9vbGVhbihmYWxzZSk7XG4gICAgY29uc3QgcmVzZXRDb3VudGRvd24gPSAoKSA9PiB7XG4gICAgICAgIHN0b3BDb3VudGRvd24oKTtcbiAgICAgICAgcmVzZXRDb3VudGVyKCk7XG4gICAgfTtcbiAgICBjb25zdCBjb3VudGRvd25DYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGNvdW50ID09PSBjb3VudFN0b3ApIHtcbiAgICAgICAgICAgIHN0b3BDb3VudGRvd24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJbmNyZW1lbnQpIHtcbiAgICAgICAgICAgIGluY3JlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVjcmVtZW50KCk7XG4gICAgICAgIH1cbiAgICB9LCBbY291bnQsIGNvdW50U3RvcCwgZGVjcmVtZW50LCBpbmNyZW1lbnQsIGlzSW5jcmVtZW50LCBzdG9wQ291bnRkb3duXSk7XG4gICAgdXNlSW50ZXJ2YWwoY291bnRkb3duQ2FsbGJhY2ssIGlzQ291bnRkb3duUnVubmluZyA/IGludGVydmFsTXMgOiBudWxsKTtcbiAgICByZXR1cm4gaXNEZXByZWNhdGVkXG4gICAgICAgID8gW1xuICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0Q291bnRkb3duLFxuICAgICAgICAgICAgICAgIHN0b3A6IHN0b3BDb3VudGRvd24sXG4gICAgICAgICAgICAgICAgcmVzZXQ6IHJlc2V0Q291bnRkb3duLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXVxuICAgICAgICA6IFtcbiAgICAgICAgICAgIGNvdW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXJ0Q291bnRkb3duLFxuICAgICAgICAgICAgICAgIHN0b3BDb3VudGRvd24sXG4gICAgICAgICAgICAgICAgcmVzZXRDb3VudGRvd24sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlQ291bnRkb3duO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCountdown/useCountdown.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCounter/useCounter.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCounter/useCounter.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useCounter(initialValue) {\n    const [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue || 0);\n    const increment = () => setCount(x => x + 1);\n    const decrement = () => setCount(x => x - 1);\n    const reset = () => setCount(initialValue || 0);\n    return {\n        count,\n        increment,\n        decrement,\n        reset,\n        setCount,\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useCounter);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlQ291bnRlci91c2VDb3VudGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQztBQUNBLDhCQUE4QiwrQ0FBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsVUFBVSxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VDb3VudGVyXFx1c2VDb3VudGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gdXNlQ291bnRlcihpbml0aWFsVmFsdWUpIHtcbiAgICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlKGluaXRpYWxWYWx1ZSB8fCAwKTtcbiAgICBjb25zdCBpbmNyZW1lbnQgPSAoKSA9PiBzZXRDb3VudCh4ID0+IHggKyAxKTtcbiAgICBjb25zdCBkZWNyZW1lbnQgPSAoKSA9PiBzZXRDb3VudCh4ID0+IHggLSAxKTtcbiAgICBjb25zdCByZXNldCA9ICgpID0+IHNldENvdW50KGluaXRpYWxWYWx1ZSB8fCAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb3VudCxcbiAgICAgICAgaW5jcmVtZW50LFxuICAgICAgICBkZWNyZW1lbnQsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBzZXRDb3VudCxcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlQ291bnRlcjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useCounter/useCounter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDarkMode/useDarkMode.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDarkMode/useDarkMode.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\nconst COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)';\nfunction useDarkMode(defaultValue) {\n    var _a;\n    const isDarkOS = (0,___WEBPACK_IMPORTED_MODULE_0__.useMediaQuery)(COLOR_SCHEME_QUERY);\n    const [isDarkMode, setDarkMode] = (0,___WEBPACK_IMPORTED_MODULE_0__.useLocalStorage)('usehooks-ts-dark-mode', (_a = defaultValue !== null && defaultValue !== void 0 ? defaultValue : isDarkOS) !== null && _a !== void 0 ? _a : false);\n    (0,___WEBPACK_IMPORTED_MODULE_0__.useUpdateEffect)(() => {\n        setDarkMode(isDarkOS);\n    }, [isDarkOS]);\n    return {\n        isDarkMode,\n        toggle: () => setDarkMode(prev => !prev),\n        enable: () => setDarkMode(true),\n        disable: () => setDarkMode(false),\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDarkMode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRGFya01vZGUvdXNlRGFya01vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFhO0FBQ2xDLHNDQUFzQyxrREFBZTtBQUNyRCxJQUFJLGtEQUFlO0FBQ25CO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VEYXJrTW9kZVxcdXNlRGFya01vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTG9jYWxTdG9yYWdlLCB1c2VNZWRpYVF1ZXJ5LCB1c2VVcGRhdGVFZmZlY3QgfSBmcm9tICcuLic7XG5jb25zdCBDT0xPUl9TQ0hFTUVfUVVFUlkgPSAnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSc7XG5mdW5jdGlvbiB1c2VEYXJrTW9kZShkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgaXNEYXJrT1MgPSB1c2VNZWRpYVF1ZXJ5KENPTE9SX1NDSEVNRV9RVUVSWSk7XG4gICAgY29uc3QgW2lzRGFya01vZGUsIHNldERhcmtNb2RlXSA9IHVzZUxvY2FsU3RvcmFnZSgndXNlaG9va3MtdHMtZGFyay1tb2RlJywgKF9hID0gZGVmYXVsdFZhbHVlICE9PSBudWxsICYmIGRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogaXNEYXJrT1MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlKTtcbiAgICB1c2VVcGRhdGVFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXREYXJrTW9kZShpc0RhcmtPUyk7XG4gICAgfSwgW2lzRGFya09TXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNEYXJrTW9kZSxcbiAgICAgICAgdG9nZ2xlOiAoKSA9PiBzZXREYXJrTW9kZShwcmV2ID0+ICFwcmV2KSxcbiAgICAgICAgZW5hYmxlOiAoKSA9PiBzZXREYXJrTW9kZSh0cnVlKSxcbiAgICAgICAgZGlzYWJsZTogKCkgPT4gc2V0RGFya01vZGUoZmFsc2UpLFxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VEYXJrTW9kZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDarkMode/useDarkMode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDebounce/useDebounce.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDebounce/useDebounce.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [value, delay]);\n    return debouncedValue;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDebounce);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRGVib3VuY2UvdXNlRGVib3VuY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQzVDO0FBQ0EsZ0RBQWdELCtDQUFRO0FBQ3hELElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VEZWJvdW5jZVxcdXNlRGVib3VuY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIHVzZURlYm91bmNlKHZhbHVlLCBkZWxheSkge1xuICAgIGNvbnN0IFtkZWJvdW5jZWRWYWx1ZSwgc2V0RGVib3VuY2VkVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZXREZWJvdW5jZWRWYWx1ZSh2YWx1ZSksIGRlbGF5IHx8IDUwMCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFt2YWx1ZSwgZGVsYXldKTtcbiAgICByZXR1cm4gZGVib3VuY2VkVmFsdWU7XG59XG5leHBvcnQgZGVmYXVsdCB1c2VEZWJvdW5jZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDebounce/useDebounce.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDocumentTitle/useDocumentTitle.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDocumentTitle/useDocumentTitle.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\nfunction useDocumentTitle(title) {\n    (0,___WEBPACK_IMPORTED_MODULE_0__.useIsomorphicLayoutEffect)(() => {\n        window.document.title = title;\n    }, [title]);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDocumentTitle);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRG9jdW1lbnRUaXRsZS91c2VEb2N1bWVudFRpdGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDO0FBQy9DO0FBQ0EsSUFBSSw0REFBeUI7QUFDN0I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlRG9jdW1lbnRUaXRsZVxcdXNlRG9jdW1lbnRUaXRsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlRG9jdW1lbnRUaXRsZSh0aXRsZSkge1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcbiAgICB9LCBbdGl0bGVdKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZURvY3VtZW50VGl0bGU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useDocumentTitle/useDocumentTitle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEffectOnce/useEffectOnce.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEffectOnce/useEffectOnce.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useEffectOnce(effect) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(effect, []);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useEffectOnce);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRWZmZWN0T25jZS91c2VFZmZlY3RPbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUNsQztBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBLGlFQUFlLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlRWZmZWN0T25jZVxcdXNlRWZmZWN0T25jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiB1c2VFZmZlY3RPbmNlKGVmZmVjdCkge1xuICAgIHVzZUVmZmVjdChlZmZlY3QsIFtdKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUVmZmVjdE9uY2U7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEffectOnce/useEffectOnce.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useElementSize/useElementSize.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useElementSize/useElementSize.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useElementSize() {\n    const [ref, setRef] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [size, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        width: 0,\n        height: 0,\n    });\n    const handleSize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        setSize({\n            width: (ref === null || ref === void 0 ? void 0 : ref.offsetWidth) || 0,\n            height: (ref === null || ref === void 0 ? void 0 : ref.offsetHeight) || 0,\n        });\n    }, [ref === null || ref === void 0 ? void 0 : ref.offsetHeight, ref === null || ref === void 0 ? void 0 : ref.offsetWidth]);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('resize', handleSize);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        handleSize();\n    }, [ref === null || ref === void 0 ? void 0 : ref.offsetHeight, ref === null || ref === void 0 ? void 0 : ref.offsetWidth]);\n    return [setRef, size];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useElementSize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRWxlbWVudFNpemUvdXNlRWxlbWVudFNpemUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4QztBQUNtQjtBQUNqRTtBQUNBLDBCQUEwQiwrQ0FBUTtBQUNsQyw0QkFBNEIsK0NBQVE7QUFDcEM7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLG1EQUFnQjtBQUNwQixJQUFJLDREQUF5QjtBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUsY0FBYyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VFbGVtZW50U2l6ZVxcdXNlRWxlbWVudFNpemUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uJztcbmZ1bmN0aW9uIHVzZUVsZW1lbnRTaXplKCkge1xuICAgIGNvbnN0IFtyZWYsIHNldFJlZl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2l6ZSwgc2V0U2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlU2l6ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0U2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogKHJlZiA9PT0gbnVsbCB8fCByZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZi5vZmZzZXRXaWR0aCkgfHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogKHJlZiA9PT0gbnVsbCB8fCByZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZi5vZmZzZXRIZWlnaHQpIHx8IDAsXG4gICAgICAgIH0pO1xuICAgIH0sIFtyZWYgPT09IG51bGwgfHwgcmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWYub2Zmc2V0SGVpZ2h0LCByZWYgPT09IG51bGwgfHwgcmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWYub2Zmc2V0V2lkdGhdKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVTaXplKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaGFuZGxlU2l6ZSgpO1xuICAgIH0sIFtyZWYgPT09IG51bGwgfHwgcmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWYub2Zmc2V0SGVpZ2h0LCByZWYgPT09IG51bGwgfHwgcmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWYub2Zmc2V0V2lkdGhdKTtcbiAgICByZXR1cm4gW3NldFJlZiwgc2l6ZV07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VFbGVtZW50U2l6ZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useElementSize/useElementSize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventCallback/useEventCallback.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventCallback/useEventCallback.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useEventCallback)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useEventCallback(fn) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(() => {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        ref.current = fn;\n    }, [fn]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((...args) => ref.current(...args), [ref]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRXZlbnRDYWxsYmFjay91c2VFdmVudENhbGxiYWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDRztBQUNoQztBQUNmLGdCQUFnQiw2Q0FBTTtBQUN0QjtBQUNBLEtBQUs7QUFDTCxJQUFJLDREQUF5QjtBQUM3QjtBQUNBLEtBQUs7QUFDTCxXQUFXLGtEQUFXO0FBQ3RCIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VFdmVudENhbGxiYWNrXFx1c2VFdmVudENhbGxiYWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRXZlbnRDYWxsYmFjayhmbikge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgYW4gZXZlbnQgaGFuZGxlciB3aGlsZSByZW5kZXJpbmcuJyk7XG4gICAgfSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gZm47XG4gICAgfSwgW2ZuXSk7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiByZWYuY3VycmVudCguLi5hcmdzKSwgW3JlZl0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventCallback/useEventCallback.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useEventListener(eventName, handler, element, options) {\n    const savedHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(handler);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        savedHandler.current = handler;\n    }, [handler]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        var _a;\n        const targetElement = (_a = element === null || element === void 0 ? void 0 : element.current) !== null && _a !== void 0 ? _a : window;\n        if (!(targetElement && targetElement.addEventListener))\n            return;\n        const listener = event => savedHandler.current(event);\n        targetElement.addEventListener(eventName, listener, options);\n        return () => {\n            targetElement.removeEventListener(eventName, listener, options);\n        };\n    }, [eventName, element, options]);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useEventListener);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRXZlbnRMaXN0ZW5lci91c2VFdmVudExpc3RlbmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEM7QUFDSztBQUMvQztBQUNBLHlCQUF5Qiw2Q0FBTTtBQUMvQixJQUFJLDREQUF5QjtBQUM3QjtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUVBQWUsZ0JBQWdCLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUV2ZW50TGlzdGVuZXJcXHVzZUV2ZW50TGlzdGVuZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzYXZlZEhhbmRsZXIgPSB1c2VSZWYoaGFuZGxlcik7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNhdmVkSGFuZGxlci5jdXJyZW50ID0gaGFuZGxlcjtcbiAgICB9LCBbaGFuZGxlcl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChfYSA9IGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudC5jdXJyZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB3aW5kb3c7XG4gICAgICAgIGlmICghKHRhcmdldEVsZW1lbnQgJiYgdGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBldmVudCA9PiBzYXZlZEhhbmRsZXIuY3VycmVudChldmVudCk7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZXZlbnROYW1lLCBlbGVtZW50LCBvcHRpb25zXSk7XG59XG5leHBvcnQgZGVmYXVsdCB1c2VFdmVudExpc3RlbmVyO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useFetch/useFetch.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useFetch/useFetch.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction useFetch(url, options) {\n    const cache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n    const cancelRequest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const initialState = {\n        error: undefined,\n        data: undefined,\n    };\n    const fetchReducer = (state, action) => {\n        switch (action.type) {\n            case 'loading':\n                return Object.assign({}, initialState);\n            case 'fetched':\n                return Object.assign(Object.assign({}, initialState), { data: action.payload });\n            case 'error':\n                return Object.assign(Object.assign({}, initialState), { error: action.payload });\n            default:\n                return state;\n        }\n    };\n    const [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(fetchReducer, initialState);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (!url)\n            return;\n        cancelRequest.current = false;\n        const fetchData = () => __awaiter(this, void 0, void 0, function* () {\n            dispatch({ type: 'loading' });\n            if (cache.current[url]) {\n                dispatch({ type: 'fetched', payload: cache.current[url] });\n                return;\n            }\n            try {\n                const response = yield fetch(url, options);\n                if (!response.ok) {\n                    throw new Error(response.statusText);\n                }\n                const data = (yield response.json());\n                cache.current[url] = data;\n                if (cancelRequest.current)\n                    return;\n                dispatch({ type: 'fetched', payload: data });\n            }\n            catch (error) {\n                if (cancelRequest.current)\n                    return;\n                dispatch({ type: 'error', payload: error });\n            }\n        });\n        void fetchData();\n        return () => {\n            cancelRequest.current = true;\n        };\n    }, [url]);\n    return state;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useFetch);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlRmV0Y2gvdXNlRmV0Y2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ3NEO0FBQ3REO0FBQ0Esa0JBQWtCLDZDQUFNLEdBQUc7QUFDM0IsMEJBQTBCLDZDQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EscURBQXFELG1CQUFtQixzQkFBc0I7QUFDOUY7QUFDQSxxREFBcUQsbUJBQW1CLHVCQUF1QjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpREFBVTtBQUN4QyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0EsMkJBQTJCLDhDQUE4QztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdDQUFnQztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrQkFBK0I7QUFDMUQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLFFBQVEsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlRmV0Y2hcXHVzZUZldGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWR1Y2VyLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiB1c2VGZXRjaCh1cmwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYWNoZSA9IHVzZVJlZih7fSk7XG4gICAgY29uc3QgY2FuY2VsUmVxdWVzdCA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFJlZHVjZXIgPSAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgICAgIGNhc2UgJ2ZldGNoZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSksIHsgZGF0YTogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlKSwgeyBlcnJvcjogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGZldGNoUmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXVybClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FuY2VsUmVxdWVzdC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZldGNoRGF0YSA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ2xvYWRpbmcnIH0pO1xuICAgICAgICAgICAgaWYgKGNhY2hlLmN1cnJlbnRbdXJsXSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ2ZldGNoZWQnLCBwYXlsb2FkOiBjYWNoZS5jdXJyZW50W3VybF0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjYWNoZS5jdXJyZW50W3VybF0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxSZXF1ZXN0LmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdmZXRjaGVkJywgcGF5bG9hZDogZGF0YSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxSZXF1ZXN0LmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdlcnJvcicsIHBheWxvYWQ6IGVycm9yIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdm9pZCBmZXRjaERhdGEoKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbFJlcXVlc3QuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgfSwgW3VybF0pO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUZldGNoO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useFetch/useFetch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useHover/useHover.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useHover/useHover.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useHover(elementRef) {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const handleMouseEnter = () => setValue(true);\n    const handleMouseLeave = () => setValue(false);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('mouseenter', handleMouseEnter, elementRef);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('mouseleave', handleMouseLeave, elementRef);\n    return value;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useHover);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSG92ZXIvdXNlSG92ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNLO0FBQ3RDO0FBQ0EsOEJBQThCLCtDQUFRO0FBQ3RDO0FBQ0E7QUFDQSxJQUFJLG1EQUFnQjtBQUNwQixJQUFJLG1EQUFnQjtBQUNwQjtBQUNBO0FBQ0EsaUVBQWUsUUFBUSxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VIb3ZlclxcdXNlSG92ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlSG92ZXIoZWxlbWVudFJlZikge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiBzZXRWYWx1ZSh0cnVlKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4gc2V0VmFsdWUoZmFsc2UpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyLCBlbGVtZW50UmVmKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSwgZWxlbWVudFJlZik7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlSG92ZXI7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useHover/useHover.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useImageOnLoad/useImageOnLoad.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useImageOnLoad/useImageOnLoad.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useImageOnLoad() {\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const handleImageOnLoad = () => {\n        setIsLoaded(true);\n    };\n    const css = {\n        thumbnail: {\n            visibility: isLoaded ? 'hidden' : 'visible',\n            filter: 'blur(8px)',\n            transition: 'visibility 0ms ease-out 500ms',\n        },\n        fullSize: {\n            opacity: isLoaded ? 1 : 0,\n            transition: 'opacity 500ms ease-in 0ms',\n        },\n    };\n    return { handleImageOnLoad, css };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useImageOnLoad);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSW1hZ2VPbkxvYWQvdXNlSW1hZ2VPbkxvYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBQ2pDO0FBQ0Esb0NBQW9DLCtDQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUVBQWUsY0FBYyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VJbWFnZU9uTG9hZFxcdXNlSW1hZ2VPbkxvYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiB1c2VJbWFnZU9uTG9hZCgpIHtcbiAgICBjb25zdCBbaXNMb2FkZWQsIHNldElzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVJbWFnZU9uTG9hZCA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNMb2FkZWQodHJ1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBjc3MgPSB7XG4gICAgICAgIHRodW1ibmFpbDoge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogaXNMb2FkZWQgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJyxcbiAgICAgICAgICAgIGZpbHRlcjogJ2JsdXIoOHB4KScsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAndmlzaWJpbGl0eSAwbXMgZWFzZS1vdXQgNTAwbXMnLFxuICAgICAgICB9LFxuICAgICAgICBmdWxsU2l6ZToge1xuICAgICAgICAgICAgb3BhY2l0eTogaXNMb2FkZWQgPyAxIDogMCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDUwMG1zIGVhc2UtaW4gMG1zJyxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB7IGhhbmRsZUltYWdlT25Mb2FkLCBjc3MgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUltYWdlT25Mb2FkO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useImageOnLoad/useImageOnLoad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIntersectionObserver/useIntersectionObserver.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIntersectionObserver/useIntersectionObserver.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useIntersectionObserver(elementRef, { threshold = 0, root = null, rootMargin = '0%', freezeOnceVisible = false, }) {\n    const [entry, setEntry] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const frozen = (entry === null || entry === void 0 ? void 0 : entry.isIntersecting) && freezeOnceVisible;\n    const updateEntry = ([entry]) => {\n        setEntry(entry);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const node = elementRef === null || elementRef === void 0 ? void 0 : elementRef.current;\n        const hasIOSupport = !!window.IntersectionObserver;\n        if (!hasIOSupport || frozen || !node)\n            return;\n        const observerParams = { threshold, root, rootMargin };\n        const observer = new IntersectionObserver(updateEntry, observerParams);\n        observer.observe(node);\n        return () => observer.disconnect();\n    }, [elementRef === null || elementRef === void 0 ? void 0 : elementRef.current, JSON.stringify(threshold), root, rootMargin, frozen]);\n    return entry;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIntersectionObserver);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQzVDLCtDQUErQywyRUFBMkU7QUFDMUgsOEJBQThCLCtDQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUludGVyc2VjdGlvbk9ic2VydmVyXFx1c2VJbnRlcnNlY3Rpb25PYnNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZWxlbWVudFJlZiwgeyB0aHJlc2hvbGQgPSAwLCByb290ID0gbnVsbCwgcm9vdE1hcmdpbiA9ICcwJScsIGZyZWV6ZU9uY2VWaXNpYmxlID0gZmFsc2UsIH0pIHtcbiAgICBjb25zdCBbZW50cnksIHNldEVudHJ5XSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgZnJvemVuID0gKGVudHJ5ID09PSBudWxsIHx8IGVudHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbnRyeS5pc0ludGVyc2VjdGluZykgJiYgZnJlZXplT25jZVZpc2libGU7XG4gICAgY29uc3QgdXBkYXRlRW50cnkgPSAoW2VudHJ5XSkgPT4ge1xuICAgICAgICBzZXRFbnRyeShlbnRyeSk7XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlID0gZWxlbWVudFJlZiA9PT0gbnVsbCB8fCBlbGVtZW50UmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGhhc0lPU3VwcG9ydCA9ICEhd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyO1xuICAgICAgICBpZiAoIWhhc0lPU3VwcG9ydCB8fCBmcm96ZW4gfHwgIW5vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9ic2VydmVyUGFyYW1zID0geyB0aHJlc2hvbGQsIHJvb3QsIHJvb3RNYXJnaW4gfTtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodXBkYXRlRW50cnksIG9ic2VydmVyUGFyYW1zKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9LCBbZWxlbWVudFJlZiA9PT0gbnVsbCB8fCBlbGVtZW50UmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50UmVmLmN1cnJlbnQsIEpTT04uc3RyaW5naWZ5KHRocmVzaG9sZCksIHJvb3QsIHJvb3RNYXJnaW4sIGZyb3plbl0pO1xuICAgIHJldHVybiBlbnRyeTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUludGVyc2VjdGlvbk9ic2VydmVyO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIntersectionObserver/useIntersectionObserver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useInterval/useInterval.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useInterval/useInterval.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useInterval(callback, delay) {\n    const savedCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (!delay && delay !== 0) {\n            return;\n        }\n        const id = setInterval(() => savedCallback.current(), delay);\n        return () => clearInterval(id);\n    }, [delay]);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useInterval);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSW50ZXJ2YWwvdXNlSW50ZXJ2YWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQztBQUNLO0FBQy9DO0FBQ0EsMEJBQTBCLDZDQUFNO0FBQ2hDLElBQUksNERBQXlCO0FBQzdCO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VJbnRlcnZhbFxcdXNlSW50ZXJ2YWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlSW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgY29uc3Qgc2F2ZWRDYWxsYmFjayA9IHVzZVJlZihjYWxsYmFjayk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNhdmVkQ2FsbGJhY2suY3VycmVudCA9IGNhbGxiYWNrO1xuICAgIH0sIFtjYWxsYmFja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZGVsYXkgJiYgZGVsYXkgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHNhdmVkQ2FsbGJhY2suY3VycmVudCgpLCBkZWxheSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGlkKTtcbiAgICB9LCBbZGVsYXldKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUludGVydmFsO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useInterval/useInterval.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsClient/useIsClient.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsClient/useIsClient.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useIsClient() {\n    const [isClient, setClient] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        setClient(true);\n    }, []);\n    return isClient;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIsClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSXNDbGllbnQvdXNlSXNDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQzVDO0FBQ0Esa0NBQWtDLCtDQUFRO0FBQzFDLElBQUksZ0RBQVM7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VJc0NsaWVudFxcdXNlSXNDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIHVzZUlzQ2xpZW50KCkge1xuICAgIGNvbnN0IFtpc0NsaWVudCwgc2V0Q2xpZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRDbGllbnQodHJ1ZSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc0NsaWVudDtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZUlzQ2xpZW50O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsClient/useIsClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsFirstRender/useIsFirstRender.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsFirstRender/useIsFirstRender.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useIsFirstRender() {\n    const isFirst = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIsFirstRender);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSXNGaXJzdFJlbmRlci91c2VJc0ZpcnN0UmVuZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUMvQjtBQUNBLG9CQUFvQiw2Q0FBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlSXNGaXJzdFJlbmRlclxcdXNlSXNGaXJzdFJlbmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiB1c2VJc0ZpcnN0UmVuZGVyKCkge1xuICAgIGNvbnN0IGlzRmlyc3QgPSB1c2VSZWYodHJ1ZSk7XG4gICAgaWYgKGlzRmlyc3QuY3VycmVudCkge1xuICAgICAgICBpc0ZpcnN0LmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBpc0ZpcnN0LmN1cnJlbnQ7XG59XG5leHBvcnQgZGVmYXVsdCB1c2VJc0ZpcnN0UmVuZGVyO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsFirstRender/useIsFirstRender.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsMounted/useIsMounted.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsMounted/useIsMounted.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useIsMounted() {\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => isMounted.current, []);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIsMounted);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSXNNb3VudGVkL3VzZUlzTW91bnRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDdkQ7QUFDQSxzQkFBc0IsNkNBQU07QUFDNUIsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsa0RBQVc7QUFDdEI7QUFDQSxpRUFBZSxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUlzTW91bnRlZFxcdXNlSXNNb3VudGVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIHVzZUlzTW91bnRlZCgpIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoKSA9PiBpc01vdW50ZWQuY3VycmVudCwgW10pO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlSXNNb3VudGVkO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsMounted/useIsMounted.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIsomorphicLayoutEffect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDtBQUNuRCxrRUFBa0Usa0RBQWUsR0FBRyw0Q0FBUztBQUM3RixpRUFBZSx5QkFBeUIsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFxcdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmV4cG9ydCBkZWZhdWx0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLocalStorage/useLocalStorage.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLocalStorage/useLocalStorage.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useLocalStorage(key, initialValue) {\n    const readValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (typeof window === 'undefined') {\n            return initialValue;\n        }\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? parseJSON(item) : initialValue;\n        }\n        catch (error) {\n            console.warn(`Error reading localStorage key ${key}:`, error);\n            return initialValue;\n        }\n    }, [initialValue, key]);\n    const [storedValue, setStoredValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(readValue);\n    const setValue = (0,___WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(value => {\n        if (typeof window === 'undefined') {\n            console.warn(`Tried setting localStorage key ${key} even though environment is not a client`);\n        }\n        try {\n            const newValue = value instanceof Function ? value(storedValue) : value;\n            window.localStorage.setItem(key, JSON.stringify(newValue));\n            setStoredValue(newValue);\n            window.dispatchEvent(new Event('local-storage'));\n        }\n        catch (error) {\n            console.warn(`Error setting localStorage key ${key}:`, error);\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        setStoredValue(readValue());\n    }, []);\n    const handleStorageChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event) => {\n        if ((event === null || event === void 0 ? void 0 : event.key) && event.key !== key) {\n            return;\n        }\n        setStoredValue(readValue());\n    }, [key, readValue]);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('storage', handleStorageChange);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('local-storage', handleStorageChange);\n    return [storedValue, setValue];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLocalStorage);\nfunction parseJSON(value) {\n    try {\n        return value === 'undefined' ? undefined : JSON.parse(value !== null && value !== void 0 ? value : '');\n    }\n    catch (_a) {\n        console.log('parsing error on', { value });\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlTG9jYWxTdG9yYWdlL3VzZUxvY2FsU3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBEO0FBQ0Y7QUFDeEQ7QUFDQSxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMENBQTBDLCtDQUFRO0FBQ2xELHFCQUFxQixtREFBZ0I7QUFDckM7QUFDQSw0REFBNEQsSUFBSTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELElBQUk7QUFDaEU7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0EsS0FBSztBQUNMLGdDQUFnQyxrREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLG1EQUFnQjtBQUNwQixJQUFJLG1EQUFnQjtBQUNwQjtBQUNBO0FBQ0EsaUVBQWUsZUFBZSxFQUFDO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUxvY2FsU3RvcmFnZVxcdXNlTG9jYWxTdG9yYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUV2ZW50Q2FsbGJhY2ssIHVzZUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLic7XG5mdW5jdGlvbiB1c2VMb2NhbFN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUpIHtcbiAgICBjb25zdCByZWFkVmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0gPyBwYXJzZUpTT04oaXRlbSkgOiBpbml0aWFsVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEVycm9yIHJlYWRpbmcgbG9jYWxTdG9yYWdlIGtleSDigJwke2tleX3igJ06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0sIFtpbml0aWFsVmFsdWUsIGtleV0pO1xuICAgIGNvbnN0IFtzdG9yZWRWYWx1ZSwgc2V0U3RvcmVkVmFsdWVdID0gdXNlU3RhdGUocmVhZFZhbHVlKTtcbiAgICBjb25zdCBzZXRWYWx1ZSA9IHVzZUV2ZW50Q2FsbGJhY2sodmFsdWUgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVHJpZWQgc2V0dGluZyBsb2NhbFN0b3JhZ2Uga2V5IOKAnCR7a2V5feKAnSBldmVuIHRob3VnaCBlbnZpcm9ubWVudCBpcyBub3QgYSBjbGllbnRgKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gdmFsdWUoc3RvcmVkVmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShuZXdWYWx1ZSkpO1xuICAgICAgICAgICAgc2V0U3RvcmVkVmFsdWUobmV3VmFsdWUpO1xuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsb2NhbC1zdG9yYWdlJykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBzZXR0aW5nIGxvY2FsU3RvcmFnZSBrZXkg4oCcJHtrZXl94oCdOmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFN0b3JlZFZhbHVlKHJlYWRWYWx1ZSgpKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoKGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudC5rZXkpICYmIGV2ZW50LmtleSAhPT0ga2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0U3RvcmVkVmFsdWUocmVhZFZhbHVlKCkpO1xuICAgIH0sIFtrZXksIHJlYWRWYWx1ZV0pO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBoYW5kbGVTdG9yYWdlQ2hhbmdlKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKCdsb2NhbC1zdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgcmV0dXJuIFtzdG9yZWRWYWx1ZSwgc2V0VmFsdWVdO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlTG9jYWxTdG9yYWdlO1xuZnVuY3Rpb24gcGFyc2VKU09OKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEpTT04ucGFyc2UodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3BhcnNpbmcgZXJyb3Igb24nLCB7IHZhbHVlIH0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLocalStorage/useLocalStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLockedBody/useLockedBody.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLockedBody/useLockedBody.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useLockedBody(initialLocked = false, rootId = '___gatsby') {\n    const [locked, setLocked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialLocked);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        if (!locked) {\n            return;\n        }\n        const originalOverflow = document.body.style.overflow;\n        const originalPaddingRight = document.body.style.paddingRight;\n        document.body.style.overflow = 'hidden';\n        const root = document.getElementById(rootId);\n        const scrollBarWidth = root ? root.offsetWidth - root.scrollWidth : 0;\n        if (scrollBarWidth) {\n            document.body.style.paddingRight = `${scrollBarWidth}px`;\n        }\n        return () => {\n            document.body.style.overflow = originalOverflow;\n            if (scrollBarWidth) {\n                document.body.style.paddingRight = originalPaddingRight;\n            }\n        };\n    }, [locked]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (locked !== initialLocked) {\n            setLocked(initialLocked);\n        }\n    }, [initialLocked]);\n    return [locked, setLocked];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLockedBody);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlTG9ja2VkQm9keS91c2VMb2NrZWRCb2R5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDRztBQUMvQztBQUNBLGdDQUFnQywrQ0FBUTtBQUN4QyxJQUFJLDREQUF5QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxhQUFhLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZUxvY2tlZEJvZHlcXHVzZUxvY2tlZEJvZHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLic7XG5mdW5jdGlvbiB1c2VMb2NrZWRCb2R5KGluaXRpYWxMb2NrZWQgPSBmYWxzZSwgcm9vdElkID0gJ19fX2dhdHNieScpIHtcbiAgICBjb25zdCBbbG9ja2VkLCBzZXRMb2NrZWRdID0gdXNlU3RhdGUoaW5pdGlhbExvY2tlZCk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbG9ja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxPdmVyZmxvdyA9IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsUGFkZGluZ1JpZ2h0ID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3RJZCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbEJhcldpZHRoID0gcm9vdCA/IHJvb3Qub2Zmc2V0V2lkdGggLSByb290LnNjcm9sbFdpZHRoIDogMDtcbiAgICAgICAgaWYgKHNjcm9sbEJhcldpZHRoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IGAke3Njcm9sbEJhcldpZHRofXB4YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IG9yaWdpbmFsT3ZlcmZsb3c7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsQmFyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IG9yaWdpbmFsUGFkZGluZ1JpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtsb2NrZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobG9ja2VkICE9PSBpbml0aWFsTG9ja2VkKSB7XG4gICAgICAgICAgICBzZXRMb2NrZWQoaW5pdGlhbExvY2tlZCk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5pdGlhbExvY2tlZF0pO1xuICAgIHJldHVybiBbbG9ja2VkLCBzZXRMb2NrZWRdO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlTG9ja2VkQm9keTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useLockedBody/useLockedBody.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMap/useMap.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMap/useMap.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useMap(initialState = new Map()) {\n    const [map, setMap] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map(initialState));\n    const actions = {\n        set: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key, value) => {\n            setMap(prev => {\n                const copy = new Map(prev);\n                copy.set(key, value);\n                return copy;\n            });\n        }, []),\n        setAll: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(entries => {\n            setMap(() => new Map(entries));\n        }, []),\n        remove: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(key => {\n            setMap(prev => {\n                const copy = new Map(prev);\n                copy.delete(key);\n                return copy;\n            });\n        }, []),\n        reset: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n            setMap(() => new Map());\n        }, []),\n    };\n    return [map, actions];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMap);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlTWFwL3VzZU1hcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDOUM7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEM7QUFDQSxhQUFhLGtEQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxlQUFlLGtEQUFXO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLE1BQU0sRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlTWFwXFx1c2VNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gdXNlTWFwKGluaXRpYWxTdGF0ZSA9IG5ldyBNYXAoKSkge1xuICAgIGNvbnN0IFttYXAsIHNldE1hcF0gPSB1c2VTdGF0ZShuZXcgTWFwKGluaXRpYWxTdGF0ZSkpO1xuICAgIGNvbnN0IGFjdGlvbnMgPSB7XG4gICAgICAgIHNldDogdXNlQ2FsbGJhY2soKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldE1hcChwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3B5ID0gbmV3IE1hcChwcmV2KTtcbiAgICAgICAgICAgICAgICBjb3B5LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBbXSksXG4gICAgICAgIHNldEFsbDogdXNlQ2FsbGJhY2soZW50cmllcyA9PiB7XG4gICAgICAgICAgICBzZXRNYXAoKCkgPT4gbmV3IE1hcChlbnRyaWVzKSk7XG4gICAgICAgIH0sIFtdKSxcbiAgICAgICAgcmVtb3ZlOiB1c2VDYWxsYmFjayhrZXkgPT4ge1xuICAgICAgICAgICAgc2V0TWFwKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcHkgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgICAgICAgICAgIGNvcHkuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW10pLFxuICAgICAgICByZXNldDogdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgc2V0TWFwKCgpID0+IG5ldyBNYXAoKSk7XG4gICAgICAgIH0sIFtdKSxcbiAgICB9O1xuICAgIHJldHVybiBbbWFwLCBhY3Rpb25zXTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZU1hcDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMap/useMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMediaQuery/useMediaQuery.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMediaQuery/useMediaQuery.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useMediaQuery(query) {\n    const getMatches = (query) => {\n        if (typeof window !== 'undefined') {\n            return window.matchMedia(query).matches;\n        }\n        return false;\n    };\n    const [matches, setMatches] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getMatches(query));\n    function handleChange() {\n        setMatches(getMatches(query));\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const matchMedia = window.matchMedia(query);\n        handleChange();\n        if (matchMedia.addListener) {\n            matchMedia.addListener(handleChange);\n        }\n        else {\n            matchMedia.addEventListener('change', handleChange);\n        }\n        return () => {\n            if (matchMedia.removeListener) {\n                matchMedia.removeListener(handleChange);\n            }\n            else {\n                matchMedia.removeEventListener('change', handleChange);\n            }\n        };\n    }, [query]);\n    return matches;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMediaQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlTWVkaWFRdWVyeS91c2VNZWRpYVF1ZXJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywrQ0FBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlTWVkaWFRdWVyeVxcdXNlTWVkaWFRdWVyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gdXNlTWVkaWFRdWVyeShxdWVyeSkge1xuICAgIGNvbnN0IGdldE1hdGNoZXMgPSAocXVlcnkpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgW21hdGNoZXMsIHNldE1hdGNoZXNdID0gdXNlU3RhdGUoZ2V0TWF0Y2hlcyhxdWVyeSkpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgc2V0TWF0Y2hlcyhnZXRNYXRjaGVzKHF1ZXJ5KSk7XG4gICAgfVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoTWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgICAgIGhhbmRsZUNoYW5nZSgpO1xuICAgICAgICBpZiAobWF0Y2hNZWRpYS5hZGRMaXN0ZW5lcikge1xuICAgICAgICAgICAgbWF0Y2hNZWRpYS5hZGRMaXN0ZW5lcihoYW5kbGVDaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF0Y2hNZWRpYS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobWF0Y2hNZWRpYS5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIG1hdGNoTWVkaWEucmVtb3ZlTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdGNoTWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbcXVlcnldKTtcbiAgICByZXR1cm4gbWF0Y2hlcztcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZU1lZGlhUXVlcnk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useMediaQuery/useMediaQuery.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useOnClickOutside/useOnClickOutside.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useOnClickOutside/useOnClickOutside.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\nfunction useOnClickOutside(ref, handler, mouseEvent = 'mousedown') {\n    (0,___WEBPACK_IMPORTED_MODULE_0__.useEventListener)(mouseEvent, event => {\n        const el = ref === null || ref === void 0 ? void 0 : ref.current;\n        if (!el || el.contains(event.target)) {\n            return;\n        }\n        handler(event);\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useOnClickOutside);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlT25DbGlja091dHNpZGUvdXNlT25DbGlja091dHNpZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDdEM7QUFDQSxJQUFJLG1EQUFnQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUVBQWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZU9uQ2xpY2tPdXRzaWRlXFx1c2VPbkNsaWNrT3V0c2lkZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlT25DbGlja091dHNpZGUocmVmLCBoYW5kbGVyLCBtb3VzZUV2ZW50ID0gJ21vdXNlZG93bicpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKG1vdXNlRXZlbnQsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSByZWYgPT09IG51bGwgfHwgcmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFlbCB8fCBlbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCB1c2VPbkNsaWNrT3V0c2lkZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useOnClickOutside/useOnClickOutside.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useReadLocalStorage/useReadLocalStorage.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useReadLocalStorage/useReadLocalStorage.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useReadLocalStorage(key) {\n    const readValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (typeof window === 'undefined') {\n            return null;\n        }\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : null;\n        }\n        catch (error) {\n            console.warn(`Error reading localStorage key ${key}:`, error);\n            return null;\n        }\n    }, [key]);\n    const [storedValue, setStoredValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(readValue);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        setStoredValue(readValue());\n    }, []);\n    const handleStorageChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event) => {\n        if ((event === null || event === void 0 ? void 0 : event.key) && event.key !== key) {\n            return;\n        }\n        setStoredValue(readValue());\n    }, [key, readValue]);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('storage', handleStorageChange);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('local-storage', handleStorageChange);\n    return storedValue;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useReadLocalStorage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlUmVhZExvY2FsU3RvcmFnZS91c2VSZWFkTG9jYWxTdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUQ7QUFDbkI7QUFDdEM7QUFDQSxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMENBQTBDLCtDQUFRO0FBQ2xELElBQUksZ0RBQVM7QUFDYjtBQUNBLEtBQUs7QUFDTCxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxtREFBZ0I7QUFDcEIsSUFBSSxtREFBZ0I7QUFDcEI7QUFDQTtBQUNBLGlFQUFlLG1CQUFtQixFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VSZWFkTG9jYWxTdG9yYWdlXFx1c2VSZWFkTG9jYWxTdG9yYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uJztcbmZ1bmN0aW9uIHVzZVJlYWRMb2NhbFN0b3JhZ2Uoa2V5KSB7XG4gICAgY29uc3QgcmVhZFZhbHVlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbSA/IEpTT04ucGFyc2UoaXRlbSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciByZWFkaW5nIGxvY2FsU3RvcmFnZSBrZXkg4oCcJHtrZXl94oCdOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSwgW2tleV0pO1xuICAgIGNvbnN0IFtzdG9yZWRWYWx1ZSwgc2V0U3RvcmVkVmFsdWVdID0gdXNlU3RhdGUocmVhZFZhbHVlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRTdG9yZWRWYWx1ZShyZWFkVmFsdWUoKSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZVN0b3JhZ2VDaGFuZ2UgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKChldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQua2V5KSAmJiBldmVudC5rZXkgIT09IGtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFN0b3JlZFZhbHVlKHJlYWRWYWx1ZSgpKTtcbiAgICB9LCBba2V5LCByZWFkVmFsdWVdKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcignbG9jYWwtc3RvcmFnZScsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpO1xuICAgIHJldHVybiBzdG9yZWRWYWx1ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZVJlYWRMb2NhbFN0b3JhZ2U7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useReadLocalStorage/useReadLocalStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScreen/useScreen.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScreen/useScreen.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useScreen() {\n    const getScreen = () => {\n        if (typeof window !== 'undefined' && window.screen) {\n            return window.screen;\n        }\n        return undefined;\n    };\n    const [screen, setScreen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getScreen());\n    function handleSize() {\n        setScreen(getScreen());\n    }\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('resize', handleSize);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        handleSize();\n    }, []);\n    return screen;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useScreen);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlU2NyZWVuL3VzZVNjcmVlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ2dDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLElBQUksbURBQWdCO0FBQ3BCLElBQUksNERBQXlCO0FBQzdCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVNjcmVlblxcdXNlU2NyZWVuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uJztcbmZ1bmN0aW9uIHVzZVNjcmVlbigpIHtcbiAgICBjb25zdCBnZXRTY3JlZW4gPSAoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnNjcmVlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgY29uc3QgW3NjcmVlbiwgc2V0U2NyZWVuXSA9IHVzZVN0YXRlKGdldFNjcmVlbigpKTtcbiAgICBmdW5jdGlvbiBoYW5kbGVTaXplKCkge1xuICAgICAgICBzZXRTY3JlZW4oZ2V0U2NyZWVuKCkpO1xuICAgIH1cbiAgICB1c2VFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVTaXplKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaGFuZGxlU2l6ZSgpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gc2NyZWVuO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlU2NyZWVuO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScreen/useScreen.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScript/useScript.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScript/useScript.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst cachedScriptStatuses = {};\nfunction getScriptNode(src) {\n    const node = document.querySelector(`script[src=\"${src}\"]`);\n    const status = node === null || node === void 0 ? void 0 : node.getAttribute('data-status');\n    return {\n        node,\n        status,\n    };\n}\nfunction useScript(src, options) {\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {\n        var _a;\n        if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n            return 'idle';\n        }\n        if (typeof window === 'undefined') {\n            return 'loading';\n        }\n        return (_a = cachedScriptStatuses[src]) !== null && _a !== void 0 ? _a : 'loading';\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        var _a, _b;\n        if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n            return;\n        }\n        const cachedScriptStatus = cachedScriptStatuses[src];\n        if (cachedScriptStatus === 'ready' || cachedScriptStatus === 'error') {\n            setStatus(cachedScriptStatus);\n            return;\n        }\n        const script = getScriptNode(src);\n        let scriptNode = script.node;\n        if (!scriptNode) {\n            scriptNode = document.createElement('script');\n            scriptNode.src = src;\n            scriptNode.async = true;\n            scriptNode.setAttribute('data-status', 'loading');\n            document.body.appendChild(scriptNode);\n            const setAttributeFromEvent = (event) => {\n                const scriptStatus = event.type === 'load' ? 'ready' : 'error';\n                scriptNode === null || scriptNode === void 0 ? void 0 : scriptNode.setAttribute('data-status', scriptStatus);\n            };\n            scriptNode.addEventListener('load', setAttributeFromEvent);\n            scriptNode.addEventListener('error', setAttributeFromEvent);\n        }\n        else {\n            setStatus((_b = (_a = script.status) !== null && _a !== void 0 ? _a : cachedScriptStatus) !== null && _b !== void 0 ? _b : 'loading');\n        }\n        const setStateFromEvent = (event) => {\n            const newStatus = event.type === 'load' ? 'ready' : 'error';\n            setStatus(newStatus);\n            cachedScriptStatuses[src] = newStatus;\n        };\n        scriptNode.addEventListener('load', setStateFromEvent);\n        scriptNode.addEventListener('error', setStateFromEvent);\n        return () => {\n            if (scriptNode) {\n                scriptNode.removeEventListener('load', setStateFromEvent);\n                scriptNode.removeEventListener('error', setStateFromEvent);\n            }\n            if (scriptNode && (options === null || options === void 0 ? void 0 : options.removeOnUnmount)) {\n                scriptNode.remove();\n            }\n        };\n    }, [src, options === null || options === void 0 ? void 0 : options.shouldPreventLoad, options === null || options === void 0 ? void 0 : options.removeOnUnmount]);\n    return status;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useScript);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlU2NyaXB0L3VzZVNjcmlwdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBLHVEQUF1RCxJQUFJO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVNjcmlwdFxcdXNlU2NyaXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5jb25zdCBjYWNoZWRTY3JpcHRTdGF0dXNlcyA9IHt9O1xuZnVuY3Rpb24gZ2V0U2NyaXB0Tm9kZShzcmMpIHtcbiAgICBjb25zdCBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3NyYz1cIiR7c3JjfVwiXWApO1xuICAgIGNvbnN0IHN0YXR1cyA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZSxcbiAgICAgICAgc3RhdHVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB1c2VTY3JpcHQoc3JjLCBvcHRpb25zKSB7XG4gICAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXNyYyB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZFByZXZlbnRMb2FkKSkge1xuICAgICAgICAgICAgcmV0dXJuICdpZGxlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiAnbG9hZGluZyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IGNhY2hlZFNjcmlwdFN0YXR1c2VzW3NyY10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdsb2FkaW5nJztcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXNyYyB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZFByZXZlbnRMb2FkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhY2hlZFNjcmlwdFN0YXR1cyA9IGNhY2hlZFNjcmlwdFN0YXR1c2VzW3NyY107XG4gICAgICAgIGlmIChjYWNoZWRTY3JpcHRTdGF0dXMgPT09ICdyZWFkeScgfHwgY2FjaGVkU2NyaXB0U3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICBzZXRTdGF0dXMoY2FjaGVkU2NyaXB0U3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY3JpcHQgPSBnZXRTY3JpcHROb2RlKHNyYyk7XG4gICAgICAgIGxldCBzY3JpcHROb2RlID0gc2NyaXB0Lm5vZGU7XG4gICAgICAgIGlmICghc2NyaXB0Tm9kZSkge1xuICAgICAgICAgICAgc2NyaXB0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgc2NyaXB0Tm9kZS5zcmMgPSBzcmM7XG4gICAgICAgICAgICBzY3JpcHROb2RlLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjcmlwdE5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycsICdsb2FkaW5nJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdE5vZGUpO1xuICAgICAgICAgICAgY29uc3Qgc2V0QXR0cmlidXRlRnJvbUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0U3RhdHVzID0gZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ3JlYWR5JyA6ICdlcnJvcic7XG4gICAgICAgICAgICAgICAgc2NyaXB0Tm9kZSA9PT0gbnVsbCB8fCBzY3JpcHROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzY3JpcHROb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnLCBzY3JpcHRTdGF0dXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNjcmlwdE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNldEF0dHJpYnV0ZUZyb21FdmVudCk7XG4gICAgICAgICAgICBzY3JpcHROb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2V0QXR0cmlidXRlRnJvbUV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFN0YXR1cygoX2IgPSAoX2EgPSBzY3JpcHQuc3RhdHVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjYWNoZWRTY3JpcHRTdGF0dXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdsb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0U3RhdGVGcm9tRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdyZWFkeScgOiAnZXJyb3InO1xuICAgICAgICAgICAgc2V0U3RhdHVzKG5ld1N0YXR1cyk7XG4gICAgICAgICAgICBjYWNoZWRTY3JpcHRTdGF0dXNlc1tzcmNdID0gbmV3U3RhdHVzO1xuICAgICAgICB9O1xuICAgICAgICBzY3JpcHROb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzZXRTdGF0ZUZyb21FdmVudCk7XG4gICAgICAgIHNjcmlwdE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZXRTdGF0ZUZyb21FdmVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2NyaXB0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHNjcmlwdE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNldFN0YXRlRnJvbUV2ZW50KTtcbiAgICAgICAgICAgICAgICBzY3JpcHROb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2V0U3RhdGVGcm9tRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcmlwdE5vZGUgJiYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZW1vdmVPblVubW91bnQpKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0Tm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbc3JjLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2hvdWxkUHJldmVudExvYWQsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZW1vdmVPblVubW91bnRdKTtcbiAgICByZXR1cm4gc3RhdHVzO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlU2NyaXB0O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useScript/useScript.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSessionStorage/useSessionStorage.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSessionStorage/useSessionStorage.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useSessionStorage(key, initialValue) {\n    const readValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (typeof window === 'undefined') {\n            return initialValue;\n        }\n        try {\n            const item = window.sessionStorage.getItem(key);\n            return item ? parseJSON(item) : initialValue;\n        }\n        catch (error) {\n            console.warn(`Error reading sessionStorage key ${key}:`, error);\n            return initialValue;\n        }\n    }, [initialValue, key]);\n    const [storedValue, setStoredValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(readValue);\n    const setValue = (0,___WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(value => {\n        if (typeof window == 'undefined') {\n            console.warn(`Tried setting sessionStorage key ${key} even though environment is not a client`);\n        }\n        try {\n            const newValue = value instanceof Function ? value(storedValue) : value;\n            window.sessionStorage.setItem(key, JSON.stringify(newValue));\n            setStoredValue(newValue);\n            window.dispatchEvent(new Event('session-storage'));\n        }\n        catch (error) {\n            console.warn(`Error setting sessionStorage key ${key}:`, error);\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        setStoredValue(readValue());\n    }, []);\n    const handleStorageChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event) => {\n        if ((event === null || event === void 0 ? void 0 : event.key) && event.key !== key) {\n            return;\n        }\n        setStoredValue(readValue());\n    }, [key, readValue]);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('storage', handleStorageChange);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('session-storage', handleStorageChange);\n    return [storedValue, setValue];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useSessionStorage);\nfunction parseJSON(value) {\n    try {\n        return value === 'undefined' ? undefined : JSON.parse(value !== null && value !== void 0 ? value : '');\n    }\n    catch (_a) {\n        console.log('parsing error on', { value });\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlU2Vzc2lvblN0b3JhZ2UvdXNlU2Vzc2lvblN0b3JhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRDtBQUNGO0FBQ3hEO0FBQ0Esc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsSUFBSTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMLDBDQUEwQywrQ0FBUTtBQUNsRCxxQkFBcUIsbURBQWdCO0FBQ3JDO0FBQ0EsOERBQThELElBQUk7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxJQUFJO0FBQ2xFO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBLEtBQUs7QUFDTCxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxtREFBZ0I7QUFDcEIsSUFBSSxtREFBZ0I7QUFDcEI7QUFDQTtBQUNBLGlFQUFlLGlCQUFpQixFQUFDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVNlc3Npb25TdG9yYWdlXFx1c2VTZXNzaW9uU3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFdmVudENhbGxiYWNrLCB1c2VFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlU2Vzc2lvblN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUpIHtcbiAgICBjb25zdCByZWFkVmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbSA/IHBhcnNlSlNPTihpdGVtKSA6IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRXJyb3IgcmVhZGluZyBzZXNzaW9uU3RvcmFnZSBrZXkg4oCcJHtrZXl94oCdOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCBbaW5pdGlhbFZhbHVlLCBrZXldKTtcbiAgICBjb25zdCBbc3RvcmVkVmFsdWUsIHNldFN0b3JlZFZhbHVlXSA9IHVzZVN0YXRlKHJlYWRWYWx1ZSk7XG4gICAgY29uc3Qgc2V0VmFsdWUgPSB1c2VFdmVudENhbGxiYWNrKHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVHJpZWQgc2V0dGluZyBzZXNzaW9uU3RvcmFnZSBrZXkg4oCcJHtrZXl94oCdIGV2ZW4gdGhvdWdoIGVudmlyb25tZW50IGlzIG5vdCBhIGNsaWVudGApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB2YWx1ZShzdG9yZWRWYWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpKTtcbiAgICAgICAgICAgIHNldFN0b3JlZFZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2Vzc2lvbi1zdG9yYWdlJykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBzZXR0aW5nIHNlc3Npb25TdG9yYWdlIGtleSDigJwke2tleX3igJ06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0U3RvcmVkVmFsdWUocmVhZFZhbHVlKCkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVTdG9yYWdlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICgoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50LmtleSkgJiYgZXZlbnQua2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTdG9yZWRWYWx1ZShyZWFkVmFsdWUoKSk7XG4gICAgfSwgW2tleSwgcmVhZFZhbHVlXSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoJ3Nlc3Npb24tc3RvcmFnZScsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpO1xuICAgIHJldHVybiBbc3RvcmVkVmFsdWUsIHNldFZhbHVlXTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZVNlc3Npb25TdG9yYWdlO1xuZnVuY3Rpb24gcGFyc2VKU09OKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEpTT04ucGFyc2UodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3BhcnNpbmcgZXJyb3Igb24nLCB7IHZhbHVlIH0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSessionStorage/useSessionStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSsr/useSsr.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSsr/useSsr.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction useSsr() {\n    const isDOM = typeof window !== 'undefined' &&\n        window.document &&\n        window.document.documentElement;\n    return {\n        isBrowser: isDOM,\n        isServer: !isDOM,\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useSsr);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlU3NyL3VzZVNzci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsTUFBTSxFQUFDIiwic291cmNlcyI6WyJEOlxcVU5JVFktVEFMS1xcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcbm9kZV9tb2R1bGVzXFx1c2Vob29rcy10c1xcZGlzdFxcZXNtXFx1c2VTc3JcXHVzZVNzci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB1c2VTc3IoKSB7XG4gICAgY29uc3QgaXNET00gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0Jyb3dzZXI6IGlzRE9NLFxuICAgICAgICBpc1NlcnZlcjogIWlzRE9NLFxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VTc3I7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useSsr/useSsr.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useStep/useStep.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useStep/useStep.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useStep(maxStep) {\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const canGoToNextStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => currentStep + 1 <= maxStep, [currentStep, maxStep]);\n    const canGoToPrevStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => currentStep - 1 >= 1, [currentStep]);\n    const setStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(step => {\n        const newStep = step instanceof Function ? step(currentStep) : step;\n        if (newStep >= 1 && newStep <= maxStep) {\n            setCurrentStep(newStep);\n            return;\n        }\n        throw new Error('Step not valid');\n    }, [maxStep, currentStep]);\n    const goToNextStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (canGoToNextStep) {\n            setCurrentStep(step => step + 1);\n        }\n    }, [canGoToNextStep]);\n    const goToPrevStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (canGoToPrevStep) {\n            setCurrentStep(step => step - 1);\n        }\n    }, [canGoToPrevStep]);\n    const reset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        setCurrentStep(1);\n    }, []);\n    return [\n        currentStep,\n        {\n            goToNextStep,\n            goToPrevStep,\n            canGoToNextStep,\n            canGoToPrevStep,\n            setStep,\n            reset,\n        },\n    ];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useStep);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlU3RlcC91c2VTdGVwLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUN2RDtBQUNBLDBDQUEwQywrQ0FBUTtBQUNsRCw0QkFBNEIsOENBQU87QUFDbkMsNEJBQTRCLDhDQUFPO0FBQ25DLG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQixrREFBVztBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlFQUFlLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlU3RlcFxcdXNlU3RlcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiB1c2VTdGVwKG1heFN0ZXApIHtcbiAgICBjb25zdCBbY3VycmVudFN0ZXAsIHNldEN1cnJlbnRTdGVwXSA9IHVzZVN0YXRlKDEpO1xuICAgIGNvbnN0IGNhbkdvVG9OZXh0U3RlcCA9IHVzZU1lbW8oKCkgPT4gY3VycmVudFN0ZXAgKyAxIDw9IG1heFN0ZXAsIFtjdXJyZW50U3RlcCwgbWF4U3RlcF0pO1xuICAgIGNvbnN0IGNhbkdvVG9QcmV2U3RlcCA9IHVzZU1lbW8oKCkgPT4gY3VycmVudFN0ZXAgLSAxID49IDEsIFtjdXJyZW50U3RlcF0pO1xuICAgIGNvbnN0IHNldFN0ZXAgPSB1c2VDYWxsYmFjayhzdGVwID0+IHtcbiAgICAgICAgY29uc3QgbmV3U3RlcCA9IHN0ZXAgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHN0ZXAoY3VycmVudFN0ZXApIDogc3RlcDtcbiAgICAgICAgaWYgKG5ld1N0ZXAgPj0gMSAmJiBuZXdTdGVwIDw9IG1heFN0ZXApIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKG5ld1N0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3RlcCBub3QgdmFsaWQnKTtcbiAgICB9LCBbbWF4U3RlcCwgY3VycmVudFN0ZXBdKTtcbiAgICBjb25zdCBnb1RvTmV4dFN0ZXAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjYW5Hb1RvTmV4dFN0ZXApIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKHN0ZXAgPT4gc3RlcCArIDEpO1xuICAgICAgICB9XG4gICAgfSwgW2NhbkdvVG9OZXh0U3RlcF0pO1xuICAgIGNvbnN0IGdvVG9QcmV2U3RlcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGNhbkdvVG9QcmV2U3RlcCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoc3RlcCA9PiBzdGVwIC0gMSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2FuR29Ub1ByZXZTdGVwXSk7XG4gICAgY29uc3QgcmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRTdGVwKDEpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gW1xuICAgICAgICBjdXJyZW50U3RlcCxcbiAgICAgICAge1xuICAgICAgICAgICAgZ29Ub05leHRTdGVwLFxuICAgICAgICAgICAgZ29Ub1ByZXZTdGVwLFxuICAgICAgICAgICAgY2FuR29Ub05leHRTdGVwLFxuICAgICAgICAgICAgY2FuR29Ub1ByZXZTdGVwLFxuICAgICAgICAgICAgc2V0U3RlcCxcbiAgICAgICAgICAgIHJlc2V0LFxuICAgICAgICB9LFxuICAgIF07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VTdGVwO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useStep/useStep.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTernaryDarkMode/useTernaryDarkMode.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTernaryDarkMode/useTernaryDarkMode.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nconst COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)';\nfunction useTernaryDarkMode() {\n    const isDarkOS = (0,___WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)(COLOR_SCHEME_QUERY);\n    const [ternaryDarkMode, setTernaryDarkMode] = (0,___WEBPACK_IMPORTED_MODULE_1__.useLocalStorage)('usehooks-ts-ternary-dark-mode', 'system');\n    const [isDarkMode, setDarkMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(isDarkOS);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(() => {\n        if (ternaryDarkMode === 'system') {\n            setDarkMode(isDarkOS);\n        }\n    }, [isDarkOS]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        switch (ternaryDarkMode) {\n            case 'light':\n                setDarkMode(false);\n                break;\n            case 'system':\n                setDarkMode(isDarkOS);\n                break;\n            case 'dark':\n                setDarkMode(true);\n                break;\n        }\n    }, [ternaryDarkMode, isDarkOS]);\n    function toggleTernaryDarkMode() {\n        const toggleDict = {\n            light: 'system',\n            system: 'dark',\n            dark: 'light',\n        };\n        setTernaryDarkMode(prevMode => toggleDict[prevMode]);\n    }\n    return {\n        isDarkMode,\n        ternaryDarkMode,\n        setTernaryDarkMode,\n        toggleTernaryDarkMode,\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTernaryDarkMode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlVGVybmFyeURhcmtNb2RlL3VzZVRlcm5hcnlEYXJrTW9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDO0FBQ3lCO0FBQ3JFO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQWE7QUFDbEMsa0RBQWtELGtEQUFlO0FBQ2pFLHNDQUFzQywrQ0FBUTtBQUM5QyxJQUFJLGtEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxrQkFBa0IsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlVGVybmFyeURhcmtNb2RlXFx1c2VUZXJuYXJ5RGFya01vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxvY2FsU3RvcmFnZSwgdXNlTWVkaWFRdWVyeSwgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAnLi4nO1xuY29uc3QgQ09MT1JfU0NIRU1FX1FVRVJZID0gJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknO1xuZnVuY3Rpb24gdXNlVGVybmFyeURhcmtNb2RlKCkge1xuICAgIGNvbnN0IGlzRGFya09TID0gdXNlTWVkaWFRdWVyeShDT0xPUl9TQ0hFTUVfUVVFUlkpO1xuICAgIGNvbnN0IFt0ZXJuYXJ5RGFya01vZGUsIHNldFRlcm5hcnlEYXJrTW9kZV0gPSB1c2VMb2NhbFN0b3JhZ2UoJ3VzZWhvb2tzLXRzLXRlcm5hcnktZGFyay1tb2RlJywgJ3N5c3RlbScpO1xuICAgIGNvbnN0IFtpc0RhcmtNb2RlLCBzZXREYXJrTW9kZV0gPSB1c2VTdGF0ZShpc0RhcmtPUyk7XG4gICAgdXNlVXBkYXRlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHRlcm5hcnlEYXJrTW9kZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgICAgIHNldERhcmtNb2RlKGlzRGFya09TKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0RhcmtPU10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGVybmFyeURhcmtNb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdsaWdodCc6XG4gICAgICAgICAgICAgICAgc2V0RGFya01vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3lzdGVtJzpcbiAgICAgICAgICAgICAgICBzZXREYXJrTW9kZShpc0RhcmtPUyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXJrJzpcbiAgICAgICAgICAgICAgICBzZXREYXJrTW9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sIFt0ZXJuYXJ5RGFya01vZGUsIGlzRGFya09TXSk7XG4gICAgZnVuY3Rpb24gdG9nZ2xlVGVybmFyeURhcmtNb2RlKCkge1xuICAgICAgICBjb25zdCB0b2dnbGVEaWN0ID0ge1xuICAgICAgICAgICAgbGlnaHQ6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgc3lzdGVtOiAnZGFyaycsXG4gICAgICAgICAgICBkYXJrOiAnbGlnaHQnLFxuICAgICAgICB9O1xuICAgICAgICBzZXRUZXJuYXJ5RGFya01vZGUocHJldk1vZGUgPT4gdG9nZ2xlRGljdFtwcmV2TW9kZV0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpc0RhcmtNb2RlLFxuICAgICAgICB0ZXJuYXJ5RGFya01vZGUsXG4gICAgICAgIHNldFRlcm5hcnlEYXJrTW9kZSxcbiAgICAgICAgdG9nZ2xlVGVybmFyeURhcmtNb2RlLFxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VUZXJuYXJ5RGFya01vZGU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTernaryDarkMode/useTernaryDarkMode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTimeout/useTimeout.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTimeout/useTimeout.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useTimeout(callback, delay) {\n    const savedCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (!delay && delay !== 0) {\n            return;\n        }\n        const id = setTimeout(() => savedCallback.current(), delay);\n        return () => clearTimeout(id);\n    }, [delay]);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTimeout);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlVGltZW91dC91c2VUaW1lb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEM7QUFDSztBQUMvQztBQUNBLDBCQUEwQiw2Q0FBTTtBQUNoQyxJQUFJLDREQUF5QjtBQUM3QjtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlFQUFlLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtcmVhY3RcXG5vZGVfbW9kdWxlc1xcdXNlaG9va3MtdHNcXGRpc3RcXGVzbVxcdXNlVGltZW91dFxcdXNlVGltZW91dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLic7XG5mdW5jdGlvbiB1c2VUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSkge1xuICAgIGNvbnN0IHNhdmVkQ2FsbGJhY2sgPSB1c2VSZWYoY2FsbGJhY2spO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzYXZlZENhbGxiYWNrLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgICB9LCBbY2FsbGJhY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRlbGF5ICYmIGRlbGF5ICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHNhdmVkQ2FsbGJhY2suY3VycmVudCgpLCBkZWxheSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQoaWQpO1xuICAgIH0sIFtkZWxheV0pO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlVGltZW91dDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useTimeout/useTimeout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useToggle/useToggle.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useToggle/useToggle.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useToggle(defaultValue) {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!!defaultValue);\n    const toggle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => setValue(x => !x), []);\n    return [value, toggle, setValue];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useToggle);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlVG9nZ2xlL3VzZVRvZ2dsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDOUM7QUFDQSw4QkFBOEIsK0NBQVE7QUFDdEMsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQSxpRUFBZSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVRvZ2dsZVxcdXNlVG9nZ2xlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIHVzZVRvZ2dsZShkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCEhZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCB0b2dnbGUgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRWYWx1ZSh4ID0+ICF4KSwgW10pO1xuICAgIHJldHVybiBbdmFsdWUsIHRvZ2dsZSwgc2V0VmFsdWVdO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlVG9nZ2xlO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useToggle/useToggle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useUpdateEffect/useUpdateEffect.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useUpdateEffect/useUpdateEffect.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useUpdateEffect(effect, deps) {\n    const isFirst = (0,___WEBPACK_IMPORTED_MODULE_1__.useIsFirstRender)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (!isFirst) {\n            return effect();\n        }\n    }, deps);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUpdateEffect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlVXBkYXRlRWZmZWN0L3VzZVVwZGF0ZUVmZmVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtDO0FBQ0k7QUFDdEM7QUFDQSxvQkFBb0IsbURBQWdCO0FBQ3BDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVVwZGF0ZUVmZmVjdFxcdXNlVXBkYXRlRWZmZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzRmlyc3RSZW5kZXIgfSBmcm9tICcuLic7XG5mdW5jdGlvbiB1c2VVcGRhdGVFZmZlY3QoZWZmZWN0LCBkZXBzKSB7XG4gICAgY29uc3QgaXNGaXJzdCA9IHVzZUlzRmlyc3RSZW5kZXIoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzRmlyc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBlZmZlY3QoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlcHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlVXBkYXRlRWZmZWN0O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useUpdateEffect/useUpdateEffect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useWindowSize/useWindowSize.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useWindowSize/useWindowSize.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/index.js\");\n\n\nfunction useWindowSize() {\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        width: 0,\n        height: 0,\n    });\n    const handleSize = () => {\n        setWindowSize({\n            width: window.innerWidth,\n            height: window.innerHeight,\n        });\n    };\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useEventListener)('resize', handleSize);\n    (0,___WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(() => {\n        handleSize();\n    }, []);\n    return windowSize;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useWindowSize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9ub2RlX21vZHVsZXMvdXNlaG9va3MtdHMvZGlzdC9lc20vdXNlV2luZG93U2l6ZS91c2VXaW5kb3dTaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUM7QUFDZ0M7QUFDakU7QUFDQSx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLElBQUksbURBQWdCO0FBQ3BCLElBQUksNERBQXlCO0FBQzdCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxhQUFhLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxVTklUWS1UQUxLXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxub2RlX21vZHVsZXNcXHVzZWhvb2tzLXRzXFxkaXN0XFxlc21cXHVzZVdpbmRvd1NpemVcXHVzZVdpbmRvd1NpemUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFdmVudExpc3RlbmVyLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4nO1xuZnVuY3Rpb24gdXNlV2luZG93U2l6ZSgpIHtcbiAgICBjb25zdCBbd2luZG93U2l6ZSwgc2V0V2luZG93U2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgc2V0V2luZG93U2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB1c2VFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVTaXplKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaGFuZGxlU2l6ZSgpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gd2luZG93U2l6ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZVdpbmRvd1NpemU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/node_modules/usehooks-ts/dist/esm/useWindowSize/useWindowSize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-styles/dist/general/index.css":
/*!************************************************************************!*\
  !*** ./node_modules/@livekit/components-styles/dist/general/index.css ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"50acbf9d58bb\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1zdHlsZXMvZGlzdC9nZW5lcmFsL2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsiRDpcXFVOSVRZLVRBTEtcXG5vZGVfbW9kdWxlc1xcQGxpdmVraXRcXGNvbXBvbmVudHMtc3R5bGVzXFxkaXN0XFxnZW5lcmFsXFxpbmRleC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI1MGFjYmY5ZDU4YmJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-styles/dist/general/index.css\n");

/***/ })

};
;